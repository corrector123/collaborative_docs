[2025-05-25 08:29:20 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-25 08:29:20 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-25 08:29:20 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-25 08:29:20 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-25 08:29:20 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-25 08:29:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-25 08:29:27 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-25 08:29:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-25 08:29:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-25 08:29:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-25 08:29:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-25 08:29:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=6rvu8gqz5d 
[2025-05-25 08:29:29 +08:00Z] [INFO] - 用户连接... 
[2025-05-25 08:29:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-25 08:29:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-25 08:29:29 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-25 08:29:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-25 08:29:29 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-25 08:29:29 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-25 08:29:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-25 08:29:31 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["LcrJ2ZQai5CLG3ze4OfWT","Kyv0pgp-6Tq2ZwBGtBGHx",{"type":"Buffer","data":[1,1,202,160,168,136,6,0,4,1,5,113,117,105,108,108,13,104,229,147,136,229,147,136,229,147,136,229,147,136,0]},"1","1"] 
[2025-05-25 08:29:31 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-25 08:29:31 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-25 08:29:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-25 08:29:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-25 08:29:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-25 08:29:33 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["LcrJ2ZQai5CLG3ze4OfWT"] 
[2025-05-25 08:29:33 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-25 08:29:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-25 08:29:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-25 08:29:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["xCDiTJ4uoREf-utpBacD5"] 
[2025-05-25 08:29:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-25 08:29:39 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=6rvu8gqz5d 
[2025-05-25 08:33:51 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-25 08:33:51 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-25 08:33:51 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-25 08:34:41 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-25 08:34:41 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-25 08:34:41 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-25 08:34:41 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-25 08:34:41 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-25 09:36:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-25 09:36:36 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-25 09:36:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-25 09:36:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-25 09:36:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-25 09:36:37 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-25 09:36:37 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=f1j56rhoht 
[2025-05-25 09:36:37 +08:00Z] [INFO] - 用户连接... 
[2025-05-25 09:36:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-25 09:36:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-25 09:36:37 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-25 09:36:37 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-25 09:36:37 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-25 09:36:37 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-25 09:36:37 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
