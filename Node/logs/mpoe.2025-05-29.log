[2025-05-29 09:39:47 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 09:39:47 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 09:39:48 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 09:39:48 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 09:39:48 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 09:39:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 09:39:53 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 09:39:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:39:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:39:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:39:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 09:39:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 09:39:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:40:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:40:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:40:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:42:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 09:42:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 09:42:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:42:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:42:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:42:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:42:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 09:42:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 09:42:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:47:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:47:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:47:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:47:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 09:47:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 09:47:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:50:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:50:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:50:24 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:50:25 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 09:50:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:50:25 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:50:25 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=76g0qrp96uo 
[2025-05-29 09:50:58 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=76g0qrp96uo 
[2025-05-29 09:50:58 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:50:58 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2yssu7ms57f 
[2025-05-29 09:51:31 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2yssu7ms57f 
[2025-05-29 09:51:31 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:51:31 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uzwor03ab8o 
[2025-05-29 09:52:02 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uzwor03ab8o 
[2025-05-29 09:52:03 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:52:03 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ero3vr1xe7t 
[2025-05-29 09:52:35 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ero3vr1xe7t 
[2025-05-29 09:52:36 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:52:36 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xs38g3ninnn 
[2025-05-29 09:53:08 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xs38g3ninnn 
[2025-05-29 09:53:09 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:53:09 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=z2ax0ppi59m 
[2025-05-29 09:53:41 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=z2ax0ppi59m 
[2025-05-29 09:53:42 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:53:42 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xdtlprvo6vf 
[2025-05-29 09:54:14 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xdtlprvo6vf 
[2025-05-29 09:54:15 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:54:15 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ebmo76sitjs 
[2025-05-29 09:54:47 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ebmo76sitjs 
[2025-05-29 09:54:48 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:54:48 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zi9p69erh1 
[2025-05-29 09:55:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zi9p69erh1 
[2025-05-29 09:55:21 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:55:21 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=czxuk0nzi5i 
[2025-05-29 09:55:53 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=czxuk0nzi5i 
[2025-05-29 09:55:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:55:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=sstwg6wtton 
[2025-05-29 09:56:26 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=sstwg6wtton 
[2025-05-29 09:56:27 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 09:56:27 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=t8zh1wvbz1 
[2025-05-29 09:56:44 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=t8zh1wvbz1 
[2025-05-29 09:56:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:56:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:56:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:56:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 09:56:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 09:56:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:56:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:56:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:56:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:09:51 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 10:09:51 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=c0dzpa3tyel 
[2025-05-29 10:09:51 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 10:09:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 10:09:51 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 10:09:51 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 10:09:51 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:09:51 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:09:51 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 10:09:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:10:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:10:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:10:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:10:11 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 10:10:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 10:10:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 10:10:11 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:10:11 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=2v7v6t35cmr 
[2025-05-29 10:10:11 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:10:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:10:11 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 10:10:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:10:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:10:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:10:12 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:10:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 10:10:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:10:14 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 10:10:14 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=syg5vy026ag 
[2025-05-29 10:10:15 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=syg5vy026ag 
[2025-05-29 10:10:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:10:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:10:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:10:16 +08:00Z] [INFO] - 用户加入房间 kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 10:10:16 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 10:10:16 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=qr9bi540m9 
[2025-05-29 10:10:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 10:10:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["kMXvDPe2A4kwfc0UTtaNm"] 
[2025-05-29 10:10:16 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:10:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:10:16 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='kMXvDPe2A4kwfc0UTtaNm' AND files.currenthead=versions.vid 
[2025-05-29 10:10:16 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:10:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:10:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:10:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:10:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='345' AND filetype='excel' AND filesuffix='xlsx' AND owner='1' 
[2025-05-29 10:10:21 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('8GdCq3Jgp9RE4DmSgu2fS','345','excel','xlsx','1') 
[2025-05-29 10:10:21 +08:00Z] [INFO] - SQL (direct): INSERT INTO workbooks(gridKey,fileid) VALUES('k3FU0vmnuSqjDhUj7AtY0','8GdCq3Jgp9RE4DmSgu2fS') 
[2025-05-29 10:10:21 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 10:10:22 +08:00Z] [INFO] - SQL (direct): SELECT fl.filename title,wb.gridKey,wb.row,wb.column,wb.lang FROM files fl,workbooks wb WHERE fl.fileid= wb.fileid AND fl.fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 10:10:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取Excel基础信息 
[2025-05-29 10:10:22 +08:00Z] [INFO] - SQL (direct): SELECT fl.filename title,wb.gridKey,wb.row,wb.column,wb.lang FROM files fl,workbooks wb WHERE fl.fileid= wb.fileid AND fl.fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 10:10:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM worksheets WHERE gridKey='k3FU0vmnuSqjDhUj7AtY0' 
[2025-05-29 10:10:22 +08:00Z] [INFO] - SQL (direct): INSERT INTO worksheets VALUES('gKrxxkYzmC2GI5lTTVg-E','k3FU0vmnuSqjDhUj7AtY0','sheet 1',0,0,0,36,26,19,73) 
[2025-05-29 10:10:22 +08:00Z] [INFO] - luckysheet 用户连接 
[2025-05-29 10:10:24 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=c0dzpa3tyel 
[2025-05-29 10:10:24 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 10:10:24 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=t5fzw2z95uc 
[2025-05-29 10:10:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM configs WHERE configs.index='Sheet_56cpe0lKhekL_1748484622472' AND configs.type='merge' 
[2025-05-29 10:10:24 +08:00Z] [ERROR] - SQL执行错误: ER_NO_SUCH_TABLE: Table 'mpoe.configs' doesn't exist -- SQL: SELECT * FROM configs WHERE configs.index='Sheet_56cpe0lKhekL_1748484622472' AND configs.type='merge' -- Params: N/A 
[2025-05-29 10:11:09 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 10:11:09 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 10:11:09 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 10:11:09 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 10:11:09 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 10:11:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 10:11:15 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:11:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:11:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:11:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:11:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 10:11:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 10:11:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:11:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:11:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:11:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:11:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 10:11:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 10:11:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:11:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:11:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:11:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:15:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 10:15:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 10:15:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:15:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:15:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:15:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:15:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 10:15:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 10:15:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:15:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:15:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:15:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:19:15 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 10:19:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:19:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:19:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:19:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:19:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 10:19:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 10:19:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:19:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:19:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:19:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:37:40 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:37:40 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=fek2m76qfru 
[2025-05-29 10:37:40 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 10:37:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 10:37:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 10:37:40 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:37:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:37:40 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 10:37:40 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 10:37:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:37:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:37:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:37:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:38:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 10:38:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 10:38:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:38:10 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=fek2m76qfru 
[2025-05-29 10:38:10 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:38:10 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=fgxahf85ggj 
[2025-05-29 10:38:41 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=fgxahf85ggj 
[2025-05-29 10:38:42 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:38:42 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=fd3jystnvgg 
[2025-05-29 10:39:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=fd3jystnvgg 
[2025-05-29 10:39:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:39:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=trvlcuw4llm 
[2025-05-29 10:40:45 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=trvlcuw4llm 
[2025-05-29 10:40:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:40:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=gdiev3lgm3 
[2025-05-29 10:41:45 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=gdiev3lgm3 
[2025-05-29 10:41:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:41:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=ya58uni34s 
[2025-05-29 10:42:45 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=ya58uni34s 
[2025-05-29 10:42:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:42:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=mb65my76jje 
[2025-05-29 10:43:31 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=mb65my76jje 
[2025-05-29 10:43:31 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:43:31 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=7t9qettq2h5 
[2025-05-29 10:43:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:43:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:43:31 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:43:33 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 10:43:33 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:43:33 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 10:43:33 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=d4fyrwi5v7n 
[2025-05-29 10:43:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=d4fyrwi5v7n 
[2025-05-29 10:43:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:43:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:43:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:43:35 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 10:43:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 10:43:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 10:43:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=v9scxqj6x4 
[2025-05-29 10:43:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 10:43:35 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:43:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:43:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["FzWsdJRTiaQ0mf1JRtT56"] 
[2025-05-29 10:43:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 10:43:42 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["e4A_vkZOsbjWETB_E6_G0"] 
[2025-05-29 10:43:42 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 10:43:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["FzWsdJRTiaQ0mf1JRtT56"] 
[2025-05-29 10:43:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 10:43:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:43:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:43:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:43:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 10:43:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 10:43:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:45:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:45:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:45:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:45:22 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 10:45:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:45:22 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 10:45:22 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=7hy3j5dg5ok 
[2025-05-29 10:45:24 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=7hy3j5dg5ok 
[2025-05-29 10:45:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:45:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:45:24 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:45:25 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 10:45:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:45:25 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 10:45:25 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1dc93kjut7g 
[2025-05-29 10:45:58 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1dc93kjut7g 
[2025-05-29 10:45:58 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 10:45:58 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=er0m9o1f31p 
[2025-05-29 10:46:31 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=er0m9o1f31p 
[2025-05-29 10:46:31 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 10:46:31 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0pt9t5w89izg 
[2025-05-29 10:46:48 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0pt9t5w89izg 
[2025-05-29 10:46:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:46:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:46:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:46:52 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 10:46:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 10:46:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=gvdrujy68ol 
[2025-05-29 10:46:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 10:46:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 10:46:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:46:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:46:52 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 10:46:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:46:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:46:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:46:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:46:56 +08:00Z] [INFO] - 用户加入房间 RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 10:46:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='RUc8w3XyXmxD1KbA5ZO1o' AND OWNER ='1' 
[2025-05-29 10:46:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 10:46:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=hhvpixpswlt 
[2025-05-29 10:46:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["RUc8w3XyXmxD1KbA5ZO1o"] 
[2025-05-29 10:46:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:46:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:46:56 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='RUc8w3XyXmxD1KbA5ZO1o' AND files.currenthead=versions.vid 
[2025-05-29 10:46:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:46:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:46:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:46:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:46:59 +08:00Z] [INFO] - 用户加入房间 kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 10:46:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 10:46:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["kMXvDPe2A4kwfc0UTtaNm"] 
[2025-05-29 10:46:59 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 10:46:59 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=qdufr4r1iq 
[2025-05-29 10:46:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:46:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:46:59 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='kMXvDPe2A4kwfc0UTtaNm' AND files.currenthead=versions.vid 
[2025-05-29 10:46:59 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:47:01 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 10:47:01 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 10:47:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:47:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:47:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:47:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 10:47:12 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 10:47:12 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 10:47:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 10:47:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 10:47:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:47:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:47:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:47:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:47:22 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=gvdrujy68ol 
[2025-05-29 10:47:22 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 10:47:22 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=6vrsyvni5px 
[2025-05-29 10:47:29 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=hhvpixpswlt 
[2025-05-29 10:47:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 10:47:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=f9l34jm7d8v 
[2025-05-29 10:47:32 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=qdufr4r1iq 
[2025-05-29 10:47:32 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 10:47:32 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=di2ac8sxzll 
[2025-05-29 10:47:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=6vrsyvni5px 
[2025-05-29 10:47:55 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 10:47:55 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=zqm4gxx1jwm 
[2025-05-29 10:48:01 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 10:48:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:48:01 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 10:48:01 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=isqru4r9vm 
[2025-05-29 10:48:02 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=f9l34jm7d8v 
[2025-05-29 10:48:02 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 10:48:02 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=xgvix1jmq3e 
[2025-05-29 10:48:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=di2ac8sxzll 
[2025-05-29 10:48:05 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 10:48:05 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=el3hrb98wu6 
[2025-05-29 10:48:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 10:48:13 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["HbSJkx2RqfmDIHwcBgrRd"] 
[2025-05-29 10:48:13 +08:00Z] [INFO] - [saveVersion] 超过版本控制时限，创建新版本，fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 10:48:13 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["iWrKMuK5aQfJF5yqrWp79","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"测试hello\",\"font\":\"华文仿宋\",\"size\":56,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"first\"},{\"value\":\"\",\"type\":\"list\",\"valueList\":[{\"value\":\"hell\",\"font\":\"华文琥珀\",\"size\":16,\"strikeout\":true},{\"value\":\"o\",\"font\":\"华文琥珀\",\"strikeout\":true},{\"value\":\"w\",\"font\":\"华文琥珀\",\"underline\":true},{\"value\":\"o\",\"type\":\"text\",\"font\":\"华文琥珀\",\"underline\":true,\"strikeout\":false},{\"value\":\"rl\",\"type\":\"text\",\"font\":\"华文琥珀\",\"bold\":true,\"underline\":true,\"strikeout\":false},{\"value\":\"d\",\"type\":\"text\",\"font\":\"华文琥珀\",\"underline\":true,\"strikeout\":false}],\"listType\":\"ol\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"hello\",\"font\":\"Microsoft YaHei\",\"size\":24,\"bold\":true,\"rowFlex\":\"center\"},{\"value\":\"\\n\"},{\"value\":\"world\",\"font\":\"Microsoft YaHei\",\"size\":24,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"second\"},{\"value\":\"\\n\"},{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"vue\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"Yjs\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":67,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"canvas\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"editor\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":67,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"websocket\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":44,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":44},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":472,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":90.8},{\"width\":62.400000000000006},{\"width\":42.4},{\"width\":42},{\"width\":39.4},{\"width\":55.4}]},{\"value\":\"\\n\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"continue\",\"size\":22,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"third\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"break\",\"size\":20,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"fourth\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"pass\",\"size\":18,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"fifth\"},{\"value\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"}],\"footer\":[]}}","1"] 
[2025-05-29 10:48:13 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='iWrKMuK5aQfJF5yqrWp79' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 10:48:13 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 10:48:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=zqm4gxx1jwm 
[2025-05-29 10:48:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=v9scxqj6x4 
[2025-05-29 10:48:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=7t9qettq2h5 
[2025-05-29 10:48:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=el3hrb98wu6 
[2025-05-29 10:48:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=xgvix1jmq3e 
[2025-05-29 10:48:14 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=isqru4r9vm 
[2025-05-29 10:48:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 10:48:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:48:14 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 10:48:14 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=njxz3lltec 
[2025-05-29 10:48:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 10:48:25 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["iWrKMuK5aQfJF5yqrWp79"] 
[2025-05-29 10:48:25 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: iWrKMuK5aQfJF5yqrWp79, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 10:48:25 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"测试hello\",\"font\":\"华文仿宋\",\"size\":56,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"first\"},{\"value\":\"\",\"type\":\"list\",\"valueList\":[{\"value\":\"hell\",\"font\":\"华文琥珀\",\"size\":16,\"strikeout\":true},{\"value\":\"o\",\"font\":\"华文琥珀\",\"strikeout\":true},{\"value\":\"w\",\"font\":\"华文琥珀\",\"underline\":true},{\"value\":\"o\",\"type\":\"text\",\"font\":\"华文琥珀\",\"underline\":true,\"strikeout\":false},{\"value\":\"rl\",\"type\":\"text\",\"font\":\"华文琥珀\",\"bold\":true,\"underline\":true,\"strikeout\":false},{\"value\":\"d\",\"type\":\"text\",\"font\":\"华文琥珀\",\"underline\":true,\"strikeout\":false}],\"listType\":\"ol\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"hello\",\"font\":\"Microsoft YaHei\",\"size\":24,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"second\"},{\"value\":\"\\n\"},{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"vue\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"Yjs\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":67,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"canvas\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"editor\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":67,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"websocket\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":44,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":44},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":472,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":90.8},{\"width\":62.400000000000006},{\"width\":42.4},{\"width\":42},{\"width\":39.4},{\"width\":55.4}]},{\"value\":\"\\n\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"continue\",\"size\":22,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"third\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"break\",\"size\":20,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"fourth\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"pass\",\"size\":18,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"fifth\"},{\"value\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","iWrKMuK5aQfJF5yqrWp79"] 
[2025-05-29 10:48:25 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 10:48:39 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=njxz3lltec 
[2025-05-29 11:01:15 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 11:01:15 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 11:01:16 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 11:01:16 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 11:01:16 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 11:01:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 11:01:20 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:01:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:01:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:01:20 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:01:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:01:21 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:01:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:01:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:01:21 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:01:21 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=at1wsk6o4f4 
[2025-05-29 11:01:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:01:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:01:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:01:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:01:54 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=at1wsk6o4f4 
[2025-05-29 11:01:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:01:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2fvmq02d1ra 
[2025-05-29 11:02:25 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2fvmq02d1ra 
[2025-05-29 11:02:26 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:02:26 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8iaulsduki4 
[2025-05-29 11:02:58 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8iaulsduki4 
[2025-05-29 11:02:59 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:02:59 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xfollw7wbwb 
[2025-05-29 11:03:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xfollw7wbwb 
[2025-05-29 11:03:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:03:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pqit7cn56o9 
[2025-05-29 11:04:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pqit7cn56o9 
[2025-05-29 11:04:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:04:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=sb30xtfec3 
[2025-05-29 11:05:16 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 11:05:16 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 11:05:16 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 11:05:16 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 11:05:16 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 11:05:17 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:05:17 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1mtqf88q3kx 
[2025-05-29 11:05:19 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1mtqf88q3kx 
[2025-05-29 11:05:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 11:05:21 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:05:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:05:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:05:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:05:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:05:22 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:05:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:05:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:05:22 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:05:22 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=knxziucogne 
[2025-05-29 11:05:30 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["0lx7DE9gyGeVImJxLOwwy","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,230,181,139,232,175,149,104,101,108,108,111,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,228,187,191,229,174,139,34,44,34,115,105,122,101,34,58,53,54,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,105,114,115,116,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,108,105,115,116,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,115,105,122,101,34,58,49,54,44,34,115,116,114,105,107,101,111,117,116,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,111,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,115,116,114,105,107,101,111,117,116,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,119,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,111,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,44,123,34,118,97,108,117,101,34,58,34,114,108,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,98,111,108,100,34,58,116,114,117,101,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,44,123,34,118,97,108,117,101,34,58,34,100,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,93,44,34,108,105,115,116,84,121,112,101,34,58,34,111,108,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,34,44,34,102,111,110,116,34,58,34,77,105,99,114,111,115,111,102,116,32,89,97,72,101,105,34,44,34,115,105,122,101,34,58,50,52,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,115,101,99,111,110,100,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,97,98,108,101,34,44,34,116,114,76,105,115,116,34,58,91,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,118,117,101,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,89,106,115,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,54,55,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,99,97,110,118,97,115,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,101,100,105,116,111,114,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,54,55,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,119,101,98,115,111,99,107,101,116,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,52,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,52,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,93,44,34,119,105,100,116,104,34,58,53,53,51,46,57,57,57,57,57,57,57,57,57,57,57,57,57,44,34,104,101,105,103,104,116,34,58,52,55,50,44,34,99,111,108,103,114,111,117,112,34,58,91,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,57,48,46,56,125,44,123,34,119,105,100,116,104,34,58,54,50,46,52,48,48,48,48,48,48,48,48,48,48,48,48,48,54,125,44,123,34,119,105,100,116,104,34,58,52,50,46,52,125,44,123,34,119,105,100,116,104,34,58,52,50,125,44,123,34,119,105,100,116,104,34,58,51,57,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,93,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,99,111,110,116,105,110,117,101,34,44,34,115,105,122,101,34,58,50,50,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,116,104,105,114,100,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,98,114,101,97,107,34,44,34,115,105,122,101,34,58,50,48,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,111,117,114,116,104,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,112,97,115,115,34,44,34,115,105,122,101,34,58,49,56,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,105,102,116,104,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"1","1"] 
[2025-05-29 11:05:30 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:05:30 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:05:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:05:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:05:34 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["3cxg0JIwGMzvQXLInwxxp","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,230,181,139,232,175,149,104,101,108,108,111,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,228,187,191,229,174,139,34,44,34,115,105,122,101,34,58,53,54,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,105,114,115,116,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,108,105,115,116,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,115,105,122,101,34,58,49,54,44,34,115,116,114,105,107,101,111,117,116,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,111,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,115,116,114,105,107,101,111,117,116,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,119,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,111,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,44,123,34,118,97,108,117,101,34,58,34,114,108,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,98,111,108,100,34,58,116,114,117,101,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,44,123,34,118,97,108,117,101,34,58,34,100,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,93,44,34,108,105,115,116,84,121,112,101,34,58,34,111,108,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,34,44,34,102,111,110,116,34,58,34,77,105,99,114,111,115,111,102,116,32,89,97,72,101,105,34,44,34,115,105,122,101,34,58,50,52,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,115,101,99,111,110,100,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,97,98,108,101,34,44,34,116,114,76,105,115,116,34,58,91,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,118,117,101,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,89,106,115,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,54,55,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,99,97,110,118,97,115,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,101,100,105,116,111,114,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,54,55,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,119,101,98,115,111,99,107,101,116,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,52,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,52,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,93,44,34,119,105,100,116,104,34,58,53,53,51,46,57,57,57,57,57,57,57,57,57,57,57,57,57,44,34,104,101,105,103,104,116,34,58,52,55,50,44,34,99,111,108,103,114,111,117,112,34,58,91,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,57,48,46,56,125,44,123,34,119,105,100,116,104,34,58,54,50,46,52,48,48,48,48,48,48,48,48,48,48,48,48,48,54,125,44,123,34,119,105,100,116,104,34,58,52,50,46,52,125,44,123,34,119,105,100,116,104,34,58,52,50,125,44,123,34,119,105,100,116,104,34,58,51,57,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,93,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,99,111,110,116,105,110,117,101,34,44,34,115,105,122,101,34,58,50,50,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,116,104,105,114,100,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,98,114,101,97,107,34,44,34,115,105,122,101,34,58,50,48,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,111,117,114,116,104,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,112,97,115,115,34,44,34,115,105,122,101,34,58,49,56,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,105,102,116,104,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"2","1"] 
[2025-05-29 11:05:34 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:05:34 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:05:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:05:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:05:37 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["2ZBGklB3S3BzJq1R-MdB0","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,230,181,139,232,175,149,104,101,108,108,111,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,228,187,191,229,174,139,34,44,34,115,105,122,101,34,58,53,54,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,105,114,115,116,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,108,105,115,116,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,115,105,122,101,34,58,49,54,44,34,115,116,114,105,107,101,111,117,116,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,111,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,115,116,114,105,107,101,111,117,116,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,119,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,111,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,44,123,34,118,97,108,117,101,34,58,34,114,108,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,98,111,108,100,34,58,116,114,117,101,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,44,123,34,118,97,108,117,101,34,58,34,100,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,93,44,34,108,105,115,116,84,121,112,101,34,58,34,111,108,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,34,44,34,102,111,110,116,34,58,34,77,105,99,114,111,115,111,102,116,32,89,97,72,101,105,34,44,34,115,105,122,101,34,58,50,52,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,115,101,99,111,110,100,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,97,98,108,101,34,44,34,116,114,76,105,115,116,34,58,91,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,118,117,101,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,89,106,115,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,54,55,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,99,97,110,118,97,115,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,101,100,105,116,111,114,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,54,55,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,119,101,98,115,111,99,107,101,116,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,52,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,52,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,93,44,34,119,105,100,116,104,34,58,53,53,51,46,57,57,57,57,57,57,57,57,57,57,57,57,57,44,34,104,101,105,103,104,116,34,58,52,55,50,44,34,99,111,108,103,114,111,117,112,34,58,91,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,57,48,46,56,125,44,123,34,119,105,100,116,104,34,58,54,50,46,52,48,48,48,48,48,48,48,48,48,48,48,48,48,54,125,44,123,34,119,105,100,116,104,34,58,52,50,46,52,125,44,123,34,119,105,100,116,104,34,58,52,50,125,44,123,34,119,105,100,116,104,34,58,51,57,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,93,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,99,111,110,116,105,110,117,101,34,44,34,115,105,122,101,34,58,50,50,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,116,104,105,114,100,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,98,114,101,97,107,34,44,34,115,105,122,101,34,58,50,48,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,111,117,114,116,104,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,112,97,115,115,34,44,34,115,105,122,101,34,58,49,56,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,105,102,116,104,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"4","1"] 
[2025-05-29 11:05:37 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:05:37 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:05:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:05:37 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:05:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=knxziucogne 
[2025-05-29 11:05:55 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:05:55 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lv678esrdye 
[2025-05-29 11:05:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["2ZBGklB3S3BzJq1R-MdB0"] 
[2025-05-29 11:05:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:06:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cxg0JIwGMzvQXLInwxxp"] 
[2025-05-29 11:06:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:06:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["0lx7DE9gyGeVImJxLOwwy"] 
[2025-05-29 11:06:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:06:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:06:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:06:11 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["0lqIfEb8o9RsSBIUdwbT0","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,230,181,139,232,175,149,104,101,108,108,111,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,228,187,191,229,174,139,34,44,34,115,105,122,101,34,58,53,54,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,105,114,115,116,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,108,105,115,116,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,115,105,122,101,34,58,49,54,44,34,115,116,114,105,107,101,111,117,116,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,111,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,115,116,114,105,107,101,111,117,116,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,119,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,125,44,123,34,118,97,108,117,101,34,58,34,111,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,44,123,34,118,97,108,117,101,34,58,34,114,108,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,98,111,108,100,34,58,116,114,117,101,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,44,123,34,118,97,108,117,101,34,58,34,100,34,44,34,116,121,112,101,34,58,34,116,101,120,116,34,44,34,102,111,110,116,34,58,34,229,141,142,230,150,135,231,144,165,231,143,128,34,44,34,117,110,100,101,114,108,105,110,101,34,58,116,114,117,101,44,34,115,116,114,105,107,101,111,117,116,34,58,102,97,108,115,101,125,93,44,34,108,105,115,116,84,121,112,101,34,58,34,111,108,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,34,44,34,102,111,110,116,34,58,34,77,105,99,114,111,115,111,102,116,32,89,97,72,101,105,34,44,34,115,105,122,101,34,58,50,52,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,115,101,99,111,110,100,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,97,98,108,101,34,44,34,116,114,76,105,115,116,34,58,91,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,118,117,101,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,89,106,115,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,54,55,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,99,97,110,118,97,115,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,101,100,105,116,111,114,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,54,55,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,119,101,98,115,111,99,107,101,116,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,52,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,52,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,93,44,34,119,105,100,116,104,34,58,53,53,51,46,57,57,57,57,57,57,57,57,57,57,57,57,57,44,34,104,101,105,103,104,116,34,58,52,55,50,44,34,99,111,108,103,114,111,117,112,34,58,91,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,57,48,46,56,125,44,123,34,119,105,100,116,104,34,58,54,50,46,52,48,48,48,48,48,48,48,48,48,48,48,48,48,54,125,44,123,34,119,105,100,116,104,34,58,52,50,46,52,125,44,123,34,119,105,100,116,104,34,58,52,50,125,44,123,34,119,105,100,116,104,34,58,51,57,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,93,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,99,111,110,116,105,110,117,101,34,44,34,115,105,122,101,34,58,50,50,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,116,104,105,114,100,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,98,114,101,97,107,34,44,34,115,105,122,101,34,58,50,48,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,111,117,114,116,104,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,34,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,112,97,115,115,34,44,34,115,105,122,101,34,58,49,56,44,34,98,111,108,100,34,58,116,114,117,101,44,34,114,111,119,70,108,101,120,34,58,34,99,101,110,116,101,114,34,125,93,44,34,108,101,118,101,108,34,58,34,102,105,102,116,104,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"版本 2025/5/29 11:06:11","1"] 
[2025-05-29 11:06:11 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:06:11 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:06:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:06:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:06:26 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lv678esrdye 
[2025-05-29 11:06:27 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:06:27 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6vonoy2io8t 
[2025-05-29 11:06:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:06:39 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 11:06:39 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 11:06:39 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 11:06:39 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["hVSXUSoT0RaxdZNp0xuuJ","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"list\",\"valueList\":[{\"value\":\"hell\",\"font\":\"华文琥珀\",\"size\":16,\"strikeout\":true},{\"value\":\"o\",\"font\":\"华文琥珀\",\"strikeout\":true},{\"value\":\"w\",\"font\":\"华文琥珀\",\"underline\":true},{\"value\":\"o\",\"type\":\"text\",\"font\":\"华文琥珀\",\"underline\":true,\"strikeout\":false},{\"value\":\"rl\",\"type\":\"text\",\"font\":\"华文琥珀\",\"bold\":true,\"underline\":true,\"strikeout\":false},{\"value\":\"d\",\"type\":\"text\",\"font\":\"华文琥珀\",\"underline\":true,\"strikeout\":false}],\"listType\":\"ol\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"hello\",\"font\":\"Microsoft YaHei\",\"size\":24,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"second\"},{\"value\":\"\\n\"},{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"vue\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"Yjs\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":67,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"canvas\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"editor\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":67,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"websocket\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":44,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":44},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":472,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":90.8},{\"width\":62.400000000000006},{\"width\":42.4},{\"width\":42},{\"width\":39.4},{\"width\":55.4}]},{\"value\":\"\\n\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"continue\",\"size\":22,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"third\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"break\",\"size\":20,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"fourth\"},{\"value\":\"\\n\",\"rowFlex\":\"center\"},{\"value\":\"\",\"type\":\"title\",\"valueList\":[{\"value\":\"pass\",\"size\":18,\"bold\":true,\"rowFlex\":\"center\"}],\"level\":\"fifth\"},{\"value\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"}],\"footer\":[]}}","1"] 
[2025-05-29 11:06:39 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='hVSXUSoT0RaxdZNp0xuuJ' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:06:39 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 11:06:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["0lqIfEb8o9RsSBIUdwbT0"] 
[2025-05-29 11:06:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:06:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["2ZBGklB3S3BzJq1R-MdB0"] 
[2025-05-29 11:06:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:06:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6vonoy2io8t 
[2025-05-29 11:06:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:06:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:06:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:06:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:06:47 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 11:06:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:06:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:06:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:06:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=kjrzlk1v8nr 
[2025-05-29 11:06:52 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["15sZ1EHAKwxYlhDHjchak","fhOPjyXgtzS-N6EheItGI",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,45,92,110,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"1","1"] 
[2025-05-29 11:06:52 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 11:06:52 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:06:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:06:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:07:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 11:07:15 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 11:07:15 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: fhOPjyXgtzS-N6EheItGI, currenthead: [object Object] 
[2025-05-29 11:07:15 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 11:07:15 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["Uoj5_yivbv5K2MUoZw69m","fhOPjyXgtzS-N6EheItGI","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld-\\n是大哥大哥\\n\"}],\"footer\":[]}}","1"] 
[2025-05-29 11:07:15 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='Uoj5_yivbv5K2MUoZw69m' WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 11:07:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 11:07:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 11:07:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:07:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=kjrzlk1v8nr 
[2025-05-29 11:07:20 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:07:20 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=amytdjmivlp 
[2025-05-29 11:07:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 11:07:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:07:51 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=amytdjmivlp 
[2025-05-29 11:07:52 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:07:52 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=jl36ifzfuo 
[2025-05-29 11:07:56 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=jl36ifzfuo 
[2025-05-29 11:07:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:07:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:07:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:07:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:07:59 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:07:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:07:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:07:59 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:07:59 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=41ylizlc1fo 
[2025-05-29 11:08:32 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=41ylizlc1fo 
[2025-05-29 11:08:32 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:08:32 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8irej9mgz8q 
[2025-05-29 11:08:40 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8irej9mgz8q 
[2025-05-29 11:08:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:08:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:08:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:08:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 11:08:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 11:08:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:08:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:08:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:08:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:09:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 11:09:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 11:09:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:09:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:09:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:09:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:09:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 11:09:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 11:09:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:09:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:09:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:09:05 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:09:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 11:09:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 11:09:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:09:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:09:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:09:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:10:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:10:17 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:10:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:10:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:10:17 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:10:17 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hdplhoqw3uu 
[2025-05-29 11:10:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cxg0JIwGMzvQXLInwxxp"] 
[2025-05-29 11:10:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:10:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:10:28 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["2ZBGklB3S3BzJq1R-MdB0"] 
[2025-05-29 11:10:28 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 11:10:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:10:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:10:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:10:30 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["3cxg0JIwGMzvQXLInwxxp"] 
[2025-05-29 11:10:30 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 11:10:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:10:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:10:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:10:45 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["0lx7DE9gyGeVImJxLOwwy"] 
[2025-05-29 11:10:45 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 11:10:45 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:10:45 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:10:47 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hdplhoqw3uu 
[2025-05-29 11:10:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:10:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5xa3udjb7xn 
[2025-05-29 11:10:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["0lqIfEb8o9RsSBIUdwbT0"] 
[2025-05-29 11:10:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:11:06 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["kwkOezxiGW8Z1h-W6FD4z","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,108,105,115,116,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,93,44,34,108,105,115,116,84,121,112,101,34,58,34,111,108,34,125,44,123,34,118,97,108,117,101,34,58,34,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,92,110,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"66666","1"] 
[2025-05-29 11:11:06 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:11:06 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:11:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:11:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:11:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["0lqIfEb8o9RsSBIUdwbT0"] 
[2025-05-29 11:11:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:11:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["0lqIfEb8o9RsSBIUdwbT0"] 
[2025-05-29 11:11:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:11:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5xa3udjb7xn 
[2025-05-29 11:11:20 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:11:20 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lixm3kta9gh 
[2025-05-29 11:11:53 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lixm3kta9gh 
[2025-05-29 11:11:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:11:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rymmwrcduen 
[2025-05-29 11:12:26 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rymmwrcduen 
[2025-05-29 11:12:27 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:12:27 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0pdjd3i62zcr 
[2025-05-29 11:13:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0pdjd3i62zcr 
[2025-05-29 11:13:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:13:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ucgxidppf5q 
[2025-05-29 11:14:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ucgxidppf5q 
[2025-05-29 11:14:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:14:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=l3b2ygv07ik 
[2025-05-29 11:15:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=l3b2ygv07ik 
[2025-05-29 11:15:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:15:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ckyoj3uyb59 
[2025-05-29 11:16:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ckyoj3uyb59 
[2025-05-29 11:16:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:16:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rjua7q0tw6 
[2025-05-29 11:17:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rjua7q0tw6 
[2025-05-29 11:17:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:17:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xeyl3exhvr 
[2025-05-29 11:18:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xeyl3exhvr 
[2025-05-29 11:18:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:18:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ffvu7dm0zsg 
[2025-05-29 11:19:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ffvu7dm0zsg 
[2025-05-29 11:19:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:19:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=65pe08z3wpg 
[2025-05-29 11:20:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=65pe08z3wpg 
[2025-05-29 11:20:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:20:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lqfb9kavtw 
[2025-05-29 11:21:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lqfb9kavtw 
[2025-05-29 11:21:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:21:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=grcphr7wq7j 
[2025-05-29 11:22:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=grcphr7wq7j 
[2025-05-29 11:22:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:22:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bgxi50sra58 
[2025-05-29 11:23:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bgxi50sra58 
[2025-05-29 11:23:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:23:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=p5f1e2f57mi 
[2025-05-29 11:24:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=p5f1e2f57mi 
[2025-05-29 11:24:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:24:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=p97joi5cxs 
[2025-05-29 11:25:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=p97joi5cxs 
[2025-05-29 11:25:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:25:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=y98au5wdx1 
[2025-05-29 11:26:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=y98au5wdx1 
[2025-05-29 11:26:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:26:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4ng8udywwqn 
[2025-05-29 11:27:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4ng8udywwqn 
[2025-05-29 11:27:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:27:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mbgy45tqu0s 
[2025-05-29 11:28:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mbgy45tqu0s 
[2025-05-29 11:28:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:28:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cn58a15a8u 
[2025-05-29 11:29:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cn58a15a8u 
[2025-05-29 11:29:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:29:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c4lxx1vxjxu 
[2025-05-29 11:30:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c4lxx1vxjxu 
[2025-05-29 11:30:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:30:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e2fijr7kss7 
[2025-05-29 11:31:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e2fijr7kss7 
[2025-05-29 11:31:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:31:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=unpypztal3k 
[2025-05-29 11:32:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=unpypztal3k 
[2025-05-29 11:32:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:32:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=z5a2r28amm 
[2025-05-29 11:33:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=z5a2r28amm 
[2025-05-29 11:33:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:33:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=y042hghyf6 
[2025-05-29 11:34:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=y042hghyf6 
[2025-05-29 11:34:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:34:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=opv1v9lygko 
[2025-05-29 11:35:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=opv1v9lygko 
[2025-05-29 11:35:44 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:35:44 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2kxuigt1axe 
[2025-05-29 11:36:14 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2kxuigt1axe 
[2025-05-29 11:36:15 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:36:15 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ozaa4cm5u1 
[2025-05-29 11:36:47 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ozaa4cm5u1 
[2025-05-29 11:36:48 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:36:48 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wha710rhkz8 
[2025-05-29 11:37:51 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 11:37:51 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 11:37:51 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 11:37:51 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 11:37:51 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 11:37:51 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:37:51 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=d9hxq4q44jr 
[2025-05-29 11:37:54 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=d9hxq4q44jr 
[2025-05-29 11:37:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 11:37:56 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:37:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:37:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:37:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:37:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:37:58 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:37:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:37:58 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:37:59 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:37:59 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=yhdxaot2c 
[2025-05-29 11:38:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:38:12 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["0lqIfEb8o9RsSBIUdwbT0"] 
[2025-05-29 11:38:12 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 11:38:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:38:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:38:15 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["FwePImr0M6dkdgt1dMCRh","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"2","1"] 
[2025-05-29 11:38:15 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:38:15 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:38:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:38:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:38:18 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["kwkOezxiGW8Z1h-W6FD4z"] 
[2025-05-29 11:38:18 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:38:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["kwkOezxiGW8Z1h-W6FD4z"] 
[2025-05-29 11:38:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:38:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:38:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:38:32 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=yhdxaot2c 
[2025-05-29 11:38:32 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:38:32 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=szkypo4r9x 
[2025-05-29 11:38:40 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=szkypo4r9x 
[2025-05-29 11:38:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:38:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:38:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:38:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:38:41 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:38:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:38:41 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:38:41 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:38:41 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8cayd34engd 
[2025-05-29 11:38:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8cayd34engd 
[2025-05-29 11:38:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:38:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:38:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:38:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:38:44 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 11:38:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:38:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:38:44 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:38:44 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=k1za8hf9q 
[2025-05-29 11:38:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=k1za8hf9q 
[2025-05-29 11:38:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:38:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:38:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:38:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:38:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 11:38:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:38:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:38:48 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:38:48 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=x04bzf32oer 
[2025-05-29 11:38:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 11:38:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:39:07 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["K7jJxLJEzyUuQySIJG6cr","fhOPjyXgtzS-N6EheItGI",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,45,92,110,230,152,175,229,164,167,229,147,165,229,164,167,229,147,165,92,110,229,144,136,233,128,130,229,149,166,229,184,166,229,155,158,230,157,165,229,155,155,229,164,167,233,135,145,229,136,154,233,187,132,232,128,129,229,184,136,229,135,160,228,184,170,229,147,136,92,110,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"3","1"] 
[2025-05-29 11:39:07 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 11:39:07 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:39:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:39:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:39:09 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 11:39:09 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:39:18 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=x04bzf32oer 
[2025-05-29 11:39:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:39:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=xt35rmtfxn 
[2025-05-29 11:39:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 11:39:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:39:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:39:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:39:51 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=xt35rmtfxn 
[2025-05-29 11:39:51 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:39:51 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=g7idezc7l74 
[2025-05-29 11:39:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 11:39:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:39:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 11:39:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:39:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:39:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:40:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 11:40:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:40:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:40:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:40:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 11:40:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:40:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:40:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:40:11 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["r-L59o9XpFl5B90cIMpmg","fhOPjyXgtzS-N6EheItGI",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,92,110,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"6666","1"] 
[2025-05-29 11:40:11 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 11:40:11 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:40:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:40:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:40:13 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 11:40:13 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:40:16 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=g7idezc7l74 
[2025-05-29 11:40:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:40:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:40:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:40:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:40:17 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:40:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:40:17 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:40:17 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:40:17 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0tr0e493dem 
[2025-05-29 11:40:47 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0tr0e493dem 
[2025-05-29 11:40:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:40:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rkvy9rq4hac 
[2025-05-29 11:41:18 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rkvy9rq4hac 
[2025-05-29 11:41:19 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:41:19 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6wn3mup7gz8 
[2025-05-29 11:42:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6wn3mup7gz8 
[2025-05-29 11:42:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:42:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ymcsmvm0ag 
[2025-05-29 11:43:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ymcsmvm0ag 
[2025-05-29 11:43:48 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:43:48 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jl5l7dv25c 
[2025-05-29 11:44:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jl5l7dv25c 
[2025-05-29 11:44:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:44:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=oop9lsrscfn 
[2025-05-29 11:45:34 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 11:45:35 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 11:45:35 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 11:45:35 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 11:45:35 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 11:45:35 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:45:35 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jb0bswpe6x 
[2025-05-29 11:45:40 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jb0bswpe6x 
[2025-05-29 11:45:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 11:45:42 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:45:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:45:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:45:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:45:45 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:45:45 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:45:45 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:45:45 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:45:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:45:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=j3e8b9pv09 
[2025-05-29 11:45:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:45:55 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 11:45:55 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 11:45:55 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 11:45:55 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["7-FH4E5zYMfLt5D1FpzyV","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","1"] 
[2025-05-29 11:45:55 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='7-FH4E5zYMfLt5D1FpzyV' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:45:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 11:46:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=j3e8b9pv09 
[2025-05-29 11:46:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:46:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:46:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:46:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:46:08 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 11:46:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:46:08 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:46:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:46:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=uju88h5okcf 
[2025-05-29 11:46:18 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=uju88h5okcf 
[2025-05-29 11:46:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:46:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:46:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:46:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:46:24 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:46:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:46:24 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:46:24 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:46:24 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hxz5gug8he 
[2025-05-29 11:46:57 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hxz5gug8he 
[2025-05-29 11:46:57 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:46:57 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=nyadfvdml6 
[2025-05-29 11:47:06 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["ow4afHpc2eLMVokDMfqp6","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"3","1"] 
[2025-05-29 11:47:06 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:47:06 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:47:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:47:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:47:28 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=nyadfvdml6 
[2025-05-29 11:47:29 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:47:29 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gwiu8ccxl8i 
[2025-05-29 11:48:00 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gwiu8ccxl8i 
[2025-05-29 11:48:00 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:48:00 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bvcs6jl8u37 
[2025-05-29 11:48:31 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bvcs6jl8u37 
[2025-05-29 11:48:32 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:48:32 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qr9kchow6af 
[2025-05-29 11:49:03 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qr9kchow6af 
[2025-05-29 11:49:03 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:49:03 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gulk07vlzl 
[2025-05-29 11:49:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gulk07vlzl 
[2025-05-29 11:49:35 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:49:35 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=svgkm1q0j6e 
[2025-05-29 11:50:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=svgkm1q0j6e 
[2025-05-29 11:50:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:50:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=m6ihn2axw9r 
[2025-05-29 11:50:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=m6ihn2axw9r 
[2025-05-29 11:50:43 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:50:43 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6k3ilxqlcpm 
[2025-05-29 11:50:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:50:48 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["kwkOezxiGW8Z1h-W6FD4z"] 
[2025-05-29 11:50:48 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 11:50:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:50:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:51:15 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6k3ilxqlcpm 
[2025-05-29 11:51:15 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:51:15 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=inpxbdgrhq 
[2025-05-29 11:51:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=inpxbdgrhq 
[2025-05-29 11:51:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:51:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=j6tntnrpd3k 
[2025-05-29 11:52:19 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=j6tntnrpd3k 
[2025-05-29 11:52:20 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:52:20 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=othhdpe8a1j 
[2025-05-29 11:53:04 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 11:53:05 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 11:53:05 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 11:53:05 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 11:53:05 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 11:53:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:53:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5gypthc5hx6 
[2025-05-29 11:53:08 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5gypthc5hx6 
[2025-05-29 11:53:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 11:53:10 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:53:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:53:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:53:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:53:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:53:12 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 11:53:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:53:12 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:53:12 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:53:12 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4kfa9s8ri2g 
[2025-05-29 11:53:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:53:33 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 11:53:33 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 11:53:33 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 11:53:33 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["srRsqzkgYsbezjz0pTWbm","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","1"] 
[2025-05-29 11:53:33 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='srRsqzkgYsbezjz0pTWbm' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:53:33 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 11:53:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["FwePImr0M6dkdgt1dMCRh"] 
[2025-05-29 11:53:39 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:53:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:53:39 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:53:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4kfa9s8ri2g 
[2025-05-29 11:53:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:53:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dws5aa2wjea 
[2025-05-29 11:53:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["ow4afHpc2eLMVokDMfqp6"] 
[2025-05-29 11:53:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:54:09 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["FwePImr0M6dkdgt1dMCRh"] 
[2025-05-29 11:54:09 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:54:09 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:54:09 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:54:18 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dws5aa2wjea 
[2025-05-29 11:54:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:54:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ghy9n1b079d 
[2025-05-29 11:54:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:54:20 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["srRsqzkgYsbezjz0pTWbm"] 
[2025-05-29 11:54:20 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: srRsqzkgYsbezjz0pTWbm, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:54:20 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","srRsqzkgYsbezjz0pTWbm"] 
[2025-05-29 11:54:20 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 11:54:29 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["M8ZrcbdMAjVBI5deqAnh-","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"44","1"] 
[2025-05-29 11:54:29 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:54:29 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:54:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:54:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:54:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:54:38 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 11:54:38 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 11:54:38 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 11:54:38 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["HXF56lxF-gB7A4_Yhzgxb","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\\nhelloworld\"}],\"footer\":[]}}","1"] 
[2025-05-29 11:54:38 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='HXF56lxF-gB7A4_Yhzgxb' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:54:39 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 11:54:41 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["b3sDRFkEePBOJgFq2Fv9_","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,92,110,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"4","1"] 
[2025-05-29 11:54:41 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:54:41 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:54:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:54:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:54:43 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["M8ZrcbdMAjVBI5deqAnh-"] 
[2025-05-29 11:54:43 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:54:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["M8ZrcbdMAjVBI5deqAnh-"] 
[2025-05-29 11:54:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:54:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:54:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:54:51 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ghy9n1b079d 
[2025-05-29 11:54:51 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:54:51 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ocz31lgzxg 
[2025-05-29 11:55:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:55:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:55:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:55:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:55:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:55:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:55:25 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ocz31lgzxg 
[2025-05-29 11:55:26 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:55:26 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i7pkc951ob 
[2025-05-29 11:55:54 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["hYp1dpOQfNtWllpJGopJi","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,92,110,103,115,97,104,102,115,104,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"5","1"] 
[2025-05-29 11:55:54 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:55:54 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 11:55:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:55:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:55:57 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i7pkc951ob 
[2025-05-29 11:55:57 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:55:57 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6c7x73de8c 
[2025-05-29 11:56:28 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6c7x73de8c 
[2025-05-29 11:56:29 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:56:29 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gy2e47soov 
[2025-05-29 11:57:00 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gy2e47soov 
[2025-05-29 11:57:00 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:57:00 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=469pictog5k 
[2025-05-29 11:57:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["b3sDRFkEePBOJgFq2Fv9_"] 
[2025-05-29 11:57:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:57:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:57:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:57:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["M8ZrcbdMAjVBI5deqAnh-"] 
[2025-05-29 11:57:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 11:57:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:57:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:57:31 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=469pictog5k 
[2025-05-29 11:57:32 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:57:32 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uclv199e1jp 
[2025-05-29 11:57:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 11:57:48 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["FwePImr0M6dkdgt1dMCRh"] 
[2025-05-29 11:57:48 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 11:57:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 11:57:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:58:03 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uclv199e1jp 
[2025-05-29 11:58:03 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:58:03 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cw39hkz19z7 
[2025-05-29 11:58:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cw39hkz19z7 
[2025-05-29 11:58:35 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:58:35 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qwae7qvd6aq 
[2025-05-29 11:59:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qwae7qvd6aq 
[2025-05-29 11:59:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:59:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0l4e90hte72 
[2025-05-29 11:59:39 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0l4e90hte72 
[2025-05-29 11:59:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 11:59:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3rxfm7vk7s 
[2025-05-29 11:59:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3rxfm7vk7s 
[2025-05-29 11:59:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:59:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:59:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:59:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 11:59:46 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 11:59:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:59:46 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:59:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 11:59:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=vtq3c39a0vk 
[2025-05-29 11:59:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 11:59:53 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 11:59:53 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: fhOPjyXgtzS-N6EheItGI, currenthead: [object Object] 
[2025-05-29 11:59:53 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 11:59:53 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["0oyC00_MvNH3gJVhYD4K9","fhOPjyXgtzS-N6EheItGI","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"gwewh\"}],\"footer\":[]}}","1"] 
[2025-05-29 11:59:53 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='0oyC00_MvNH3gJVhYD4K9' WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 11:59:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 11:59:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["r-L59o9XpFl5B90cIMpmg"] 
[2025-05-29 11:59:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:00:12 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["D5ca7mMw-RiwLd4iFOmN6","fhOPjyXgtzS-N6EheItGI",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,103,119,101,119,104,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"4","1"] 
[2025-05-29 12:00:12 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 12:00:12 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:00:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 12:00:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:00:16 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=vtq3c39a0vk 
[2025-05-29 12:00:16 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:00:16 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=o24kb2fthwh 
[2025-05-29 12:00:49 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=o24kb2fthwh 
[2025-05-29 12:00:49 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:00:49 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=0eln02h7k4w 
[2025-05-29 12:01:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=0eln02h7k4w 
[2025-05-29 12:01:21 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:01:21 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=k66tpzs74hq 
[2025-05-29 12:01:53 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=k66tpzs74hq 
[2025-05-29 12:01:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:01:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=dbzdyx00lj 
[2025-05-29 12:02:26 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=dbzdyx00lj 
[2025-05-29 12:02:27 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:02:27 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=2i736z2a795 
[2025-05-29 12:02:59 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=2i736z2a795 
[2025-05-29 12:03:00 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:03:00 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=oztforli6mn 
[2025-05-29 12:03:44 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=oztforli6mn 
[2025-05-29 12:03:44 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:03:44 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=4ov24rmzmzc 
[2025-05-29 12:03:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=4ov24rmzmzc 
[2025-05-29 12:03:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 12:03:46 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 12:03:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:03:46 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:03:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:03:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=d7semuhot4 
[2025-05-29 12:03:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 12:03:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:03:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 12:03:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:04:19 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=d7semuhot4 
[2025-05-29 12:04:19 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:04:19 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=qbgv3i8inln 
[2025-05-29 12:04:50 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=qbgv3i8inln 
[2025-05-29 12:04:51 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:04:51 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=0yi3lwx7vdvf 
[2025-05-29 12:05:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 12:05:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:05:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 12:05:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:05:22 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=0yi3lwx7vdvf 
[2025-05-29 12:05:22 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:05:22 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=2v4j9w1mp44 
[2025-05-29 12:05:53 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=2v4j9w1mp44 
[2025-05-29 12:05:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:05:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=qdo4w4hte7 
[2025-05-29 12:06:10 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 12:06:10 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 12:06:10 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 12:06:10 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 12:06:10 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 12:06:11 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 12:06:11 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=m3d4wt439kh 
[2025-05-29 12:06:13 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=m3d4wt439kh 
[2025-05-29 12:06:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 12:06:16 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 12:06:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:06:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:06:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:06:19 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:06:19 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:06:19 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:06:19 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:06:19 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:06:19 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0cxkyeysez2 
[2025-05-29 12:06:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["b3sDRFkEePBOJgFq2Fv9_"] 
[2025-05-29 12:06:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:06:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:06:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:06:50 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0cxkyeysez2 
[2025-05-29 12:06:51 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:06:51 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1zh26t4mg19i 
[2025-05-29 12:07:09 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 12:07:09 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 12:07:09 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 12:07:09 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 12:07:09 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 12:07:09 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:07:09 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3vex8ep2jlm 
[2025-05-29 12:07:13 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3vex8ep2jlm 
[2025-05-29 12:07:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 12:07:15 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 12:07:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:07:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:07:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:07:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:07:17 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:07:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:07:17 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:07:17 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:07:17 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=avy1dp07gr7 
[2025-05-29 12:07:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["b3sDRFkEePBOJgFq2Fv9_"] 
[2025-05-29 12:07:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:07:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:07:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:07:48 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=avy1dp07gr7 
[2025-05-29 12:07:49 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:07:49 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=b4ftjy1g9ie 
[2025-05-29 12:08:21 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=b4ftjy1g9ie 
[2025-05-29 12:08:22 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:08:22 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e42ucpvezg 
[2025-05-29 12:08:54 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e42ucpvezg 
[2025-05-29 12:08:55 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:08:55 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qh852q5a1j 
[2025-05-29 12:09:27 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qh852q5a1j 
[2025-05-29 12:09:28 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:09:28 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5i44l7lbmrw 
[2025-05-29 12:10:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5i44l7lbmrw 
[2025-05-29 12:10:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:10:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dr0xzmn75 
[2025-05-29 12:11:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dr0xzmn75 
[2025-05-29 12:11:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:11:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=l6t9dynet2h 
[2025-05-29 12:12:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=l6t9dynet2h 
[2025-05-29 12:12:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:12:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2quk9oudl8f 
[2025-05-29 12:13:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2quk9oudl8f 
[2025-05-29 12:13:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:13:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rwnszsvpzuq 
[2025-05-29 12:14:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rwnszsvpzuq 
[2025-05-29 12:14:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:14:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fh1psrvic1m 
[2025-05-29 12:15:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fh1psrvic1m 
[2025-05-29 12:15:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:15:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cxy02pkhhis 
[2025-05-29 12:16:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cxy02pkhhis 
[2025-05-29 12:16:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:16:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uokd5mredo 
[2025-05-29 12:17:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uokd5mredo 
[2025-05-29 12:17:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:17:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i0clil7o5fm 
[2025-05-29 12:18:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i0clil7o5fm 
[2025-05-29 12:18:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:18:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=sc7is7sjkof 
[2025-05-29 12:19:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=sc7is7sjkof 
[2025-05-29 12:19:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:19:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=krl4c7l3m 
[2025-05-29 12:20:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=krl4c7l3m 
[2025-05-29 12:20:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:20:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hlvarx1abqg 
[2025-05-29 12:21:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hlvarx1abqg 
[2025-05-29 12:21:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:21:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2zs1xv8krsx 
[2025-05-29 12:22:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2zs1xv8krsx 
[2025-05-29 12:22:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:22:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4jt9b0oxyyk 
[2025-05-29 12:23:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4jt9b0oxyyk 
[2025-05-29 12:23:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:23:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=op37bs9m06 
[2025-05-29 12:24:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=op37bs9m06 
[2025-05-29 12:24:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:24:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=38vy6dku9k3 
[2025-05-29 12:25:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=38vy6dku9k3 
[2025-05-29 12:25:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:25:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zn5sac4rda 
[2025-05-29 12:26:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zn5sac4rda 
[2025-05-29 12:26:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:26:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6z0ohrb6uvt 
[2025-05-29 12:27:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6z0ohrb6uvt 
[2025-05-29 12:27:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:27:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9qza581p6m 
[2025-05-29 12:28:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9qza581p6m 
[2025-05-29 12:28:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:28:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=67j20b646qv 
[2025-05-29 12:29:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=67j20b646qv 
[2025-05-29 12:29:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:29:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gg924tun237 
[2025-05-29 12:30:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gg924tun237 
[2025-05-29 12:30:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:30:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0xrh85loqtu 
[2025-05-29 12:31:05 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 12:31:05 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 12:31:05 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 12:31:05 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 12:31:05 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 12:31:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:31:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4ubf5l5fa3s 
[2025-05-29 12:31:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4ubf5l5fa3s 
[2025-05-29 12:31:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 12:31:09 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 12:31:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:31:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:31:09 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:31:13 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:31:13 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:31:13 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:31:13 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:31:13 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:31:13 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fyxhotgqxel 
[2025-05-29 12:31:25 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["dDCM98_JIR2ih1ChFTXMt","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"3","1"] 
[2025-05-29 12:31:25 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:31:25 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:31:25 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:31:25 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:31:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fyxhotgqxel 
[2025-05-29 12:31:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:31:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xdc5s0zue0l 
[2025-05-29 12:32:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xdc5s0zue0l 
[2025-05-29 12:32:21 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:32:21 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=42lwegleazq 
[2025-05-29 12:32:50 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["6SgVqHKbiKnmVVUnMLN2M","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,116,116,116,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"6","1"] 
[2025-05-29 12:32:50 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:32:50 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:32:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:32:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:32:52 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=42lwegleazq 
[2025-05-29 12:32:52 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:32:52 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5hhc15kuoeu 
[2025-05-29 12:32:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["dDCM98_JIR2ih1ChFTXMt"] 
[2025-05-29 12:32:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:32:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:32:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:33:25 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5hhc15kuoeu 
[2025-05-29 12:33:25 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:33:25 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=142kf4rexfbf 
[2025-05-29 12:33:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["dDCM98_JIR2ih1ChFTXMt"] 
[2025-05-29 12:33:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:33:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:33:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:33:59 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=142kf4rexfbf 
[2025-05-29 12:34:00 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:34:00 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=t994cwobill 
[2025-05-29 12:34:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:34:03 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["dDCM98_JIR2ih1ChFTXMt"] 
[2025-05-29 12:34:03 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:34:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:34:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:34:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:34:05 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["hYp1dpOQfNtWllpJGopJi"] 
[2025-05-29 12:34:05 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:34:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:34:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:34:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:34:06 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["b3sDRFkEePBOJgFq2Fv9_"] 
[2025-05-29 12:34:06 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:34:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:34:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:34:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:34:08 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["M8ZrcbdMAjVBI5deqAnh-"] 
[2025-05-29 12:34:08 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:34:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:34:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:34:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:34:09 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["ow4afHpc2eLMVokDMfqp6"] 
[2025-05-29 12:34:09 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:34:09 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:34:09 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:34:18 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["9YRifIdYqVyUv0iUMDWlu","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"3","1"] 
[2025-05-29 12:34:18 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:34:18 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:34:18 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:34:18 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:34:31 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=t994cwobill 
[2025-05-29 12:34:31 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:34:31 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e69xtp9cz3 
[2025-05-29 12:34:33 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["pNq-MGSdPS49SwvSWGrZ8","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,92,110,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"4","1"] 
[2025-05-29 12:34:33 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:34:33 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:34:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:34:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:34:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["9YRifIdYqVyUv0iUMDWlu"] 
[2025-05-29 12:34:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:34:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:34:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:35:02 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e69xtp9cz3 
[2025-05-29 12:35:03 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:35:03 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=n78twx51u2 
[2025-05-29 12:35:35 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=n78twx51u2 
[2025-05-29 12:35:36 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:35:36 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qqr2s3qweo 
[2025-05-29 12:36:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qqr2s3qweo 
[2025-05-29 12:36:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:36:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=nl2lv063qzp 
[2025-05-29 12:37:18 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 12:37:18 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 12:37:18 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 12:37:18 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 12:37:18 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 12:37:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:37:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c1plzu0nup 
[2025-05-29 12:37:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c1plzu0nup 
[2025-05-29 12:37:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 12:37:22 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 12:37:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:37:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:37:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:37:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:37:24 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:37:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:37:24 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:37:24 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:37:24 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4ft6an9hkjj 
[2025-05-29 12:37:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["9YRifIdYqVyUv0iUMDWlu"] 
[2025-05-29 12:37:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:37:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:37:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:37:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6SgVqHKbiKnmVVUnMLN2M"] 
[2025-05-29 12:37:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:37:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:37:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:37:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4ft6an9hkjj 
[2025-05-29 12:37:56 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:37:56 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=epe79aevlg 
[2025-05-29 12:38:28 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=epe79aevlg 
[2025-05-29 12:38:29 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:38:29 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lhbqdo5s3va 
[2025-05-29 12:39:01 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lhbqdo5s3va 
[2025-05-29 12:39:02 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:39:02 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dyzeqnedbvd 
[2025-05-29 12:39:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dyzeqnedbvd 
[2025-05-29 12:39:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:39:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wnuhs8s9wcb 
[2025-05-29 12:40:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wnuhs8s9wcb 
[2025-05-29 12:40:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:40:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fr3nqt7zptq 
[2025-05-29 12:41:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fr3nqt7zptq 
[2025-05-29 12:41:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:41:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=tqk6q78rg3n 
[2025-05-29 12:42:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=tqk6q78rg3n 
[2025-05-29 12:42:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:42:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=nl10ga4lnpi 
[2025-05-29 12:43:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=nl10ga4lnpi 
[2025-05-29 12:43:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:43:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=x2ejrt4hbk 
[2025-05-29 12:44:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=x2ejrt4hbk 
[2025-05-29 12:44:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:44:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=765z9moewoc 
[2025-05-29 12:45:16 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 12:45:16 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 12:45:16 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 12:45:16 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 12:45:16 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 12:45:17 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:45:17 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=q6v3xkhvkko 
[2025-05-29 12:45:19 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=q6v3xkhvkko 
[2025-05-29 12:45:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 12:45:22 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 12:45:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:45:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:45:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:45:25 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:45:25 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:45:25 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:45:25 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:45:25 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:45:25 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wvhavghc8c 
[2025-05-29 12:45:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["9YRifIdYqVyUv0iUMDWlu"] 
[2025-05-29 12:45:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:45:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:45:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:45:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6SgVqHKbiKnmVVUnMLN2M"] 
[2025-05-29 12:45:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:45:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:45:37 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:45:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:45:39 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 12:45:39 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 12:45:39 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 12:45:39 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["3S13NjMNLJp_nZDFTI24r","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt\"}],\"footer\":[]}}","1"] 
[2025-05-29 12:45:39 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='3S13NjMNLJp_nZDFTI24r' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:45:39 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 12:45:39 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wvhavghc8c 
[2025-05-29 12:45:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:45:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:45:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:45:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:45:41 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:45:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:45:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:45:41 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:45:41 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=o65bba1pool 
[2025-05-29 12:45:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["pNq-MGSdPS49SwvSWGrZ8"] 
[2025-05-29 12:45:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:45:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["9YRifIdYqVyUv0iUMDWlu"] 
[2025-05-29 12:45:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:46:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2'&&password='c81e728d9d4c2f636f067f89cc14862c' 
[2025-05-29 12:46:05 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 12:46:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:46:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:46:05 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:46:06 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='2' AND fl.fileid=fs.fileid 
[2025-05-29 12:46:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:46:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:46:06 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:46:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:46:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:46:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:46:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=angnbprqcqg 
[2025-05-29 12:46:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-05-29 12:46:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 12:46:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 12:46:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 12:46:22 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["cY_tAVnGXm3rf1zKWyU3N","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,116,116,116,104,97,101,104,97,104,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"2user","2"] 
[2025-05-29 12:46:22 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:46:22 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:46:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:46:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:46:25 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=o65bba1pool 
[2025-05-29 12:46:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:46:26 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:46:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:46:26 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:46:26 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:46:26 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fo47apc5k3j 
[2025-05-29 12:46:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 12:46:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 12:46:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-05-29 12:46:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 12:46:32 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["cY_tAVnGXm3rf1zKWyU3N"] 
[2025-05-29 12:46:32 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:46:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["cY_tAVnGXm3rf1zKWyU3N"] 
[2025-05-29 12:46:39 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:46:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["pNq-MGSdPS49SwvSWGrZ8"] 
[2025-05-29 12:46:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:46:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["9YRifIdYqVyUv0iUMDWlu"] 
[2025-05-29 12:46:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:46:48 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=angnbprqcqg 
[2025-05-29 12:46:51 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fo47apc5k3j 
[2025-05-29 12:46:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:46:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:46:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:48:41 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 12:48:42 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 12:48:42 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 12:48:42 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 12:48:42 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 12:48:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 12:48:46 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 12:48:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:48:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:48:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:48:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:48:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:48:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:48:48 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:48:48 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:48:48 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c0rsev5j1u 
[2025-05-29 12:49:01 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["pNq-MGSdPS49SwvSWGrZ8"] 
[2025-05-29 12:49:01 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:49:01 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:49:01 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:49:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["9YRifIdYqVyUv0iUMDWlu"] 
[2025-05-29 12:49:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:49:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:49:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:49:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["pNq-MGSdPS49SwvSWGrZ8"] 
[2025-05-29 12:49:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:49:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:49:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:49:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6SgVqHKbiKnmVVUnMLN2M"] 
[2025-05-29 12:49:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:49:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:49:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:49:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["pNq-MGSdPS49SwvSWGrZ8"] 
[2025-05-29 12:49:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:49:21 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c0rsev5j1u 
[2025-05-29 12:49:21 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:49:21 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rc9o8cqdv5n 
[2025-05-29 12:49:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:49:31 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 12:49:31 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 12:49:31 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 12:49:31 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["VEh7VUCOzMaBMvv8Cm6US","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt\"}],\"footer\":[]}}","1"] 
[2025-05-29 12:49:31 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='VEh7VUCOzMaBMvv8Cm6US' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:49:31 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 12:49:32 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rc9o8cqdv5n 
[2025-05-29 12:49:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:49:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:49:32 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:49:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:49:33 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:49:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:49:33 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:49:33 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:49:33 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zih8vfp2iq 
[2025-05-29 12:49:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["pNq-MGSdPS49SwvSWGrZ8"] 
[2025-05-29 12:49:37 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:49:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:49:47 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["VEh7VUCOzMaBMvv8Cm6US"] 
[2025-05-29 12:49:47 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: VEh7VUCOzMaBMvv8Cm6US, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:49:47 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt\"},{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":554,\"height\":336,\"colgroup\":[{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","VEh7VUCOzMaBMvv8Cm6US"] 
[2025-05-29 12:49:47 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 12:49:48 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zih8vfp2iq 
[2025-05-29 12:49:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:49:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:49:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:49:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:49:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:49:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:49:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:49:49 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:49:49 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=brrvj0rz42g 
[2025-05-29 12:49:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:49:57 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["6SgVqHKbiKnmVVUnMLN2M"] 
[2025-05-29 12:49:57 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:49:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:49:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:49:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:49:58 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["9YRifIdYqVyUv0iUMDWlu"] 
[2025-05-29 12:49:58 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:49:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:49:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:00 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["Ya1zVvyo992MlCGVzXuLt","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,116,116,116,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,97,98,108,101,34,44,34,116,114,76,105,115,116,34,58,91,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,93,44,34,119,105,100,116,104,34,58,53,53,52,44,34,104,101,105,103,104,116,34,58,51,51,54,44,34,99,111,108,103,114,111,117,112,34,58,91,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,93,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"444","1"] 
[2025-05-29 12:50:00 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:50:00 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:50:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:02 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=brrvj0rz42g 
[2025-05-29 12:50:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:50:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:50:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:50:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:50:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:03 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:50:03 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:50:03 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qij2h86yfb 
[2025-05-29 12:50:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["Ya1zVvyo992MlCGVzXuLt"] 
[2025-05-29 12:50:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:50:17 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["a0foT7DlKq13lNsDpPS7k","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,109,121,100,104,115,102,104,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"3","1"] 
[2025-05-29 12:50:17 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:50:17 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:50:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["Ya1zVvyo992MlCGVzXuLt"] 
[2025-05-29 12:50:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:50:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["Ya1zVvyo992MlCGVzXuLt"] 
[2025-05-29 12:50:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:50:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["cY_tAVnGXm3rf1zKWyU3N"] 
[2025-05-29 12:50:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:50:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:36 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qij2h86yfb 
[2025-05-29 12:50:36 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:50:36 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i1dmwhn7z0q 
[2025-05-29 12:50:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["pNq-MGSdPS49SwvSWGrZ8"] 
[2025-05-29 12:50:37 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:50:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:37 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["Ya1zVvyo992MlCGVzXuLt"] 
[2025-05-29 12:50:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:50:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:50:46 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 12:50:46 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 12:50:46 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 12:50:46 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["ZvR9xm3LMZjWDaGJhb9_j","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt\"},{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"sfdhd\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"dfjfsj\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":70,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"sfgjfgsj\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"fsgjsg\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"jsfgjsfj\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":554,\"height\":364,\"colgroup\":[{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25},{\"width\":69.25}]}],\"footer\":[]}}","1"] 
[2025-05-29 12:50:46 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='ZvR9xm3LMZjWDaGJhb9_j' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:50:46 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 12:50:49 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["VnRbHejYE8HaJjytsVjgy","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,116,116,116,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,97,98,108,101,34,44,34,116,114,76,105,115,116,34,58,91,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,115,102,100,104,100,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,100,102,106,102,115,106,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,55,48,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,115,102,103,106,102,103,115,106,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,102,115,103,106,115,103,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,106,115,102,103,106,115,102,106,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,93,44,34,119,105,100,116,104,34,58,53,53,52,44,34,104,101,105,103,104,116,34,58,51,54,52,44,34,99,111,108,103,114,111,117,112,34,58,91,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,44,123,34,119,105,100,116,104,34,58,54,57,46,50,53,125,93,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"33","1"] 
[2025-05-29 12:50:49 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:50:49 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:50:49 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:49 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:50:58 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["3cE5_7wNd4v8d-Jg-U_mh","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,116,116,116,53,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"555","1"] 
[2025-05-29 12:50:58 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:50:58 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 12:50:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:50:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:51:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["VnRbHejYE8HaJjytsVjgy"] 
[2025-05-29 12:51:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 12:51:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:51:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:51:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:51:03 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["pNq-MGSdPS49SwvSWGrZ8"] 
[2025-05-29 12:51:03 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:51:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:51:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:51:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:51:05 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["Ya1zVvyo992MlCGVzXuLt"] 
[2025-05-29 12:51:05 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:51:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:51:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:51:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:51:06 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["cY_tAVnGXm3rf1zKWyU3N"] 
[2025-05-29 12:51:06 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:51:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:51:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:51:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:51:07 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["a0foT7DlKq13lNsDpPS7k"] 
[2025-05-29 12:51:07 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:51:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:51:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:51:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 12:51:09 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["VnRbHejYE8HaJjytsVjgy"] 
[2025-05-29 12:51:09 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 12:51:09 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:51:09 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:51:09 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i1dmwhn7z0q 
[2025-05-29 12:51:09 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:51:09 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c1i75dz4ido 
[2025-05-29 12:51:09 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c1i75dz4ido 
[2025-05-29 12:51:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:51:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:51:09 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:59:33 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 12:59:33 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 12:59:33 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 12:59:33 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 12:59:33 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 12:59:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 12:59:37 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 12:59:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:59:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:59:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:59:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:59:38 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:59:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:59:38 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:59:38 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:59:38 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mocwmjgkqi 
[2025-05-29 12:59:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mocwmjgkqi 
[2025-05-29 12:59:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 12:59:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 12:59:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 12:59:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 12:59:56 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 12:59:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 12:59:56 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 12:59:56 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 12:59:56 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=d287070ff8a 
[2025-05-29 01:00:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:00:02 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 01:00:02 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 01:00:02 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 01:00:02 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["8z7hhU8FKIpvcnD70WuOY","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","1"] 
[2025-05-29 01:00:02 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='8z7hhU8FKIpvcnD70WuOY' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:00:02 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 01:00:04 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=d287070ff8a 
[2025-05-29 01:00:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:00:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:00:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:00:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:00:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 01:00:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:00:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:00:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:00:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3p9ushg4uqd 
[2025-05-29 01:00:15 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["6_lLcGZoHr8bh5-8KyKRs","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"hello","1"] 
[2025-05-29 01:00:15 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:00:15 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 01:00:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:00:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:00:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:00:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:00:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 01:00:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:00:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:00:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:00:37 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3p9ushg4uqd 
[2025-05-29 01:00:38 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:00:38 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=atsodup7ghf 
[2025-05-29 01:00:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:00:39 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:00:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:00:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:00:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:00:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:00:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:00:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:00:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:00:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:00:59 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=atsodup7ghf 
[2025-05-29 01:00:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:00:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:00:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:01:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:01:00 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 01:01:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:01:00 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:01:00 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:01:00 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lphvan185m9 
[2025-05-29 01:01:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:01:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:01:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:01:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:01:27 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lphvan185m9 
[2025-05-29 01:01:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:01:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:01:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:01:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:01:30 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 01:01:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:01:30 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:01:30 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:01:30 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=d1bx54p43hi 
[2025-05-29 01:02:01 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=d1bx54p43hi 
[2025-05-29 01:02:02 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:02:02 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=tygf84du6u 
[2025-05-29 01:02:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=tygf84du6u 
[2025-05-29 01:02:35 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:02:35 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=r3reye7ypvl 
[2025-05-29 01:03:06 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=r3reye7ypvl 
[2025-05-29 01:03:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:03:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7zn7ozj9fx6 
[2025-05-29 01:03:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:03:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:03:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:03:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:03:39 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7zn7ozj9fx6 
[2025-05-29 01:03:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:03:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i414sc62in 
[2025-05-29 01:04:10 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i414sc62in 
[2025-05-29 01:04:11 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:04:11 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=voyjfxkbkao 
[2025-05-29 01:04:42 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=voyjfxkbkao 
[2025-05-29 01:04:42 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:04:42 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uric0v8c2l9 
[2025-05-29 01:05:13 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uric0v8c2l9 
[2025-05-29 01:05:14 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:05:14 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i0z2yyj81qi 
[2025-05-29 01:05:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i0z2yyj81qi 
[2025-05-29 01:05:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:05:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=npggifhxv7j 
[2025-05-29 01:06:04 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=npggifhxv7j 
[2025-05-29 01:06:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:06:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:06:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:06:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:06:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 01:06:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:06:04 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:06:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:06:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9gova547xl 
[2025-05-29 01:06:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:06:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:06:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:06:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:06:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:06:09 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 01:06:09 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 01:06:09 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 01:06:09 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["0-QFui8YvBuizuc8RVI2f","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt5\"}],\"footer\":[]}}","1"] 
[2025-05-29 01:06:09 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='0-QFui8YvBuizuc8RVI2f' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:06:09 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 01:06:10 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9gova547xl 
[2025-05-29 01:06:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:06:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:06:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:06:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:06:11 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 01:06:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:06:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:06:11 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:06:11 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ehx9tklrh67 
[2025-05-29 01:06:12 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ehx9tklrh67 
[2025-05-29 01:06:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:06:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:06:12 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:06:13 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 01:06:13 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 01:06:13 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:06:13 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:06:13 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 01:06:13 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=9mbtww0hluf 
[2025-05-29 01:06:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["r-L59o9XpFl5B90cIMpmg"] 
[2025-05-29 01:06:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:06:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 01:06:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:06:18 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 01:06:18 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:06:18 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 01:06:18 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:06:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 01:06:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:06:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 01:06:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:06:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 01:06:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:06:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 01:06:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:06:44 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=9mbtww0hluf 
[2025-05-29 01:06:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 01:06:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=nkiplxlz6hd 
[2025-05-29 01:07:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=nkiplxlz6hd 
[2025-05-29 01:07:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 01:07:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=8zgnzj219ws 
[2025-05-29 01:08:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=8zgnzj219ws 
[2025-05-29 01:08:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 01:08:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=zavr5u3k8ki 
[2025-05-29 01:09:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=zavr5u3k8ki 
[2025-05-29 01:09:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 01:09:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=36m6av1adfo 
[2025-05-29 01:10:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=36m6av1adfo 
[2025-05-29 01:10:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 01:10:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=8azfsv05dne 
[2025-05-29 01:27:52 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 01:27:52 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 01:27:52 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 01:27:52 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 01:27:52 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 01:28:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 01:28:00 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 01:28:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:28:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:28:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:28:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:28:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 01:28:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:28:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:28:03 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:28:03 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cedy6ywb5ho 
[2025-05-29 01:28:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cedy6ywb5ho 
[2025-05-29 01:28:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:28:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:28:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:28:12 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:28:12 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=b3l4cvq5y9v 
[2025-05-29 01:28:12 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 01:28:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 01:28:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 01:28:12 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:28:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:28:12 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 01:28:12 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 01:28:12 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:28:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["FzWsdJRTiaQ0mf1JRtT56"] 
[2025-05-29 01:28:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:28:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:28:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:28:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:28:43 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=b3l4cvq5y9v 
[2025-05-29 01:28:44 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:28:44 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=hu9rwolwg38 
[2025-05-29 01:29:16 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=hu9rwolwg38 
[2025-05-29 01:29:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:29:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=v2w2p784upi 
[2025-05-29 01:29:49 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=v2w2p784upi 
[2025-05-29 01:29:50 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:29:50 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=wlj3mwgnm8 
[2025-05-29 01:31:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=wlj3mwgnm8 
[2025-05-29 01:31:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:31:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=reaphqpmvyf 
[2025-05-29 01:31:37 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=reaphqpmvyf 
[2025-05-29 01:31:38 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:31:38 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=4c8q13izg2v 
[2025-05-29 01:32:42 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 01:32:42 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 01:32:42 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 01:32:42 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 01:32:42 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 01:32:43 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:32:43 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=kfb3d32tbsp 
[2025-05-29 01:32:46 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 01:32:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 01:32:48 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 01:32:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:32:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:32:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:32:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:32:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:32:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:32:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='szrAXbD4jTziwCdJb9t7f' 
[2025-05-29 01:32:54 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='szrAXbD4jTziwCdJb9t7f' 
[2025-05-29 01:32:54 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:32:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:32:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:32:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:32:58 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 01:32:58 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:32:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:32:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:32:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:33:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:33:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:33:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:34:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=kfb3d32tbsp 
[2025-05-29 01:34:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:34:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=mqpcau8fn2h 
[2025-05-29 01:34:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 01:34:45 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 01:34:45 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:34:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:34:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:34:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:34:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 01:34:50 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='8GdCq3Jgp9RE4DmSgu2fS' 
[2025-05-29 01:34:50 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:34:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:34:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:34:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:35:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=mqpcau8fn2h 
[2025-05-29 01:35:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:35:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=5c1divnz86o 
[2025-05-29 01:36:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=5c1divnz86o 
[2025-05-29 01:36:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:36:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=17jjyhysii5 
[2025-05-29 01:36:40 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=17jjyhysii5 
[2025-05-29 01:39:51 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 01:39:51 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 01:39:51 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 01:39:51 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 01:39:51 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 01:39:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 01:39:56 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 01:39:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:39:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:39:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:39:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:39:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:39:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:39:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:39:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:39:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:40:00 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kb0dlCCRMItV_Us0ePcIt 
[2025-05-29 01:40:00 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kb0dlCCRMItV_Us0ePcIt, wid=hw7z7hn6r8t 
[2025-05-29 01:40:00 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 01:40:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' AND OWNER ='1' 
[2025-05-29 01:40:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kb0dlCCRMItV_Us0ePcIt"] 
[2025-05-29 01:40:00 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:40:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:40:00 +08:00Z] [INFO] - 用户加入房间 Kb0dlCCRMItV_Us0ePcIt 
[2025-05-29 01:40:00 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kb0dlCCRMItV_Us0ePcIt' AND files.currenthead=versions.vid 
[2025-05-29 01:40:00 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:40:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:40:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:40:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:40:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:40:03 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:40:03 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:40:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:40:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:40:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:40:07 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 01:44:02 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 01:44:02 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 01:44:02 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 01:44:02 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 01:44:02 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 01:44:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 01:44:06 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 01:44:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:44:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:44:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:44:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:44:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:44:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:44:12 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 01:44:38 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:44:38 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:44:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:44:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:44:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:44:48 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kb0dlCCRMItV_Us0ePcIt 
[2025-05-29 01:44:48 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kb0dlCCRMItV_Us0ePcIt, wid=3b7s8rj3n16 
[2025-05-29 01:44:48 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 01:44:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' AND OWNER ='1' 
[2025-05-29 01:44:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kb0dlCCRMItV_Us0ePcIt"] 
[2025-05-29 01:44:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:44:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:44:48 +08:00Z] [INFO] - 用户加入房间 Kb0dlCCRMItV_Us0ePcIt 
[2025-05-29 01:44:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kb0dlCCRMItV_Us0ePcIt' AND files.currenthead=versions.vid 
[2025-05-29 01:44:48 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:44:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:44:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:44:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:44:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:44:52 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:44:52 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:44:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:44:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:44:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:44:55 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:44:55 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:44:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:44:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:44:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:44:57 +08:00Z] [INFO] - 用户加入房间 Kb0dlCCRMItV_Us0ePcIt 
[2025-05-29 01:44:57 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kb0dlCCRMItV_Us0ePcIt 
[2025-05-29 01:44:57 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kb0dlCCRMItV_Us0ePcIt, wid=jlczhjmrc7l 
[2025-05-29 01:44:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' AND OWNER ='1' 
[2025-05-29 01:44:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kb0dlCCRMItV_Us0ePcIt"] 
[2025-05-29 01:44:58 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:44:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:44:58 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kb0dlCCRMItV_Us0ePcIt' AND files.currenthead=versions.vid 
[2025-05-29 01:44:58 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:44:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:44:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:44:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:45:03 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:45:03 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:45:03 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=sniwvlulna 
[2025-05-29 01:45:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 01:45:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 01:45:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:45:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:45:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 01:45:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:45:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:45:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:45:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:45:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 01:45:07 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 01:45:07 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:45:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:45:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:45:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:45:10 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 01:45:10 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:45:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:45:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:45:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:45:12 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:45:12 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:45:12 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=2cgjipb6q3u 
[2025-05-29 01:45:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 01:45:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 01:45:12 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:45:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:45:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:45:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:45:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:45:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:45:21 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:45:21 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:45:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:45:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:45:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:46:18 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='Kb0dlCCRMItV_Us0ePcIt' 
[2025-05-29 01:46:19 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:46:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:46:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:46:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:46:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:46:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:46:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:46:28 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:33 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 01:46:33 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:46:33 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=5tvaczjy56b 
[2025-05-29 01:46:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 01:46:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 01:46:33 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:46:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:46:33 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 01:46:33 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:46:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:46:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:36 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 01:46:36 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:46:36 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=kqpvmsodb3 
[2025-05-29 01:46:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 01:46:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 01:46:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:46:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:46:36 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 01:46:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["e4A_vkZOsbjWETB_E6_G0"] 
[2025-05-29 01:46:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:46:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["FzWsdJRTiaQ0mf1JRtT56"] 
[2025-05-29 01:46:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:46:42 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["FzWsdJRTiaQ0mf1JRtT56"] 
[2025-05-29 01:46:42 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:46:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["e4A_vkZOsbjWETB_E6_G0"] 
[2025-05-29 01:46:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:46:45 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["e4A_vkZOsbjWETB_E6_G0"] 
[2025-05-29 01:46:45 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:46:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kb0dlCCRMItV_Us0ePcIt, wid=3b7s8rj3n16 
[2025-05-29 01:46:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=kqpvmsodb3 
[2025-05-29 01:46:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=5tvaczjy56b 
[2025-05-29 01:46:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=2cgjipb6q3u 
[2025-05-29 01:46:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=sniwvlulna 
[2025-05-29 01:46:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kb0dlCCRMItV_Us0ePcIt, wid=jlczhjmrc7l 
[2025-05-29 01:46:47 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:46:47 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=spd6e5ubcr 
[2025-05-29 01:46:47 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 01:46:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 01:46:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 01:46:47 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:46:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:46:47 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 01:46:47 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 01:46:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["e4A_vkZOsbjWETB_E6_G0"] 
[2025-05-29 01:46:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:46:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:46:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:46:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:46:50 +08:00Z] [INFO] - 用户加入房间 kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 01:46:50 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 01:46:50 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=c12og0s6v6 
[2025-05-29 01:46:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 01:46:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["kMXvDPe2A4kwfc0UTtaNm"] 
[2025-05-29 01:46:50 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:46:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:46:50 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='kMXvDPe2A4kwfc0UTtaNm' AND files.currenthead=versions.vid 
[2025-05-29 01:46:50 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:46:51 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 01:46:51 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:46:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 01:46:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:46:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' 
[2025-05-29 01:46:57 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 01:46:57 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: kMXvDPe2A4kwfc0UTtaNm, currenthead: [object Object] 
[2025-05-29 01:46:57 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 01:46:57 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["X8SUtVyl-7iRigeg8dNNI","kMXvDPe2A4kwfc0UTtaNm","[{\"insert\":\"多人协同编辑器项目说明免责声明本项目仅作为学习项目，仅供学习交流，目前还没达到应用生产的能力；\\nmarkdown 协同中，Delta 数据结构存储仍采用 JSON.stringify 存储全量数据；canvas-editor 数据存储部分未开发；项目为本人一人开发，在架构设计、代码可阅读性、可维护性上可能存在缺陷，功能上存在不完整部分；个人精力确实有限，望大家谅解；后续项目的维护会持续跟进 issues 问题，帮忙解决大家的疑惑。（也可加V：18276861941）如果大家数据库导入失败，可以看看 [#IAKJJI: sql有外键依赖，可以按照这个顺序，原mysql中的顺序直接执行会有错误](https://gitee.com/wfeng0/mpoe/issues/IAKJJI)Luckysheet 协同luckysheet 已实现全功能协同，包括图表、图片、sheet新建、删除、复制等，因其工作量较大，不在本项目中追加，为独立的项目，请移步：> [Luckysheet 协同增强版（全功能实现）](https://gitee.com/wfeng0/luckysheet-crdt)**整体效果**<img src=#[s]#https://gitee.com/wfeng0/luckysheet-crdt/raw/master/public/result.gif#[s]# />**图表协同**<img src=#[s]#/public/chartmix.gif#[s]# />**图片协同**<img src=#[s]#/public/image.gif#[s]# />项目目录结构<p align=#[s]#center#[s]#><img src=#[d]#./public/catalog.png#[d]#/></p>项目端口说明~~~javascript/** node/base.config.js*/// 业务端口const server_port = 5000;// ws 统一端口const ws_port = 9000;/** Vue/default.config.js */// ws 协同服务地址export const ws_server_url = #[s]#ws://localhost:9000#[s]#;// node http 服务地址export const http_server_url = #[s]#http://localhost:5000#[s]#;// socket.io 服务地址export const socket_server_url = #[s]#http://localhost:5000#[s]#;地址已经给大家封装好了，直接修改上面的地址即可。~~~项目启动方式**【必看】**> 1. *** 下列命令均是在项目根目录执行【根目录  D:\\\\MPOE>  MPOE结尾】>> 2. *** 下列命令均是在项目根目录执行【根目录  D:\\\\MPOE>  MPOE结尾】>> 3. *** 下列命令均是在项目根目录执行【根目录  D:\\\\MPOE>  MPOE结尾】>> 4. node 版本说明：**本应用基于 node v14**,其他版本如若报错，可以自行搭建其他版本的应用>> 5. 命令说明：>>    1. 执行的命令均是为大家封装好的，如果大家懂得原理，也可以自行操作>> 6. 依赖下载方式：>>    1. npm run installVue ：下载Vue相关依赖>    2. npm run installNode ：下载 node 相关依赖>> 7. 启动方式：>>    1. 协同服务：>>       ```javascript>       1. **推荐使用 Websocket 的协同方式**>           正常启动 node 即可支持 y-websocket 协同服务>       ```>>    2. （方式一）npm run node>>       1. 上述方式启动的是Node服务器，地址为 [http://localhost:5000](http://localhost:5000) ，该方式**运行的是Vue打包后的dist文件**>>    3. （方式二）npm run dev>>       1. 上述启动的是vue的开发环境，也可以使用>       2. 调试后，请重新打包放在 node服务上(打包的dist输出目录已经自动设置到node/public下)>>    4. 几个注意事项：>>       1. 请确保数据库服务正常开启，在Mysql文价夹下，有当前文件的数据库表说明文件：README.md 以及项目数据库文件 mysql.sql,如果对项目数据结构有疑问，请先查看相关数据结构说明文档哈>>       2. 文件上传的路径问题，mvc -> controller -> file -> uploadFile 中有一个mv()方法，传入的是当前执行命令的根路径，如果在协同编辑中文件上传出现问题，可以看看这里；>>       3. node采用较强的模块化思想，每个单独的模块都会独立导出 index.js ，因此，node有很多的 index.js，注意区分;>>       4. 重新打包后（vue项目包、luckysheet二开包），luckysheet 文件的处理：>       5. 将luckysheet的dist放到node项目下，确保 index.html 引用正确的 luckysheet 即可。>       6. socket.io 在服务端有一个跨域的配置，在 Node/socket/index.js 中，这是聊天用的，大家根据实际情况配置即可。```jsconst io = socketIO(http, {allowEIO3: true,cors: {origin: [#[s]#http://localhost:3000#[s]#,#[s]#http://127.0.0.1:3000#[s]#,#[s]#http://localhost:3001#[s]#,#[s]#http://127.0.0.1:3001#[s]#,],methods: [#[s]#GET#[s]#, #[s]#POST#[s]#],credentials: true,},});```打包后文件处理```javascript1. 打包命令npm run build2. 生成 dist 目录，将自动放置到 node/public 下3. 检查并调整script引用地址为node结构下的luckysheet地址<!-- 引入 luckySheet（下列两个地址需要重新定位，确保文件引入正确） --><script src=#[s]#../libs/luckysheet/plugins/js/plugin.js#[s]#></script><script src=#[s]#../libs/luckysheet/luckysheet.umd.js#[s]#></script>4. 打包后，public 下的libs目录会一起打包到 dist 中，luckysheet 如果没有复制到node中，则引的是当前目录下的 libs 即可```项目地址gitee: [https://gitee.com/wfeng0/mpoe](https://gitee.com/wfeng0/mpoe)文章地址yjs+quill协同: [https://blog.csdn.net/weixin_47746452/article/details/132402713?spm=1001.2014.3001.5501](https://blog.csdn.net/weixin_47746452/article/details/132402713?spm=1001.2014.3001.5501)luckysheet协同：[https://blog.csdn.net/weixin_47746452/article/details/134240905?spm=1001.2014.3001.5501](https://blog.csdn.net/weixin_47746452/article/details/134240905?spm=1001.2014.3001.5501)掘金：[https://juejin.cn/post/7298170736480485376](https://juejin.cn/post/7298170736480485376)B站视频B站：[https://www.bilibili.com/video/BV1Sj41117v4/?spm_id_from=333.999.0.0&vd_source=604a25c77e296b4ce29b1e6e6cf03ea6](https://www.bilibili.com/video/BV1Sj41117v4/?spm_id_from=333.999.0.0&vd_source=604a25c77e296b4ce29b1e6e6cf03ea6)\\n\"}]","1"] 
[2025-05-29 01:46:57 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='X8SUtVyl-7iRigeg8dNNI' WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' 
[2025-05-29 01:46:57 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 01:46:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:46:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:46:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:47:00 +08:00Z] [INFO] - 用户加入房间 kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 01:47:00 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 01:47:00 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=d3nvsplk9gj 
[2025-05-29 01:47:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 01:47:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["kMXvDPe2A4kwfc0UTtaNm"] 
[2025-05-29 01:47:00 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:47:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:47:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:47:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:47:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:47:06 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:47:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 01:47:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:47:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=62j99lcoom 
[2025-05-29 01:47:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 01:47:06 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:47:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:47:06 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 01:47:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:47:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:47:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:47:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:47:08 +08:00Z] [INFO] - 用户加入房间 RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 01:47:08 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 01:47:08 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=4z4bhoxh6m8 
[2025-05-29 01:47:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='RUc8w3XyXmxD1KbA5ZO1o' AND OWNER ='1' 
[2025-05-29 01:47:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["RUc8w3XyXmxD1KbA5ZO1o"] 
[2025-05-29 01:47:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:47:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:47:08 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='RUc8w3XyXmxD1KbA5ZO1o' AND files.currenthead=versions.vid 
[2025-05-29 01:47:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:47:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:47:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:47:09 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:47:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='RUc8w3XyXmxD1KbA5ZO1o' 
[2025-05-29 01:47:11 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='RUc8w3XyXmxD1KbA5ZO1o' 
[2025-05-29 01:47:11 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:47:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:47:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:47:12 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:47:15 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 01:47:18 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=spd6e5ubcr 
[2025-05-29 01:47:18 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:47:18 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=1sc2g03fascj 
[2025-05-29 01:47:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='RUc8w3XyXmxD1KbA5ZO1o' 
[2025-05-29 01:47:24 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='RUc8w3XyXmxD1KbA5ZO1o' 
[2025-05-29 01:47:24 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:47:37 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=62j99lcoom 
[2025-05-29 01:47:38 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:47:38 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=c162gxjgevr 
[2025-05-29 01:47:39 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=4z4bhoxh6m8 
[2025-05-29 01:47:40 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 01:47:40 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=9aqdicar1qa 
[2025-05-29 01:47:51 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=1sc2g03fascj 
[2025-05-29 01:47:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:47:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=ea38y6dtdq 
[2025-05-29 01:48:10 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=c162gxjgevr 
[2025-05-29 01:48:11 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:48:11 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=cmcz1t03z3r 
[2025-05-29 01:48:12 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=9aqdicar1qa 
[2025-05-29 01:48:13 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 01:48:13 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=zhbb1azn6hd 
[2025-05-29 01:48:24 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=ea38y6dtdq 
[2025-05-29 01:48:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:48:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=plqly4498i 
[2025-05-29 01:49:01 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=cmcz1t03z3r 
[2025-05-29 01:49:01 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=c12og0s6v6 
[2025-05-29 01:49:01 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=plqly4498i 
[2025-05-29 01:49:01 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=zhbb1azn6hd 
[2025-05-29 01:49:01 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=d3nvsplk9gj 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=8mc0ilkuw2w 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=4m576wxf23r 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=ct5gj7hzjhq 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=ylfksmgvjl 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:49:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=tdei4ts9ip 
[2025-05-29 01:49:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=ylfksmgvjl 
[2025-05-29 01:49:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=tdei4ts9ip 
[2025-05-29 01:49:34 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=8mc0ilkuw2w 
[2025-05-29 01:49:34 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 01:49:34 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=0im91ktgugoj 
[2025-05-29 01:49:34 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:49:34 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=fhwf8w7r8z 
[2025-05-29 01:49:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:49:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=m63vejsjd7c 
[2025-05-29 01:50:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=m63vejsjd7c 
[2025-05-29 01:50:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:50:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=fef3c0o73v 
[2025-05-29 01:50:54 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 01:50:54 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 01:50:54 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 01:50:54 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=qlhcp5hix4n 
[2025-05-29 01:50:54 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/RUc8w3XyXmxD1KbA5ZO1o 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=xjlbm83nm5 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=le999kg2ks 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=19dr194wwk3i 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:50:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=epvfq3ghpv 
[2025-05-29 01:50:58 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=RUc8w3XyXmxD1KbA5ZO1o, wid=xjlbm83nm5 
[2025-05-29 01:50:58 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=19dr194wwk3i 
[2025-05-29 01:50:58 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=epvfq3ghpv 
[2025-05-29 01:50:58 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=qlhcp5hix4n 
[2025-05-29 01:50:58 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=le999kg2ks 
[2025-05-29 01:51:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 01:51:00 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 01:51:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:51:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:51:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:51:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:51:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:51:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:51:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:51:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:51:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:51:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='t' AND filetype='markdown' AND filesuffix='md' AND owner='1' 
[2025-05-29 01:51:11 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('ksK0h9x0W2b5gvW7qDrg3','t','markdown','md','1') 
[2025-05-29 01:51:11 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 01:51:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:51:14 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:51:14 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:51:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:51:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:51:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:51:18 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 01:51:27 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:51:27 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:51:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:51:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:51:28 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:51:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:51:31 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:51:31 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:51:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:51:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:51:31 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:51:34 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 01:51:46 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 01:51:48 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 01:52:16 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:52:16 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:52:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:52:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:19 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/ksK0h9x0W2b5gvW7qDrg3 
[2025-05-29 01:52:19 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=ixu0u44giko 
[2025-05-29 01:52:19 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 01:52:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' AND OWNER ='1' 
[2025-05-29 01:52:19 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["ksK0h9x0W2b5gvW7qDrg3"] 
[2025-05-29 01:52:19 +08:00Z] [INFO] - 用户加入房间 ksK0h9x0W2b5gvW7qDrg3 
[2025-05-29 01:52:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:52:19 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:52:19 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='ksK0h9x0W2b5gvW7qDrg3' AND files.currenthead=versions.vid 
[2025-05-29 01:52:19 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 01:52:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:52:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:20 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:52:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:52:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:52:27 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:52:27 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:52:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:52:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:28 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:33 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:52:33 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:52:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:52:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:36 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:52:36 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:52:36 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=5nzyy2g7ki6 
[2025-05-29 01:52:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 01:52:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 01:52:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 01:52:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:52:36 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 01:52:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:52:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 01:52:40 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 01:52:40 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:52:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:52:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:44 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 01:52:44 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:52:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:52:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:52:48 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:52:48 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:52:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:52:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:52:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:52:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:52:52 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='ksK0h9x0W2b5gvW7qDrg3' 
[2025-05-29 01:52:52 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:52:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=ixu0u44giko 
[2025-05-29 01:52:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/ksK0h9x0W2b5gvW7qDrg3 
[2025-05-29 01:52:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=rfmgiurmaq 
[2025-05-29 01:53:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:53:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:53:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:53:09 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=5nzyy2g7ki6 
[2025-05-29 01:53:09 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:53:09 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=3aiu8urqbow 
[2025-05-29 01:53:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='2' AND filetype='markdown' AND filesuffix='md' AND owner='1' 
[2025-05-29 01:53:24 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('noh-zPA8xYOoUivLbjcNu','2','markdown','md','1') 
[2025-05-29 01:53:24 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 01:53:25 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=rfmgiurmaq 
[2025-05-29 01:53:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/ksK0h9x0W2b5gvW7qDrg3 
[2025-05-29 01:53:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=ktufbj1m1as 
[2025-05-29 01:53:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='noh-zPA8xYOoUivLbjcNu' 
[2025-05-29 01:53:29 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='noh-zPA8xYOoUivLbjcNu' 
[2025-05-29 01:53:29 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:53:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:53:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:53:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:53:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='noh-zPA8xYOoUivLbjcNu' 
[2025-05-29 01:53:36 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='noh-zPA8xYOoUivLbjcNu' 
[2025-05-29 01:53:36 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:53:42 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=3aiu8urqbow 
[2025-05-29 01:53:42 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:53:42 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=x6688kv9o8 
[2025-05-29 01:53:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:53:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:53:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:53:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='6' AND filetype='markdown' AND filesuffix='md' AND owner='1' 
[2025-05-29 01:53:50 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('coakaJzIaAKE-0Es1W0WF','6','markdown','md','1') 
[2025-05-29 01:53:50 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 01:53:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='coakaJzIaAKE-0Es1W0WF' 
[2025-05-29 01:53:52 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='coakaJzIaAKE-0Es1W0WF' 
[2025-05-29 01:53:52 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:53:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:53:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:53:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:53:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='coakaJzIaAKE-0Es1W0WF' 
[2025-05-29 01:53:58 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='coakaJzIaAKE-0Es1W0WF' 
[2025-05-29 01:53:58 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:53:58 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=ktufbj1m1as 
[2025-05-29 01:53:58 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/ksK0h9x0W2b5gvW7qDrg3 
[2025-05-29 01:53:58 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=vt1p9rr8is 
[2025-05-29 01:54:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:54:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:54:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:54:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='3' AND filetype='markdown' AND filesuffix='md' AND owner='1' 
[2025-05-29 01:54:04 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('HPGJc-rsmZBGZmJF-VYl-','3','markdown','md','1') 
[2025-05-29 01:54:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 01:54:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='HPGJc-rsmZBGZmJF-VYl-' 
[2025-05-29 01:54:06 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='HPGJc-rsmZBGZmJF-VYl-' 
[2025-05-29 01:54:06 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:54:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:54:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:54:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:54:15 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=x6688kv9o8 
[2025-05-29 01:54:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 01:54:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=f35gf0gqzmo 
[2025-05-29 01:54:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='HPGJc-rsmZBGZmJF-VYl-' 
[2025-05-29 01:54:17 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='HPGJc-rsmZBGZmJF-VYl-' 
[2025-05-29 01:54:17 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:54:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:54:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:54:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:54:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='5' AND filetype='markdown' AND filesuffix='md' AND owner='1' 
[2025-05-29 01:54:23 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('aFp5eVGh4EDmVcHhzWzWl','5','markdown','md','1') 
[2025-05-29 01:54:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 01:54:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:54:25 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:54:25 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:54:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:54:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:54:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:54:29 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:54:29 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:54:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:54:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:54:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:54:31 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=vt1p9rr8is 
[2025-05-29 01:54:31 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/ksK0h9x0W2b5gvW7qDrg3 
[2025-05-29 01:54:31 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=r1yvqgoot1 
[2025-05-29 01:54:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:54:35 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:54:35 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:54:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:54:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:54:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:54:41 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=ksK0h9x0W2b5gvW7qDrg3, wid=r1yvqgoot1 
[2025-05-29 01:54:41 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=f35gf0gqzmo 
[2025-05-29 01:54:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:54:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:54:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:56:18 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 01:56:19 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 01:56:19 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 01:56:19 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 01:56:19 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 01:56:32 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 01:56:32 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 01:56:32 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 01:56:32 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 01:56:32 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 01:56:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 01:56:37 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 01:56:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:56:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:56:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:56:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:56:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:56:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:56:45 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:56:45 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 01:56:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:56:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:56:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:56:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:56:48 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:56:48 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 01:56:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 01:56:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 01:56:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:56:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:56:55 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='aFp5eVGh4EDmVcHhzWzWl' 
[2025-05-29 01:56:55 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 01:56:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:56:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:56:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:57:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 01:57:11 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 01:57:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 01:57:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 01:57:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:57:13 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:57:13 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 01:57:13 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:57:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 01:57:13 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:57:13 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=giaeo5vsrf7 
[2025-05-29 01:57:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 01:57:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:57:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 01:57:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:57:32 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:57:32 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:57:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 01:57:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:57:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:57:36 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["0-QFui8YvBuizuc8RVI2f"] 
[2025-05-29 01:57:36 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: 0-QFui8YvBuizuc8RVI2f, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:57:36 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt5\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","0-QFui8YvBuizuc8RVI2f"] 
[2025-05-29 01:57:36 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 01:57:36 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["AzTlzuCXPyRCzuZE4BH6l","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,116,116,116,53,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"回滚到版本: 2025/5/29 12:50:58","1"] 
[2025-05-29 01:57:36 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:57:36 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 01:57:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:57:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:57:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 01:57:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 01:57:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:57:44 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 01:57:44 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 01:57:44 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 01:57:44 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["UTPh4-F6W8GiXS8RWufJm","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","1"] 
[2025-05-29 01:57:44 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='UTPh4-F6W8GiXS8RWufJm' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:57:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 01:57:44 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["PWwhf3gjS8D1xU_IYJWn_","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"回滚到版本: 2025/5/29 13:00:15","1"] 
[2025-05-29 01:57:44 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 01:57:44 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 01:57:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 01:57:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 01:57:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=giaeo5vsrf7 
[2025-05-29 01:57:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:57:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=90xw3of4xbj 
[2025-05-29 01:58:16 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=90xw3of4xbj 
[2025-05-29 01:58:17 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:58:17 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=79pzz00puco 
[2025-05-29 01:58:49 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=79pzz00puco 
[2025-05-29 01:58:50 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 01:58:50 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=67vtqd6q1oh 
[2025-05-29 02:00:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=67vtqd6q1oh 
[2025-05-29 02:00:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:00:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=okwyuf533g 
[2025-05-29 02:01:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=okwyuf533g 
[2025-05-29 02:01:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:01:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4bf6wn989iq 
[2025-05-29 02:01:52 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:01:53 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:01:53 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:01:53 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:01:53 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:01:53 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:01:53 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=snwff4f0cm 
[2025-05-29 02:01:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:01:57 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:01:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:01:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:01:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:01:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:01:59 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:01:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:01:59 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 02:01:59 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:01:59 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rrhfhn1p4j 
[2025-05-29 02:02:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:02:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:02:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:02:04 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:02:04 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 02:02:04 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:02:04 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["46m9VcRBA3u8VEDjMnh-o","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt5\"}],\"footer\":[]}}","1"] 
[2025-05-29 02:02:04 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='46m9VcRBA3u8VEDjMnh-o' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:02:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:02:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:02:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:02:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 02:02:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:02:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:02:08 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["46m9VcRBA3u8VEDjMnh-o"] 
[2025-05-29 02:02:08 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: 46m9VcRBA3u8VEDjMnh-o, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:02:08 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","46m9VcRBA3u8VEDjMnh-o"] 
[2025-05-29 02:02:08 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:02:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:02:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:02:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 02:02:10 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:02:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:02:10 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["46m9VcRBA3u8VEDjMnh-o"] 
[2025-05-29 02:02:10 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: 46m9VcRBA3u8VEDjMnh-o, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:02:10 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt5\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","46m9VcRBA3u8VEDjMnh-o"] 
[2025-05-29 02:02:10 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:02:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:02:10 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:02:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rrhfhn1p4j 
[2025-05-29 02:02:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:02:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:02:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:02:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:02:12 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:02:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:02:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:02:13 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:02:13 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pld0bqzinop 
[2025-05-29 02:03:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:03:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:04:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:04:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:04:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:04:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:04:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:04:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:04:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:04:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:06:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 02:06:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:06:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:06:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:06:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:06:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:08:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pld0bqzinop 
[2025-05-29 02:08:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=snwff4f0cm 
[2025-05-29 02:08:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:08:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ptxp2i01mor 
[2025-05-29 02:08:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:08:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6t05ywbjh9 
[2025-05-29 02:08:50 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:08:50 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:08:50 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:08:50 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:08:50 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:08:50 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e5q41me62sd 
[2025-05-29 02:08:50 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:08:50 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:08:50 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jlhux7xrb5 
[2025-05-29 02:08:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e5q41me62sd 
[2025-05-29 02:08:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jlhux7xrb5 
[2025-05-29 02:08:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:08:57 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:08:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:08:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:08:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:09:01 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:09:01 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:09:01 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:09:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:09:01 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:09:01 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=aq6i7w5du9 
[2025-05-29 02:09:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:09:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:09:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 02:09:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:09:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:09:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:09:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:09:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:09:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 02:09:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:09:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=aq6i7w5du9 
[2025-05-29 02:09:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:09:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7nh8gp1hjdx 
[2025-05-29 02:10:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7nh8gp1hjdx 
[2025-05-29 02:10:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:10:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lmvkvv1awds 
[2025-05-29 02:10:38 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lmvkvv1awds 
[2025-05-29 02:10:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:10:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2xl1hcztbq2 
[2025-05-29 02:12:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2xl1hcztbq2 
[2025-05-29 02:12:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:12:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mhnbp7dvqj 
[2025-05-29 02:13:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mhnbp7dvqj 
[2025-05-29 02:13:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:13:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ano4rtb27eh 
[2025-05-29 02:13:33 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:13:33 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:13:33 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:13:33 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:13:33 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:13:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:13:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=je7w4ynvlik 
[2025-05-29 02:13:36 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=je7w4ynvlik 
[2025-05-29 02:13:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:13:38 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:13:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:13:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:13:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:13:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:13:40 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:13:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:13:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:13:40 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:13:40 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=aj66b9efwj9 
[2025-05-29 02:13:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:13:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:13:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:13:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:13:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:13:53 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["46m9VcRBA3u8VEDjMnh-o"] 
[2025-05-29 02:13:53 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: 46m9VcRBA3u8VEDjMnh-o, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:13:53 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hellottt5\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","46m9VcRBA3u8VEDjMnh-o"] 
[2025-05-29 02:13:53 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:13:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:13:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:14:10 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=aj66b9efwj9 
[2025-05-29 02:14:11 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:14:11 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c77c43cfn84 
[2025-05-29 02:14:32 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:14:33 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:14:33 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:14:33 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:14:33 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:14:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:14:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9uko8492mdr 
[2025-05-29 02:14:35 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9uko8492mdr 
[2025-05-29 02:14:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:14:37 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:14:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:14:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:14:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:14:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:14:38 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:14:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:14:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:14:38 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:14:38 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gcy0hhtwpj 
[2025-05-29 02:14:42 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:14:42 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:14:45 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:14:45 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:14:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:14:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:14:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:14:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:15:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:15:02 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["AzTlzuCXPyRCzuZE4BH6l"] 
[2025-05-29 02:15:02 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:15:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:15:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:15:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:15:04 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["6_lLcGZoHr8bh5-8KyKRs"] 
[2025-05-29 02:15:04 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:15:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:15:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:15:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:15:05 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["3cE5_7wNd4v8d-Jg-U_mh"] 
[2025-05-29 02:15:05 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:15:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:15:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:15:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=gcy0hhtwpj 
[2025-05-29 02:15:11 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:15:11 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rglvnx26hm 
[2025-05-29 02:15:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:15:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:15:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:15:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:15:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:15:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:15:42 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rglvnx26hm 
[2025-05-29 02:15:43 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:15:43 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=agdk5p7nr1 
[2025-05-29 02:15:53 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["DJTV8yt7c53dJlm9qfqOD","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"2","1"] 
[2025-05-29 02:15:53 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:15:53 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:15:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:15:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:15:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["DJTV8yt7c53dJlm9qfqOD"] 
[2025-05-29 02:15:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:16:00 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=agdk5p7nr1 
[2025-05-29 02:16:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:16:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:16:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:16:01 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:16:01 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:16:01 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:16:01 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 02:16:01 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:16:01 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bg18nggmbgf 
[2025-05-29 02:16:07 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["NeXeKOx_1gVGycFw2lZI1","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,103,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"5","1"] 
[2025-05-29 02:16:07 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:16:07 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:16:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:16:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:16:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["DJTV8yt7c53dJlm9qfqOD"] 
[2025-05-29 02:16:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:16:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:16:15 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:16:15 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 02:16:15 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:16:15 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["YJezt6DmQ_zXEa4X2xGrV","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\\n\"}],\"footer\":[]}}","1"] 
[2025-05-29 02:16:15 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='YJezt6DmQ_zXEa4X2xGrV' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:16:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:16:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:16:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:16:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:16:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:16:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:16:16 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:16:16 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: YJezt6DmQ_zXEa4X2xGrV, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:16:16 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:16:17 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:16:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:16:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:16:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["DJTV8yt7c53dJlm9qfqOD"] 
[2025-05-29 02:16:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:16:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:16:26 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:16:26 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: YJezt6DmQ_zXEa4X2xGrV, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:16:26 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\\n\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:16:26 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:16:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:16:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:16:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:16:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:16:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:16:29 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:16:29 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: YJezt6DmQ_zXEa4X2xGrV, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:16:29 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:16:29 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:16:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:16:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:16:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bg18nggmbgf 
[2025-05-29 02:16:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:16:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pg3x1fd6ou 
[2025-05-29 02:17:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pg3x1fd6ou 
[2025-05-29 02:17:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:17:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=67g169i1whg 
[2025-05-29 02:18:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=67g169i1whg 
[2025-05-29 02:18:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:18:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9vdctvpzh4g 
[2025-05-29 02:19:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9vdctvpzh4g 
[2025-05-29 02:19:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:19:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=m9jj881vlr 
[2025-05-29 02:20:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=m9jj881vlr 
[2025-05-29 02:20:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:20:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=46yo0rnmvsa 
[2025-05-29 02:21:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=46yo0rnmvsa 
[2025-05-29 02:21:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:21:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=282c552x7en 
[2025-05-29 02:21:26 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:21:26 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:21:26 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:21:27 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:21:27 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:21:27 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:21:27 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jfdrzql4awd 
[2025-05-29 02:21:29 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jfdrzql4awd 
[2025-05-29 02:21:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:21:31 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:21:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:21:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:21:31 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:21:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:21:34 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:21:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:21:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:21:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:21:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hyf2xyvda5s 
[2025-05-29 02:21:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["DJTV8yt7c53dJlm9qfqOD"] 
[2025-05-29 02:21:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:21:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:21:48 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:21:48 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: YJezt6DmQ_zXEa4X2xGrV, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:21:48 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\\n\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:21:48 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:21:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:21:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:21:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["DJTV8yt7c53dJlm9qfqOD"] 
[2025-05-29 02:21:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:21:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:21:53 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:21:53 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: YJezt6DmQ_zXEa4X2xGrV, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:21:53 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\\n\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:21:53 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:21:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:21:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:21:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:21:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:21:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:21:54 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:21:54 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: YJezt6DmQ_zXEa4X2xGrV, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:21:54 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:21:54 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:21:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:21:55 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:22:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:22:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:22:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:22:03 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:22:03 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: YJezt6DmQ_zXEa4X2xGrV, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:22:03 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:22:03 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:22:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:22:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:22:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hyf2xyvda5s 
[2025-05-29 02:22:07 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:22:07 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xbi3ytx0t9j 
[2025-05-29 02:22:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["NeXeKOx_1gVGycFw2lZI1"] 
[2025-05-29 02:22:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:22:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["NeXeKOx_1gVGycFw2lZI1"] 
[2025-05-29 02:22:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:22:38 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xbi3ytx0t9j 
[2025-05-29 02:22:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:22:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e8m4hu546lh 
[2025-05-29 02:23:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e8m4hu546lh 
[2025-05-29 02:23:12 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:23:12 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=o3jbbvqr73s 
[2025-05-29 02:24:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=o3jbbvqr73s 
[2025-05-29 02:24:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:24:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=w2o1n6aotoq 
[2025-05-29 02:25:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=w2o1n6aotoq 
[2025-05-29 02:25:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:25:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zgwpu0yn6w 
[2025-05-29 02:25:54 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:25:55 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:25:55 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:25:55 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:25:55 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:25:55 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:25:55 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i7t3gufzvta 
[2025-05-29 02:25:58 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=i7t3gufzvta 
[2025-05-29 02:26:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:26:00 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:26:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:26:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:26:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:26:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:26:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:26:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:26:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:26:03 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:26:03 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xmw48zmkl6k 
[2025-05-29 02:26:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:26:10 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["NeXeKOx_1gVGycFw2lZI1"] 
[2025-05-29 02:26:10 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:26:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:26:10 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:26:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:26:13 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["DJTV8yt7c53dJlm9qfqOD"] 
[2025-05-29 02:26:13 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:26:13 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:26:13 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:26:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:26:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:26:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:26:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:26:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:26:17 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:26:17 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: YJezt6DmQ_zXEa4X2xGrV, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:26:17 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","YJezt6DmQ_zXEa4X2xGrV"] 
[2025-05-29 02:26:17 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:26:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:26:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:26:36 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xmw48zmkl6k 
[2025-05-29 02:26:36 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:26:36 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4ruenh64iwe 
[2025-05-29 02:26:46 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["QYShYScbIqJUFd-eE53J-","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,97,98,108,101,34,44,34,116,114,76,105,115,116,34,58,91,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,50,100,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,51,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,52,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,100,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,51,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,123,34,118,97,108,117,101,34,58,34,104,34,125,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,44,123,34,104,101,105,103,104,116,34,58,52,50,44,34,116,100,76,105,115,116,34,58,91,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,44,123,34,99,111,108,115,112,97,110,34,58,49,44,34,114,111,119,115,112,97,110,34,58,49,44,34,118,97,108,117,101,34,58,91,93,125,93,44,34,109,105,110,72,101,105,103,104,116,34,58,52,50,125,93,44,34,119,105,100,116,104,34,58,53,53,51,46,57,57,57,57,57,57,57,57,57,57,57,57,57,44,34,104,101,105,103,104,116,34,58,51,55,56,44,34,99,111,108,103,114,111,117,112,34,58,91,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,44,123,34,119,105,100,116,104,34,58,53,53,46,52,125,93,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"表格","1"] 
[2025-05-29 02:26:46 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:26:46 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:26:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:26:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:26:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:26:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:26:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:26:56 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:26:56 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 02:26:56 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:26:56 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["ChN9eyZRFTkn0lpoXSHq6","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":97,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"helloworld\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":433,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","1"] 
[2025-05-29 02:26:56 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='ChN9eyZRFTkn0lpoXSHq6' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:26:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:26:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:26:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:27:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:00 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["ChN9eyZRFTkn0lpoXSHq6"] 
[2025-05-29 02:27:00 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: ChN9eyZRFTkn0lpoXSHq6, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:00 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":97,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"helloworld\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":433,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","ChN9eyZRFTkn0lpoXSHq6"] 
[2025-05-29 02:27:00 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:03 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4ruenh64iwe 
[2025-05-29 02:27:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:27:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:27:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:27:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:27:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:27:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1kcqq8hi99y 
[2025-05-29 02:27:20 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["qW90OoDB7Yq_s64db6omj","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"2","1"] 
[2025-05-29 02:27:20 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:20 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:27:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:27:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:22 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:27:22 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 02:27:22 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:27:22 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["mkH5ZzNAPXixa8X4s2xPo","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","1"] 
[2025-05-29 02:27:22 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='mkH5ZzNAPXixa8X4s2xPo' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:27:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:27:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:24 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:24 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:24 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:24 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:27:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:27 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:27 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:27 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:27 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["qW90OoDB7Yq_s64db6omj"] 
[2025-05-29 02:27:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:28 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:28 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:28 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:28 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:27:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:30 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:30 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:30 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:30 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:27:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:33 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:33 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:33 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:33 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:35 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1kcqq8hi99y 
[2025-05-29 02:27:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:27:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:27:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:27:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:36 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:27:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:27:36 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:36 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dacf3no91fw 
[2025-05-29 02:27:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:27:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:41 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:41 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:41 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:41 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:43 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:27:43 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:44 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:44 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:44 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:44 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:53 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["qW90OoDB7Yq_s64db6omj"] 
[2025-05-29 02:27:53 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:27:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:27:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:27:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:27:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:27:58 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:58 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:27:58 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:27:58 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:27:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:27:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:28:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:28:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:28:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:28:00 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:28:00 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:28:00 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:28:00 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:28:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:28:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:28:06 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dacf3no91fw 
[2025-05-29 02:28:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:28:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=khwqkrfwj 
[2025-05-29 02:28:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:28:10 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:28:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:28:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:28:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=khwqkrfwj 
[2025-05-29 02:28:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:28:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:28:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:28:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:28:23 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 02:28:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:28:23 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 02:28:23 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:28:23 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=z6uctlzqm0p 
[2025-05-29 02:28:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["r-L59o9XpFl5B90cIMpmg"] 
[2025-05-29 02:28:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:28:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:28:27 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:28:27 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: fhOPjyXgtzS-N6EheItGI, currenthead: [object Object] 
[2025-05-29 02:28:27 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:28:27 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["sy0GcWJ7U7VPq4G9bu0CO","fhOPjyXgtzS-N6EheItGI","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\\n\"}],\"footer\":[]}}","1"] 
[2025-05-29 02:28:27 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='sy0GcWJ7U7VPq4G9bu0CO' WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:28:27 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:28:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:28:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:28:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 02:28:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:28:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:28:28 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:28:28 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: sy0GcWJ7U7VPq4G9bu0CO, fileid: fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:28:28 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld-\\n是大哥大哥\\n合适啦带回来四大金刚黄老师几个哈\\n\"}],\"footer\":[]}}","fhOPjyXgtzS-N6EheItGI","sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:28:29 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:28:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:28:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:28:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["15sZ1EHAKwxYlhDHjchak"] 
[2025-05-29 02:28:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:28:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:28:31 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:28:31 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: sy0GcWJ7U7VPq4G9bu0CO, fileid: fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:28:31 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld-\\n\"}],\"footer\":[]}}","fhOPjyXgtzS-N6EheItGI","sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:28:31 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:28:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:28:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:28:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 02:28:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:28:54 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=z6uctlzqm0p 
[2025-05-29 02:28:55 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:28:55 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=ww209pdhmw 
[2025-05-29 02:28:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 02:28:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:29:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["r-L59o9XpFl5B90cIMpmg"] 
[2025-05-29 02:29:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:29:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["r-L59o9XpFl5B90cIMpmg"] 
[2025-05-29 02:29:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:29:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:29:06 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:29:06 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: sy0GcWJ7U7VPq4G9bu0CO, fileid: fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:29:06 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\\n\"}],\"footer\":[]}}","fhOPjyXgtzS-N6EheItGI","sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:29:06 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:29:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:29:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:29:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["D5ca7mMw-RiwLd4iFOmN6"] 
[2025-05-29 02:29:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:29:26 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=ww209pdhmw 
[2025-05-29 02:29:26 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:29:26 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=lbn16mzumxd 
[2025-05-29 02:29:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["D5ca7mMw-RiwLd4iFOmN6"] 
[2025-05-29 02:29:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:29:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:29:29 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:29:29 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: sy0GcWJ7U7VPq4G9bu0CO, fileid: fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:29:29 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"gwewh\"}],\"footer\":[]}}","fhOPjyXgtzS-N6EheItGI","sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:29:29 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:29:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:29:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:29:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["r-L59o9XpFl5B90cIMpmg"] 
[2025-05-29 02:29:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:29:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:29:33 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:29:33 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: sy0GcWJ7U7VPq4G9bu0CO, fileid: fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:29:33 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\\n\"}],\"footer\":[]}}","fhOPjyXgtzS-N6EheItGI","sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:29:33 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:29:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:29:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:29:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:29:35 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["r-L59o9XpFl5B90cIMpmg"] 
[2025-05-29 02:29:35 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:29:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:29:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:29:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["K7jJxLJEzyUuQySIJG6cr"] 
[2025-05-29 02:29:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:29:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' 
[2025-05-29 02:29:36 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:29:36 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: sy0GcWJ7U7VPq4G9bu0CO, fileid: fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:29:36 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld-\\n是大哥大哥\\n合适啦带回来四大金刚黄老师几个哈\\n\"}],\"footer\":[]}}","fhOPjyXgtzS-N6EheItGI","sy0GcWJ7U7VPq4G9bu0CO"] 
[2025-05-29 02:29:36 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:29:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:29:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:29:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["D5ca7mMw-RiwLd4iFOmN6"] 
[2025-05-29 02:29:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:29:57 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=lbn16mzumxd 
[2025-05-29 02:29:58 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:29:58 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=an6sk5pgv4v 
[2025-05-29 02:30:30 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=an6sk5pgv4v 
[2025-05-29 02:30:31 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:30:31 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=yytnhj5midb 
[2025-05-29 02:31:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=yytnhj5midb 
[2025-05-29 02:31:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:31:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=gklz1cpsx89 
[2025-05-29 02:32:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=gklz1cpsx89 
[2025-05-29 02:32:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:32:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=tqn0uvl00hh 
[2025-05-29 02:33:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=tqn0uvl00hh 
[2025-05-29 02:33:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:33:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=09hczor1zh1r 
[2025-05-29 02:33:44 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:33:44 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:33:44 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:33:44 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:33:44 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:33:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:33:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=5g1i403tbay 
[2025-05-29 02:33:47 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=5g1i403tbay 
[2025-05-29 02:33:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:33:49 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:33:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:33:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:33:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:34:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:34:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:34:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:34:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:34:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:34:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qz71l87ye4 
[2025-05-29 02:34:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:34:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:34:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:34:15 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:34:15 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:34:15 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:34:15 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:34:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:34:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:34:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:34:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:34:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qz71l87ye4 
[2025-05-29 02:34:35 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:34:35 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=45uy5ot9o19 
[2025-05-29 02:34:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:34:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:34:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:34:58 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:34:58 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:34:58 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:34:58 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:34:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:34:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:35:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:35:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:00 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:35:00 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:35:00 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:35:00 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:35:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:35:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:35:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:04 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:35:04 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: mkH5ZzNAPXixa8X4s2xPo, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:35:04 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","mkH5ZzNAPXixa8X4s2xPo"] 
[2025-05-29 02:35:04 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:35:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=45uy5ot9o19 
[2025-05-29 02:35:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:35:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=urmwra0biw 
[2025-05-29 02:35:17 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["OkyXMYjlW8dbURxKmqqCo","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,92,110,119,111,114,108,100,104,101,108,108,111,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"3","1"] 
[2025-05-29 02:35:17 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:17 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:35:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:35:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:35:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:22 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:35:22 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 02:35:22 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:35:22 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["KmuP6iemIuJLV52xBQ25-","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","1"] 
[2025-05-29 02:35:22 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='KmuP6iemIuJLV52xBQ25-' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:35:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:25 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["OkyXMYjlW8dbURxKmqqCo"] 
[2025-05-29 02:35:25 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:35:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:25 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["KmuP6iemIuJLV52xBQ25-"] 
[2025-05-29 02:35:25 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: KmuP6iemIuJLV52xBQ25-, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:35:25 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\\nworldhello\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","KmuP6iemIuJLV52xBQ25-"] 
[2025-05-29 02:35:25 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:35:25 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:25 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["OkyXMYjlW8dbURxKmqqCo"] 
[2025-05-29 02:35:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:35:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:35:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:35:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["OkyXMYjlW8dbURxKmqqCo"] 
[2025-05-29 02:35:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:35:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:38 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["KmuP6iemIuJLV52xBQ25-"] 
[2025-05-29 02:35:38 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: KmuP6iemIuJLV52xBQ25-, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:35:38 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\\nworldhello\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","KmuP6iemIuJLV52xBQ25-"] 
[2025-05-29 02:35:38 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:35:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:35:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:35:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:40 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["KmuP6iemIuJLV52xBQ25-"] 
[2025-05-29 02:35:40 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: KmuP6iemIuJLV52xBQ25-, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:35:40 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","KmuP6iemIuJLV52xBQ25-"] 
[2025-05-29 02:35:40 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:35:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:40 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=urmwra0biw 
[2025-05-29 02:35:41 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:35:41 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=vcej1fdfb5c 
[2025-05-29 02:35:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:41 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["OkyXMYjlW8dbURxKmqqCo"] 
[2025-05-29 02:35:41 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:35:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:43 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["PWwhf3gjS8D1xU_IYJWn_"] 
[2025-05-29 02:35:43 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:35:43 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:43 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:35:49 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["3RQA5E3A0AIcrgtSYqxmu","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"hello","1"] 
[2025-05-29 02:35:49 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:35:49 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:35:49 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:35:49 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:36:00 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["73JvanNO4I89_LS7Xc7xd","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,119,111,114,108,100,104,101,108,108,111,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"world","1"] 
[2025-05-29 02:36:00 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:36:00 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:36:01 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:36:01 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:36:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:36:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:36:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:36:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:36:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:36:11 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:36:11 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 02:36:11 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:36:11 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["lZJfP41jwCK8yXMmGUcrO","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"worldhello\"}],\"footer\":[]}}","1"] 
[2025-05-29 02:36:11 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='lZJfP41jwCK8yXMmGUcrO' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:36:11 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:36:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:36:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:36:13 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:36:13 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:36:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:36:13 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:36:13 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: lZJfP41jwCK8yXMmGUcrO, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:36:13 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:36:13 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:36:13 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:36:13 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:36:13 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=vcej1fdfb5c 
[2025-05-29 02:36:14 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:36:14 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=naergckavcg 
[2025-05-29 02:36:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:36:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:36:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:36:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:36:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:36:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:36:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:36:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:36:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=naergckavcg 
[2025-05-29 02:36:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:36:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=g7dqya9gf4l 
[2025-05-29 02:37:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=g7dqya9gf4l 
[2025-05-29 02:37:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:37:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ziiromd8by 
[2025-05-29 02:37:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:37:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:37:32 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:37:32 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:37:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:37:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:37:49 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ziiromd8by 
[2025-05-29 02:37:50 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:37:50 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=87qe81w9ck2 
[2025-05-29 02:37:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:37:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:37:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:37:50 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:37:50 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: lZJfP41jwCK8yXMmGUcrO, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:37:50 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"worldhello\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:37:50 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:37:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:37:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:37:51 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:37:51 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:37:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:37:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:37:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:37:56 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:37:56 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: lZJfP41jwCK8yXMmGUcrO, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:37:56 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"worldhello\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:37:56 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:37:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:37:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:37:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:37:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:38:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:38:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:38:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:38:07 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:38:07 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: lZJfP41jwCK8yXMmGUcrO, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:38:07 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:38:07 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:38:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:38:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:38:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:38:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:38:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=87qe81w9ck2 
[2025-05-29 02:38:20 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:38:20 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bsycomnig9q 
[2025-05-29 02:38:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:38:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:38:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:38:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:38:53 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bsycomnig9q 
[2025-05-29 02:38:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:38:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bi0r12xvmem 
[2025-05-29 02:38:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:38:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:39:26 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bi0r12xvmem 
[2025-05-29 02:39:27 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:39:27 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=06gdfrjelyme 
[2025-05-29 02:39:58 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=06gdfrjelyme 
[2025-05-29 02:39:59 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:39:59 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=oz65bhsphn 
[2025-05-29 02:40:31 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=oz65bhsphn 
[2025-05-29 02:40:32 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:40:32 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uvmj6fz47lm 
[2025-05-29 02:41:02 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=uvmj6fz47lm 
[2025-05-29 02:41:03 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:41:03 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=l8hs2vtwij 
[2025-05-29 02:41:40 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:41:40 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:41:40 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:41:40 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:41:40 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:41:40 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:41:40 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ovoegb6yofm 
[2025-05-29 02:41:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ovoegb6yofm 
[2025-05-29 02:41:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:41:44 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:41:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:41:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:41:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:41:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:41:47 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:41:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:41:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:41:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:41:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ht1fhwy549 
[2025-05-29 02:41:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:41:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:42:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ht1fhwy549 
[2025-05-29 02:42:20 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:42:20 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=o6mgw8kc3tg 
[2025-05-29 02:42:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:42:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:42:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:42:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:42:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:42:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:42:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:42:35 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:42:35 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: lZJfP41jwCK8yXMmGUcrO, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:42:35 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:42:35 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:42:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:42:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:42:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:42:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:42:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:42:38 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:42:38 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: lZJfP41jwCK8yXMmGUcrO, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:42:38 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"helloworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","lZJfP41jwCK8yXMmGUcrO"] 
[2025-05-29 02:42:38 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:42:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:42:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:42:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:42:43 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["73JvanNO4I89_LS7Xc7xd"] 
[2025-05-29 02:42:43 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:42:43 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:42:43 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:42:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:42:44 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["3RQA5E3A0AIcrgtSYqxmu"] 
[2025-05-29 02:42:44 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:42:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:42:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:42:52 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["TWodSclsVtte5oJF--ht7","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"hello","1"] 
[2025-05-29 02:42:52 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:42:52 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:42:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:42:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:42:53 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=o6mgw8kc3tg 
[2025-05-29 02:42:53 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:42:53 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xkh5pm0gaf 
[2025-05-29 02:43:02 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["atdCoSK6hLC3D0x05jOIl","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"world","1"] 
[2025-05-29 02:43:02 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:43:02 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:43:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:43:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:43:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["TWodSclsVtte5oJF--ht7"] 
[2025-05-29 02:43:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:43:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["TWodSclsVtte5oJF--ht7"] 
[2025-05-29 02:43:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:43:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:43:08 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:43:08 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 02:43:08 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:43:08 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["GtgG41sdEwy8yN7uzDcoK","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hello\"}],\"footer\":[]}}","1"] 
[2025-05-29 02:43:08 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='GtgG41sdEwy8yN7uzDcoK' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:43:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:43:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:43:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:43:09 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["atdCoSK6hLC3D0x05jOIl"] 
[2025-05-29 02:43:09 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:43:26 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xkh5pm0gaf 
[2025-05-29 02:43:26 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:43:26 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qkisdbxqsq 
[2025-05-29 02:43:32 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["atdCoSK6hLC3D0x05jOIl"] 
[2025-05-29 02:43:32 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:43:59 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qkisdbxqsq 
[2025-05-29 02:43:59 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:43:59 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=drd9xnobijk 
[2025-05-29 02:44:30 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=drd9xnobijk 
[2025-05-29 02:44:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:44:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:44:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:44:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 02:44:31 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 02:44:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:44:31 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:44:31 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 02:44:31 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=vrn0xrnikz 
[2025-05-29 02:44:33 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=vrn0xrnikz 
[2025-05-29 02:44:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:44:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:44:33 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:44:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:44:34 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:44:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:44:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:44:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:44:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5mncqyh1uki 
[2025-05-29 02:44:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["atdCoSK6hLC3D0x05jOIl"] 
[2025-05-29 02:44:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:45:04 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5mncqyh1uki 
[2025-05-29 02:45:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:45:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0txtblzcoc59 
[2025-05-29 02:45:35 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0txtblzcoc59 
[2025-05-29 02:45:36 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:45:36 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4e7i3i4ew25 
[2025-05-29 02:46:08 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4e7i3i4ew25 
[2025-05-29 02:46:09 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:46:09 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=smbcejyup9t 
[2025-05-29 02:47:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=smbcejyup9t 
[2025-05-29 02:47:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:47:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qn5nichslm 
[2025-05-29 02:48:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qn5nichslm 
[2025-05-29 02:48:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:48:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9ygmt8529d7 
[2025-05-29 02:48:42 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 02:48:42 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 02:48:42 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 02:48:42 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 02:48:42 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 02:48:43 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:48:43 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2ghy89xaxtg 
[2025-05-29 02:48:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=2ghy89xaxtg 
[2025-05-29 02:48:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 02:48:49 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 02:48:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:48:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:48:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:49:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:49:08 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:49:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:49:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:49:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:49:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0z34endkb4a 
[2025-05-29 02:49:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["TWodSclsVtte5oJF--ht7"] 
[2025-05-29 02:49:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:49:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["atdCoSK6hLC3D0x05jOIl"] 
[2025-05-29 02:49:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:49:19 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:49:19 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:49:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 02:49:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:49:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["TWodSclsVtte5oJF--ht7"] 
[2025-05-29 02:49:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:49:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["atdCoSK6hLC3D0x05jOIl"] 
[2025-05-29 02:49:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:49:41 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0z34endkb4a 
[2025-05-29 02:49:41 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:49:41 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=b6h7drco0ec 
[2025-05-29 02:49:51 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["zFa5aEuvm6w7rOFDehk9e","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,34,44,34,115,105,122,101,34,58,50,54,44,34,98,111,108,100,34,58,116,114,117,101,125,93,44,34,108,101,118,101,108,34,58,34,102,105,114,115,116,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"标题","1"] 
[2025-05-29 02:49:51 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:49:51 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:49:51 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:49:51 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:49:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["atdCoSK6hLC3D0x05jOIl"] 
[2025-05-29 02:49:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:49:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:49:54 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 02:49:54 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 02:49:54 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 02:49:54 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["R5zM48TIcrJol74rMC-6q","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"world\"}],\"footer\":[]}}","1"] 
[2025-05-29 02:49:54 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='R5zM48TIcrJol74rMC-6q' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:49:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 02:49:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:49:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:49:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["zFa5aEuvm6w7rOFDehk9e"] 
[2025-05-29 02:49:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:49:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["zFa5aEuvm6w7rOFDehk9e"] 
[2025-05-29 02:49:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:50:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["zFa5aEuvm6w7rOFDehk9e"] 
[2025-05-29 02:50:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:50:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:50:02 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["R5zM48TIcrJol74rMC-6q"] 
[2025-05-29 02:50:02 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: R5zM48TIcrJol74rMC-6q, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:50:02 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hello\",\"size\":26,\"bold\":true}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","R5zM48TIcrJol74rMC-6q"] 
[2025-05-29 02:50:02 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 02:50:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:50:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:50:14 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=b6h7drco0ec 
[2025-05-29 02:50:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:50:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:50:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:53:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:53:10 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 02:53:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:53:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:53:11 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:53:11 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=vrh56lr6n9n 
[2025-05-29 02:53:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:53:43 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["atdCoSK6hLC3D0x05jOIl"] 
[2025-05-29 02:53:43 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:53:43 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:53:43 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:53:44 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=vrh56lr6n9n 
[2025-05-29 02:53:44 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:53:44 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bh5rq7eir1w 
[2025-05-29 02:53:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:53:44 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["TWodSclsVtte5oJF--ht7"] 
[2025-05-29 02:53:44 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:53:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:53:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:53:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:53:46 +08:00Z] [INFO] - SQL (parameterized): DELETE FROM versions WHERE vid = ? -- Params: ["zFa5aEuvm6w7rOFDehk9e"] 
[2025-05-29 02:53:46 +08:00Z] [DEBUG] - [status] 200 [msg] 版本删除成功 
[2025-05-29 02:53:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:53:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:53:56 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["O4h6D30GJyJKUJspqV0hc","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,92,110,119,111,114,108,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"hw","1"] 
[2025-05-29 02:53:56 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:53:56 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:53:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:53:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:54:05 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["N-GuXVY_9y0g4FvYPQIJ7","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,119,111,114,108,100,92,110,104,101,108,108,111,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"wh","1"] 
[2025-05-29 02:54:05 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 02:54:05 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 02:54:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 02:54:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:54:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["O4h6D30GJyJKUJspqV0hc"] 
[2025-05-29 02:54:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 02:54:14 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bh5rq7eir1w 
[2025-05-29 02:54:15 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:54:15 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=g0sinxlnhlk 
[2025-05-29 02:54:47 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=g0sinxlnhlk 
[2025-05-29 02:54:48 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:54:48 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=kfadxi3vcxj 
[2025-05-29 02:55:35 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=kfadxi3vcxj 
[2025-05-29 02:55:35 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:55:35 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=sgyu22o2eb 
[2025-05-29 02:56:08 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=sgyu22o2eb 
[2025-05-29 02:56:09 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:56:09 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lysih8tnh1g 
[2025-05-29 02:56:41 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lysih8tnh1g 
[2025-05-29 02:56:42 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:56:42 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=g1x6lcn4m4 
[2025-05-29 02:57:14 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=g1x6lcn4m4 
[2025-05-29 02:57:14 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:57:14 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dqu8fm11bbq 
[2025-05-29 02:57:44 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dqu8fm11bbq 
[2025-05-29 02:57:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:57:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9nmum5ytfyu 
[2025-05-29 02:58:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9nmum5ytfyu 
[2025-05-29 02:58:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:58:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jjuekd0e2dl 
[2025-05-29 02:59:02 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jjuekd0e2dl 
[2025-05-29 02:59:02 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 02:59:02 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6n4qir10i0i 
[2025-05-29 02:59:03 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6n4qir10i0i 
[2025-05-29 02:59:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:59:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:59:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:59:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 02:59:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=91obmlmcok6 
[2025-05-29 02:59:04 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 02:59:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 02:59:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 02:59:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 02:59:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 02:59:04 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 02:59:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 02:59:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:59:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 02:59:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 02:59:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 02:59:34 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=91obmlmcok6 
[2025-05-29 02:59:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 02:59:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=yev2sx7bw6p 
[2025-05-29 03:00:07 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=yev2sx7bw6p 
[2025-05-29 03:00:08 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 03:00:08 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=49lauc5kyej 
[2025-05-29 03:00:53 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 03:00:53 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 03:00:53 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 03:00:53 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 03:00:53 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 03:00:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 03:00:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=66n1hmujas 
[2025-05-29 03:00:57 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 03:00:58 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=66n1hmujas 
[2025-05-29 03:01:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 03:01:00 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 03:01:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:01:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:01:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:01:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:01:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:01:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:01:04 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 03:01:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:01:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qmsxiyz5pg 
[2025-05-29 03:01:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:01:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:01:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:01:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:01:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:01:27 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 03:01:27 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 03:01:27 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 03:01:27 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["zaUb1o1fMLHGh3c0IJhVH","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"world\\nhello\"}],\"footer\":[]}}","1"] 
[2025-05-29 03:01:28 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='zaUb1o1fMLHGh3c0IJhVH' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:01:28 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 03:01:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:01:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:01:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:01:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:01:32 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["O4h6D30GJyJKUJspqV0hc"] 
[2025-05-29 03:01:32 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:01:35 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qmsxiyz5pg 
[2025-05-29 03:01:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:01:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:01:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:01:36 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 03:01:36 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=6kcxmxiperc 
[2025-05-29 03:01:36 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 03:01:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 03:01:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 03:01:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 03:01:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:01:36 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 03:01:36 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 03:01:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:01:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:01:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:01:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:01:38 +08:00Z] [INFO] - 用户加入房间 kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:01:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 03:01:38 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:01:38 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=m27iq9j6r7 
[2025-05-29 03:01:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["kMXvDPe2A4kwfc0UTtaNm"] 
[2025-05-29 03:01:38 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 03:01:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:01:38 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='kMXvDPe2A4kwfc0UTtaNm' AND files.currenthead=versions.vid 
[2025-05-29 03:01:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:01:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 03:01:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:01:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 03:01:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:01:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 03:01:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:02:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 03:02:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:02:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 03:02:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:02:09 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=6kcxmxiperc 
[2025-05-29 03:02:09 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 03:02:09 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=42qcm9vh0ju 
[2025-05-29 03:02:11 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=m27iq9j6r7 
[2025-05-29 03:02:11 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:02:11 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=2bkio3qx72v 
[2025-05-29 03:02:13 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 03:02:13 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:02:20 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=2bkio3qx72v 
[2025-05-29 03:02:20 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=42qcm9vh0ju 
[2025-05-29 03:02:20 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:02:20 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=hvc42n3e1uo 
[2025-05-29 03:02:20 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 03:02:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 03:02:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["kMXvDPe2A4kwfc0UTtaNm"] 
[2025-05-29 03:02:20 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 03:02:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:02:20 +08:00Z] [INFO] - 用户加入房间 kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:02:20 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='kMXvDPe2A4kwfc0UTtaNm' AND files.currenthead=versions.vid 
[2025-05-29 03:02:20 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:02:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 03:02:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:02:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["muTIuO45fcEO08TyHoGBs"] 
[2025-05-29 03:02:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:02:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:02:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:02:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:02:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:02:30 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:02:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:02:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:02:30 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:02:30 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=l5q7u28ogb 
[2025-05-29 03:02:51 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=hvc42n3e1uo 
[2025-05-29 03:02:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:02:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=aw4cpae6hpn 
[2025-05-29 03:03:01 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=l5q7u28ogb 
[2025-05-29 03:03:02 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:03:02 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cue4sj8yujb 
[2025-05-29 03:03:23 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=aw4cpae6hpn 
[2025-05-29 03:03:23 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:03:23 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=p8nyr25em7p 
[2025-05-29 03:03:24 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:03:24 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:03:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:03:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:03:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:03:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:03:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:03:28 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:03:28 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: zaUb1o1fMLHGh3c0IJhVH, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:03:28 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"world\\nhello\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:03:28 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:03:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:03:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:03:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["O4h6D30GJyJKUJspqV0hc"] 
[2025-05-29 03:03:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:03:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:03:30 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:03:30 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: zaUb1o1fMLHGh3c0IJhVH, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:03:30 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hello\\nworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:03:30 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:03:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:03:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:03:32 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:03:32 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:03:33 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cue4sj8yujb 
[2025-05-29 03:03:33 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:03:33 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qe3ngebraqb 
[2025-05-29 03:03:54 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=p8nyr25em7p 
[2025-05-29 03:03:55 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:03:55 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=x4cmvcoi4yp 
[2025-05-29 03:04:04 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qe3ngebraqb 
[2025-05-29 03:04:05 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:04:05 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=m5p7dqmwmhd 
[2025-05-29 03:04:27 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=x4cmvcoi4yp 
[2025-05-29 03:04:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:04:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=u1a09g5l1o 
[2025-05-29 03:04:36 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=m5p7dqmwmhd 
[2025-05-29 03:04:36 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:04:36 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=a3k28fr0fb 
[2025-05-29 03:04:59 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=u1a09g5l1o 
[2025-05-29 03:04:59 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:04:59 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=y3rmc5t9ne 
[2025-05-29 03:05:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=a3k28fr0fb 
[2025-05-29 03:05:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:05:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=h6comiapyss 
[2025-05-29 03:05:32 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=y3rmc5t9ne 
[2025-05-29 03:05:32 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:05:32 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=x2fwdomx4a 
[2025-05-29 03:05:40 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=h6comiapyss 
[2025-05-29 03:05:41 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:05:41 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0bw73nhpwtp5 
[2025-05-29 03:06:03 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=x2fwdomx4a 
[2025-05-29 03:06:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:06:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=jf62o7h29q 
[2025-05-29 03:06:13 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0bw73nhpwtp5 
[2025-05-29 03:06:14 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:06:14 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9333v9at99r 
[2025-05-29 03:06:36 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=jf62o7h29q 
[2025-05-29 03:06:37 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:06:37 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=qr3hodw7p9 
[2025-05-29 03:07:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9333v9at99r 
[2025-05-29 03:07:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:07:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xju5cchf6hc 
[2025-05-29 03:08:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=qr3hodw7p9 
[2025-05-29 03:08:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xju5cchf6hc 
[2025-05-29 03:08:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:08:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=bejr415wnxg 
[2025-05-29 03:08:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:08:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dgyluukzwhh 
[2025-05-29 03:08:39 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=bejr415wnxg 
[2025-05-29 03:08:39 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dgyluukzwhh 
[2025-05-29 03:08:39 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:08:39 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=8auqvvp30y4 
[2025-05-29 03:08:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:08:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qsghy2rth58 
[2025-05-29 03:09:11 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=8auqvvp30y4 
[2025-05-29 03:09:11 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:09:11 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=xc9uyf69aan 
[2025-05-29 03:09:12 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=qsghy2rth58 
[2025-05-29 03:09:12 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:09:12 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=42ep2k8u4mu 
[2025-05-29 03:09:31 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 03:09:31 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 03:09:31 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 03:09:31 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 03:09:31 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 03:09:31 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 03:09:31 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=0uzkv7t477wl 
[2025-05-29 03:09:31 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:09:31 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9qz0mz7hyyt 
[2025-05-29 03:09:34 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 03:09:34 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=0uzkv7t477wl 
[2025-05-29 03:09:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9qz0mz7hyyt 
[2025-05-29 03:09:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 03:09:36 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 03:09:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:09:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:09:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:09:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:09:39 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:09:39 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:09:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:09:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:09:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hcvrnhcdy6 
[2025-05-29 03:09:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:09:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:09:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["O4h6D30GJyJKUJspqV0hc"] 
[2025-05-29 03:09:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:09:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 03:09:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:09:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 03:09:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:09:55 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["O4h6D30GJyJKUJspqV0hc"] 
[2025-05-29 03:09:55 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:09:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:09:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:10:12 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=hcvrnhcdy6 
[2025-05-29 03:10:12 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:10:12 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zn2fnd2hxi7 
[2025-05-29 03:10:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:10:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:10:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:10:12 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:10:12 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: zaUb1o1fMLHGh3c0IJhVH, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:10:12 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"world\\nhello\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:10:12 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:10:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:10:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:10:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 03:10:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:10:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:10:14 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:10:14 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: zaUb1o1fMLHGh3c0IJhVH, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:10:14 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:10:14 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:10:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:10:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:10:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["O4h6D30GJyJKUJspqV0hc"] 
[2025-05-29 03:10:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:10:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:10:17 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:10:17 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: zaUb1o1fMLHGh3c0IJhVH, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:10:17 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hello\\nworld\"}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","zaUb1o1fMLHGh3c0IJhVH"] 
[2025-05-29 03:10:17 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:10:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:10:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:10:45 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zn2fnd2hxi7 
[2025-05-29 03:10:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:10:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rn6occa596k 
[2025-05-29 03:11:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["N-GuXVY_9y0g4FvYPQIJ7"] 
[2025-05-29 03:11:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:11:18 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rn6occa596k 
[2025-05-29 03:11:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:11:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ppy4zvng5al 
[2025-05-29 03:11:23 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ppy4zvng5al 
[2025-05-29 03:11:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:11:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:11:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:11:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:11:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=onb5dmomqu 
[2025-05-29 03:11:25 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 03:11:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 03:11:25 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 03:11:25 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 03:11:25 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:11:25 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:11:25 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 03:11:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:11:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["hWQeanz06oaV0HP4xwHJ_"] 
[2025-05-29 03:11:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:11:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["xCDiTJ4uoREf-utpBacD5"] 
[2025-05-29 03:11:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:11:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["xCDiTJ4uoREf-utpBacD5"] 
[2025-05-29 03:11:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:11:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 03:11:45 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["9M9RuR2A_YZd3_sFe0iRp"] 
[2025-05-29 03:11:45 +08:00Z] [INFO] - [saveVersion] 超过版本控制时限，创建新版本，fileid: Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:11:45 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["O8PhHymnGbbMwsQzppTnV","Kyv0pgp-6Tq2ZwBGtBGHx","[{\"attributes\":{\"color\":\"#b22424\",\"italic\":true},\"insert\":\"哈哈哈\"},{\"insert\":\"\\n\"},{\"attributes\":{\"color\":\"#b22424\",\"italic\":true},\"insert\":\"sdhagsag\"},{\"insert\":\"\\n\"}]","1"] 
[2025-05-29 03:11:45 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='O8PhHymnGbbMwsQzppTnV' WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 03:11:45 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 03:11:45 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=onb5dmomqu 
[2025-05-29 03:11:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:11:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=6bukalmomq 
[2025-05-29 03:11:46 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 03:11:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 03:11:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 03:11:46 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 03:11:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:11:46 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:11:46 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 03:11:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:11:51 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=6bukalmomq 
[2025-05-29 03:11:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:11:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=q7460tnk359 
[2025-05-29 03:11:52 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 03:11:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 03:11:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 03:11:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 03:11:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:11:52 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:11:52 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 03:11:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:12:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["xCDiTJ4uoREf-utpBacD5"] 
[2025-05-29 03:12:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:12:01 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["hWQeanz06oaV0HP4xwHJ_"] 
[2025-05-29 03:12:01 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:12:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 03:12:06 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["O8PhHymnGbbMwsQzppTnV"] 
[2025-05-29 03:12:06 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: O8PhHymnGbbMwsQzppTnV, fileid: Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:12:06 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["[{\"attributes\":{\"color\":\"#b22424\",\"italic\":true},\"insert\":\"哈哈哈\"},{\"insert\":\"\\n\"},{\"attributes\":{\"color\":\"#b22424\",\"italic\":true},\"insert\":\"sdhagsag\"},{\"insert\":\"\\n\"}]","Kyv0pgp-6Tq2ZwBGtBGHx","O8PhHymnGbbMwsQzppTnV"] 
[2025-05-29 03:12:06 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:12:08 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=q7460tnk359 
[2025-05-29 03:12:08 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:12:08 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=fzpu4ftj6ia 
[2025-05-29 03:12:08 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 03:12:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 03:12:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 03:12:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 03:12:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:12:08 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:12:08 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 03:12:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:12:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["xCDiTJ4uoREf-utpBacD5"] 
[2025-05-29 03:12:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:12:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' 
[2025-05-29 03:12:33 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["O8PhHymnGbbMwsQzppTnV"] 
[2025-05-29 03:12:33 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: O8PhHymnGbbMwsQzppTnV, fileid: Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:12:33 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["[{\"insert\":\"d电动工具顾客开关打开收拾收拾\\n\"}]","Kyv0pgp-6Tq2ZwBGtBGHx","O8PhHymnGbbMwsQzppTnV"] 
[2025-05-29 03:12:33 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:12:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["xCDiTJ4uoREf-utpBacD5"] 
[2025-05-29 03:12:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:12:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["hWQeanz06oaV0HP4xwHJ_"] 
[2025-05-29 03:12:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:12:41 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=fzpu4ftj6ia 
[2025-05-29 03:12:41 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:12:41 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=v8ty0k7ae2e 
[2025-05-29 03:12:42 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["hWQeanz06oaV0HP4xwHJ_"] 
[2025-05-29 03:12:42 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:12:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:12:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:12:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:12:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:12:46 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:12:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:12:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:12:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:12:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4tojziw8rk3 
[2025-05-29 03:13:05 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["hcY7pfIjy8KlunjEVAktn","e3Lq8IgfRWml7dMCtiQLW",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,104,101,108,108,111,92,110,34,125,44,123,34,118,97,108,117,101,34,58,34,34,44,34,116,121,112,101,34,58,34,116,105,116,108,101,34,44,34,118,97,108,117,101,76,105,115,116,34,58,91,123,34,118,97,108,117,101,34,58,34,119,111,114,108,100,34,44,34,115,105,122,101,34,58,50,52,44,34,98,111,108,100,34,58,116,114,117,101,125,93,44,34,108,101,118,101,108,34,58,34,115,101,99,111,110,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"标题","1"] 
[2025-05-29 03:13:05 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:13:05 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 03:13:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:13:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:13:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 03:13:10 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:13:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:13:10 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 03:13:10 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: e3Lq8IgfRWml7dMCtiQLW, currenthead: [object Object] 
[2025-05-29 03:13:10 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 03:13:10 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["W_aR6_8fpGs4YrBiGRRFt","e3Lq8IgfRWml7dMCtiQLW","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","1"] 
[2025-05-29 03:13:10 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='W_aR6_8fpGs4YrBiGRRFt' WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:13:10 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 03:13:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:13:10 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:13:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["hcY7pfIjy8KlunjEVAktn"] 
[2025-05-29 03:13:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:13:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:13:12 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:13:12 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: W_aR6_8fpGs4YrBiGRRFt, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:13:12 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"hello\\n\"},{\"value\":\"world\",\"size\":24,\"bold\":true}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:13:12 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:13:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:13:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:13:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=v8ty0k7ae2e 
[2025-05-29 03:13:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 03:13:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=wvj27rfzjqi 
[2025-05-29 03:13:17 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=wvj27rfzjqi 
[2025-05-29 03:13:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4tojziw8rk3 
[2025-05-29 03:13:18 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:13:18 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:13:18 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:13:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:13:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:13:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=60hc7oilw6a 
[2025-05-29 03:13:19 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=60hc7oilw6a 
[2025-05-29 03:13:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:13:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:13:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:13:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:13:20 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:13:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:13:20 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:13:20 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:13:20 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ezn1xufy6th 
[2025-05-29 03:13:51 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ezn1xufy6th 
[2025-05-29 03:13:52 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:13:52 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fgr7ntekrtm 
[2025-05-29 03:14:24 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fgr7ntekrtm 
[2025-05-29 03:14:25 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:14:25 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=f9xrjl3f26 
[2025-05-29 03:14:57 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=f9xrjl3f26 
[2025-05-29 03:14:58 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:14:58 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e3xnqpjzsj 
[2025-05-29 03:16:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e3xnqpjzsj 
[2025-05-29 03:16:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:16:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wnxko3w485n 
[2025-05-29 03:17:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wnxko3w485n 
[2025-05-29 03:17:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:17:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c7k3vwgt40d 
[2025-05-29 03:18:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c7k3vwgt40d 
[2025-05-29 03:18:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:18:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=z2f9ks01jr 
[2025-05-29 03:19:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=z2f9ks01jr 
[2025-05-29 03:19:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:19:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=582hm4723ak 
[2025-05-29 03:19:39 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=582hm4723ak 
[2025-05-29 03:19:40 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:19:40 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=y5af4gdmw8f 
[2025-05-29 03:20:12 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=y5af4gdmw8f 
[2025-05-29 03:20:13 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:20:13 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8aigxhiv2px 
[2025-05-29 03:21:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8aigxhiv2px 
[2025-05-29 03:21:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:21:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=x22c6gaulf 
[2025-05-29 03:22:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=x22c6gaulf 
[2025-05-29 03:22:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:22:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=sonywaz0sw 
[2025-05-29 03:22:47 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 03:22:47 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 03:22:47 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 03:22:47 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 03:22:47 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 03:22:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:22:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fjqzhpzcj2m 
[2025-05-29 03:22:50 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=fjqzhpzcj2m 
[2025-05-29 03:22:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 03:22:52 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 03:22:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:22:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:22:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:22:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:22:56 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:22:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:22:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:22:56 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:22:56 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jtr3qm2s0p 
[2025-05-29 03:23:29 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=jtr3qm2s0p 
[2025-05-29 03:23:29 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:23:29 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=j8cbhzhu6o 
[2025-05-29 03:24:03 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=j8cbhzhu6o 
[2025-05-29 03:24:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:24:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6ou09mh7vij 
[2025-05-29 03:24:36 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6ou09mh7vij 
[2025-05-29 03:24:37 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:24:37 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=w4agmve7xk 
[2025-05-29 03:26:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=w4agmve7xk 
[2025-05-29 03:26:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:26:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ouu03l5qnrb 
[2025-05-29 03:27:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ouu03l5qnrb 
[2025-05-29 03:27:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:27:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=38yp807fdn4 
[2025-05-29 03:28:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=38yp807fdn4 
[2025-05-29 03:28:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:28:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=4c729e6g9ug 
[2025-05-29 03:28:38 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 03:28:38 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 03:28:38 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 03:28:38 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 03:28:38 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 03:28:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:28:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6ictoxneoq4 
[2025-05-29 03:28:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6ictoxneoq4 
[2025-05-29 03:28:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 03:28:45 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 03:28:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:28:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:28:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:28:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:28:46 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:28:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:28:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:28:46 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:28:46 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ubk8ycr46qk 
[2025-05-29 03:29:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ubk8ycr46qk 
[2025-05-29 03:29:18 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:29:18 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=tygmuqcgll 
[2025-05-29 03:29:49 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=tygmuqcgll 
[2025-05-29 03:29:49 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:29:49 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ys38lvb66lo 
[2025-05-29 03:30:22 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ys38lvb66lo 
[2025-05-29 03:30:22 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:30:22 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pukjrb44uha 
[2025-05-29 03:30:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pukjrb44uha 
[2025-05-29 03:30:55 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:30:55 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xp4olq6js7s 
[2025-05-29 03:31:28 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=xp4olq6js7s 
[2025-05-29 03:31:28 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:31:28 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lme6cnpm5jc 
[2025-05-29 03:32:01 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=lme6cnpm5jc 
[2025-05-29 03:32:01 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:32:01 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6gorsqp6sew 
[2025-05-29 03:32:34 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=6gorsqp6sew 
[2025-05-29 03:32:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:32:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=80xw9ilmsxd 
[2025-05-29 03:33:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=80xw9ilmsxd 
[2025-05-29 03:33:07 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:33:07 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=tjkptatcci 
[2025-05-29 03:33:40 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=tjkptatcci 
[2025-05-29 03:33:40 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:33:40 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=22839xign7q 
[2025-05-29 03:34:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=22839xign7q 
[2025-05-29 03:34:12 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:34:12 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wnda403s10h 
[2025-05-29 03:34:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wnda403s10h 
[2025-05-29 03:34:43 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:34:43 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=vof4l9ijxro 
[2025-05-29 03:34:49 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 03:34:49 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:34:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:34:49 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:34:49 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: W_aR6_8fpGs4YrBiGRRFt, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:34:49 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:34:49 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:34:49 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:34:49 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:35:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:35:07 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:35:07 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: W_aR6_8fpGs4YrBiGRRFt, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:35:07 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:35:07 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:35:14 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=vof4l9ijxro 
[2025-05-29 03:35:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2'&&password='c81e728d9d4c2f636f067f89cc14862c' 
[2025-05-29 03:35:14 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 03:35:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:35:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:35:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:35:15 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:35:15 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ioqfgqwmkzf 
[2025-05-29 03:35:15 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='2' AND fl.fileid=fs.fileid 
[2025-05-29 03:35:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:35:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:35:16 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:35:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:35:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:35:16 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:35:16 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rrdf4xty6rq 
[2025-05-29 03:35:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-05-29 03:35:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 03:35:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 03:35:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 03:35:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["QYShYScbIqJUFd-eE53J-"] 
[2025-05-29 03:35:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 03:35:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:35:31 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:35:31 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: W_aR6_8fpGs4YrBiGRRFt, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:35:31 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:35:31 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:35:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:35:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:35:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' 
[2025-05-29 03:35:45 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:35:45 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: W_aR6_8fpGs4YrBiGRRFt, fileid: e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:35:45 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"\",\"type\":\"table\",\"trList\":[{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"2d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"4\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"d\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"3\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[{\"value\":\"h\"}]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42},{\"height\":42,\"tdList\":[{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]},{\"colspan\":1,\"rowspan\":1,\"value\":[]}],\"minHeight\":42}],\"width\":553.9999999999999,\"height\":378,\"colgroup\":[{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4},{\"width\":55.4}]}],\"footer\":[]}}","e3Lq8IgfRWml7dMCtiQLW","W_aR6_8fpGs4YrBiGRRFt"] 
[2025-05-29 03:35:45 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 03:35:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rrdf4xty6rq 
[2025-05-29 03:35:46 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='2' AND fl.fileid=fs.fileid 
[2025-05-29 03:35:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:35:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:35:47 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:35:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:35:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:35:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:35:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mdwhdu16q4a 
[2025-05-29 03:35:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 03:35:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 03:35:51 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mdwhdu16q4a 
[2025-05-29 03:35:51 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='2' AND fl.fileid=fs.fileid 
[2025-05-29 03:35:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:35:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:35:58 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:35:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:35:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:35:58 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:35:58 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=16g7bbwivyc 
[2025-05-29 03:35:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-05-29 03:35:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 03:35:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 03:35:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 03:36:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=16g7bbwivyc 
[2025-05-29 03:36:11 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='2' AND fl.fileid=fs.fileid 
[2025-05-29 03:36:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:36:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:36:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:36:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:36:25 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ioqfgqwmkzf 
[2025-05-29 03:47:24 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 03:47:25 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 03:47:25 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 03:47:25 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 03:47:25 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 03:47:44 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 03:47:44 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 03:47:44 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 03:47:45 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 03:47:45 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 03:47:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 03:47:50 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 03:47:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:47:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:47:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:47:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:47:54 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:47:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:47:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:47:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:47:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7zdtfl3r2ai 
[2025-05-29 03:47:56 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7zdtfl3r2ai 
[2025-05-29 03:47:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 03:47:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 03:47:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:48:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 03:48:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 03:48:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 03:48:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 03:48:14 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:48:14 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dz3ghsj8wza 
[2025-05-29 03:48:48 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=dz3ghsj8wza 
[2025-05-29 03:48:49 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:48:49 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=z56nolvt4o 
[2025-05-29 03:49:21 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=z56nolvt4o 
[2025-05-29 03:49:22 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:49:22 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3zhlg3a6lsu 
[2025-05-29 03:49:54 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3zhlg3a6lsu 
[2025-05-29 03:49:55 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:49:55 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=90r3mo64jak 
[2025-05-29 03:51:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=90r3mo64jak 
[2025-05-29 03:51:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:51:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9froh2siur 
[2025-05-29 03:52:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=9froh2siur 
[2025-05-29 03:52:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:52:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=slsu8uutwg 
[2025-05-29 03:53:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=slsu8uutwg 
[2025-05-29 03:53:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:53:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7p1mbafgxtt 
[2025-05-29 03:54:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7p1mbafgxtt 
[2025-05-29 03:54:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:54:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c0e5z1vnpi 
[2025-05-29 03:55:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c0e5z1vnpi 
[2025-05-29 03:55:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:55:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=r40glclha7l 
[2025-05-29 03:56:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=r40glclha7l 
[2025-05-29 03:56:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:56:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ezud3qeuxx 
[2025-05-29 03:57:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ezud3qeuxx 
[2025-05-29 03:57:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:57:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=idelfdcg6q 
[2025-05-29 03:58:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=idelfdcg6q 
[2025-05-29 03:58:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:58:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=yvybvis9fzj 
[2025-05-29 03:59:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=yvybvis9fzj 
[2025-05-29 03:59:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 03:59:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0g2tspjdi4yu 
[2025-05-29 04:00:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=0g2tspjdi4yu 
[2025-05-29 04:00:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:00:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c0do5opd9i 
[2025-05-29 04:01:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=c0do5opd9i 
[2025-05-29 04:01:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:01:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=go91fgxjkjf 
[2025-05-29 04:02:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=go91fgxjkjf 
[2025-05-29 04:02:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:02:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pu50braw97f 
[2025-05-29 04:03:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=pu50braw97f 
[2025-05-29 04:03:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:03:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ee7i0du6ufu 
[2025-05-29 04:04:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ee7i0du6ufu 
[2025-05-29 04:04:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:04:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wd177etu1d 
[2025-05-29 04:05:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wd177etu1d 
[2025-05-29 04:05:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:05:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=aux2dknx245 
[2025-05-29 04:06:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=aux2dknx245 
[2025-05-29 04:06:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:06:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=szh7k6bppn9 
[2025-05-29 04:07:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=szh7k6bppn9 
[2025-05-29 04:07:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:07:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=w6k6zdhl61 
[2025-05-29 04:08:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=w6k6zdhl61 
[2025-05-29 04:08:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:08:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=s2f5jo4hixg 
[2025-05-29 04:09:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=s2f5jo4hixg 
[2025-05-29 04:09:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:09:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=iwl6kbgd3d 
[2025-05-29 04:10:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=iwl6kbgd3d 
[2025-05-29 04:10:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:10:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=o5v9al60vpb 
[2025-05-29 04:11:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=o5v9al60vpb 
[2025-05-29 04:11:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:11:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=yzoxp129b4 
[2025-05-29 04:12:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=yzoxp129b4 
[2025-05-29 04:12:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:12:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rz05vu034ub 
[2025-05-29 04:13:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=rz05vu034ub 
[2025-05-29 04:13:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:13:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=82dhus2sg55 
[2025-05-29 04:14:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=82dhus2sg55 
[2025-05-29 04:14:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:14:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7ofzn5x02pv 
[2025-05-29 04:15:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7ofzn5x02pv 
[2025-05-29 04:15:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:15:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=910ac395sx6 
[2025-05-29 04:16:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=910ac395sx6 
[2025-05-29 04:16:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:16:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7g2mwh3oopu 
[2025-05-29 04:17:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=7g2mwh3oopu 
[2025-05-29 04:17:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:17:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wu3j8970doh 
[2025-05-29 04:18:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wu3j8970doh 
[2025-05-29 04:18:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:18:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mna1m3es90l 
[2025-05-29 04:19:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=mna1m3es90l 
[2025-05-29 04:19:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:19:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=40vbfcbywwl 
[2025-05-29 04:20:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=40vbfcbywwl 
[2025-05-29 04:20:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:20:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bhy1uzydrp 
[2025-05-29 04:21:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=bhy1uzydrp 
[2025-05-29 04:21:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:21:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=g0z1tqmy14 
[2025-05-29 04:22:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=g0z1tqmy14 
[2025-05-29 04:22:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:22:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ht8zlue9ie 
[2025-05-29 04:23:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ht8zlue9ie 
[2025-05-29 04:23:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:23:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=v3lnimxj0ga 
[2025-05-29 04:24:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=v3lnimxj0ga 
[2025-05-29 04:24:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:24:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=et3eliw2ky4 
[2025-05-29 04:25:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=et3eliw2ky4 
[2025-05-29 04:25:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:25:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8iyr7g7tipi 
[2025-05-29 04:26:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=8iyr7g7tipi 
[2025-05-29 04:26:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:26:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cdihtwz1wxt 
[2025-05-29 04:27:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=cdihtwz1wxt 
[2025-05-29 04:27:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:27:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zxiti06rcp 
[2025-05-29 04:28:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=zxiti06rcp 
[2025-05-29 04:28:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:28:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3il8l7bcshx 
[2025-05-29 04:29:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=3il8l7bcshx 
[2025-05-29 04:29:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:29:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5lh8uwusq4 
[2025-05-29 04:30:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=5lh8uwusq4 
[2025-05-29 04:30:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:30:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ia2jo4diqw 
[2025-05-29 04:31:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ia2jo4diqw 
[2025-05-29 04:31:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:31:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wjwe1syvlnp 
[2025-05-29 04:32:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=wjwe1syvlnp 
[2025-05-29 04:32:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:32:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e1cdh9d3x5l 
[2025-05-29 04:32:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=e1cdh9d3x5l 
[2025-05-29 04:32:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:32:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:32:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:32:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:32:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=7fpe1t0aimb 
[2025-05-29 04:32:25 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 04:32:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 04:32:25 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["kMXvDPe2A4kwfc0UTtaNm"] 
[2025-05-29 04:32:25 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 04:32:25 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 04:32:25 +08:00Z] [INFO] - 用户加入房间 kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:32:25 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='kMXvDPe2A4kwfc0UTtaNm' AND files.currenthead=versions.vid 
[2025-05-29 04:32:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:32:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 04:32:32 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 04:32:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:32:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:32:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:32:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=7fpe1t0aimb 
[2025-05-29 04:32:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:32:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=vb154dwleur 
[2025-05-29 04:33:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=vb154dwleur 
[2025-05-29 04:33:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:33:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=0whuon9klkoa 
[2025-05-29 04:34:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=0whuon9klkoa 
[2025-05-29 04:34:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:34:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=s6fwunqztpl 
[2025-05-29 04:35:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=s6fwunqztpl 
[2025-05-29 04:35:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:35:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=12fyjudl8ze 
[2025-05-29 04:36:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=12fyjudl8ze 
[2025-05-29 04:36:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:36:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=tcf7tsihhh 
[2025-05-29 04:37:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=tcf7tsihhh 
[2025-05-29 04:37:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:37:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=mgsyb4nojkq 
[2025-05-29 04:38:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=mgsyb4nojkq 
[2025-05-29 04:38:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:38:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=tyg0wx88n7q 
[2025-05-29 04:39:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=tyg0wx88n7q 
[2025-05-29 04:39:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:39:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=g1gxck8qozr 
[2025-05-29 04:40:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=g1gxck8qozr 
[2025-05-29 04:40:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:40:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=jmn4cqjjzre 
[2025-05-29 04:41:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=jmn4cqjjzre 
[2025-05-29 04:41:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:41:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=776a78or7lg 
[2025-05-29 04:42:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=776a78or7lg 
[2025-05-29 04:42:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:42:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=cokack5d7nu 
[2025-05-29 04:42:44 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=cokack5d7nu 
[2025-05-29 04:42:45 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:42:45 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=vkmx5thp75i 
[2025-05-29 04:42:57 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 04:42:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 04:42:57 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:42:57 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=l9t6fxyxg5 
[2025-05-29 04:42:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 04:42:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 04:42:57 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 04:42:57 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 04:42:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:42:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:42:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:42:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:43:00 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 04:43:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:43:16 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=vkmx5thp75i 
[2025-05-29 04:43:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:43:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=fkqeuyf97tr 
[2025-05-29 04:43:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=l9t6fxyxg5 
[2025-05-29 04:43:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:43:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=51ahywpehl6 
[2025-05-29 04:43:49 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=fkqeuyf97tr 
[2025-05-29 04:43:50 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:43:50 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=nkcplfmps3l 
[2025-05-29 04:44:01 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=51ahywpehl6 
[2025-05-29 04:44:02 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:44:02 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=gzg05iyc3jp 
[2025-05-29 04:45:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=gzg05iyc3jp 
[2025-05-29 04:45:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=nkcplfmps3l 
[2025-05-29 04:45:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:45:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=ybcpdu13iri 
[2025-05-29 04:45:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:45:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=hv2hs6uqjdi 
[2025-05-29 04:46:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=ybcpdu13iri 
[2025-05-29 04:46:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=hv2hs6uqjdi 
[2025-05-29 04:46:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:46:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=b3rghyy5e3o 
[2025-05-29 04:46:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:46:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=uykq6xy6iko 
[2025-05-29 04:47:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=b3rghyy5e3o 
[2025-05-29 04:47:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=uykq6xy6iko 
[2025-05-29 04:47:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:47:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=grjkzw3kv1l 
[2025-05-29 04:47:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:47:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=siqwav7zlh 
[2025-05-29 04:53:30 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 04:53:31 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 04:53:31 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 04:53:31 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 04:53:31 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 04:55:01 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 04:55:02 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 04:55:02 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 04:55:02 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 04:55:02 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 04:55:02 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 04:55:03 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:55:03 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=vl51x0hnnm 
[2025-05-29 04:55:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:55:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=3nuleo4t4ds 
[2025-05-29 04:55:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 04:55:07 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 04:55:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:55:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:55:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:55:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 04:55:08 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 04:55:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:55:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:55:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:55:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='e3Lq8IgfRWml7dMCtiQLW' AND OWNER ='1' 
[2025-05-29 04:55:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 04:55:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 04:55:28 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 04:55:32 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 04:55:37 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 04:55:39 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 04:56:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 04:56:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=vl51x0hnnm 
[2025-05-29 04:56:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=3nuleo4t4ds 
[2025-05-29 04:56:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:56:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:05 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:56:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=b9m48bqy84s 
[2025-05-29 04:56:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:56:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=0qy6us8qk5si 
[2025-05-29 04:56:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='2' AND filetype='word' AND filesuffix='docx' AND owner='1' 
[2025-05-29 04:56:10 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('0LDe_gC7EVSEpzPGVKXlL','2','word','docx','1') 
[2025-05-29 04:56:10 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 04:56:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='0LDe_gC7EVSEpzPGVKXlL' 
[2025-05-29 04:56:14 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='0LDe_gC7EVSEpzPGVKXlL' 
[2025-05-29 04:56:14 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 04:56:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 04:56:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:17 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='1' WHERE fileid='0LDe_gC7EVSEpzPGVKXlL' 
[2025-05-29 04:56:17 +08:00Z] [DEBUG] - [status] 200 [msg] 恢复成功 
[2025-05-29 04:56:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:56:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='0LDe_gC7EVSEpzPGVKXlL' 
[2025-05-29 04:56:25 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='0LDe_gC7EVSEpzPGVKXlL' 
[2025-05-29 04:56:25 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 04:56:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 04:56:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='0LDe_gC7EVSEpzPGVKXlL' 
[2025-05-29 04:56:29 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='3' WHERE fileid='0LDe_gC7EVSEpzPGVKXlL' 
[2025-05-29 04:56:29 +08:00Z] [DEBUG] - [status] 200 [msg] 彻底删除成功 
[2025-05-29 04:56:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:56:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 04:56:34 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 04:56:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:56:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 04:56:40 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 04:56:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 04:56:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:40 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 04:56:40 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=16mh6epozah 
[2025-05-29 04:56:44 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=16mh6epozah 
[2025-05-29 04:56:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:56:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:45 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 04:56:45 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 04:56:45 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 04:56:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 04:56:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=8yvv0d1pvna 
[2025-05-29 04:56:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=8yvv0d1pvna 
[2025-05-29 04:56:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:56:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:56:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:56:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:56:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:56:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:57:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=b9m48bqy84s 
[2025-05-29 04:57:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=0qy6us8qk5si 
[2025-05-29 04:57:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:57:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=2cdprt9totx 
[2025-05-29 04:57:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:57:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=i34rpscnm9 
[2025-05-29 04:57:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:57:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:57:09 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 04:58:00 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 04:58:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 04:58:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:00 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 04:58:00 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=rhvge3zthv 
[2025-05-29 04:58:03 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=rhvge3zthv 
[2025-05-29 04:58:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:58:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:58:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=2cdprt9totx 
[2025-05-29 04:58:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=i34rpscnm9 
[2025-05-29 04:58:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:58:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:58:05 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 04:58:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=8bfxeb3q1kf 
[2025-05-29 04:58:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 04:58:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=jvlo3vrjaj 
[2025-05-29 04:58:14 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 04:58:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:24 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=jvlo3vrjaj 
[2025-05-29 04:58:24 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=8bfxeb3q1kf 
[2025-05-29 04:58:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2'&&password='c81e728d9d4c2f636f067f89cc14862c' 
[2025-05-29 04:58:29 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 04:58:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:58:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:58:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 04:58:31 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 04:58:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 04:58:32 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 04:58:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:58:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:58:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:58:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:58:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:58:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:58:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:42 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 04:58:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 04:58:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 04:58:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 04:58:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:03:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 05:03:47 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 05:03:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 05:03:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:03:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 05:03:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1nljgqezga9 
[2025-05-29 05:03:49 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1nljgqezga9 
[2025-05-29 05:03:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:03:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:03:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:03:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:03:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:03:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:10:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:10:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:10:09 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:11:15 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 05:11:15 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 05:11:15 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 05:11:15 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 05:11:15 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 05:11:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 05:11:19 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 05:11:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:11:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:11:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:11:22 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:11:22 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=t8qidvvk9kd 
[2025-05-29 05:11:22 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 05:11:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 05:11:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["kMXvDPe2A4kwfc0UTtaNm"] 
[2025-05-29 05:11:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:11:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 05:11:22 +08:00Z] [INFO] - 用户加入房间 kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:11:22 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='kMXvDPe2A4kwfc0UTtaNm' AND files.currenthead=versions.vid 
[2025-05-29 05:11:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:11:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 05:11:27 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:11:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-05-29 05:11:34 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 05:11:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM filestates WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND editor='3' 
[2025-05-29 05:11:35 +08:00Z] [INFO] - SQL (direct): INSERT INTO filestates(fsid,fileid,editor) VALUES('fS5hsvkCjmoknJ55qay-m','kMXvDPe2A4kwfc0UTtaNm','3') 
[2025-05-29 05:11:35 +08:00Z] [DEBUG] - [status] 200 [msg] 加入成功 
[2025-05-29 05:11:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:11:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:11:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:11:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:11:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:11:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:11:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:11:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:11:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:11:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 05:11:48 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 05:11:53 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 05:11:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:11:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 05:11:54 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 05:11:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 05:11:54 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 05:11:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=t8qidvvk9kd 
[2025-05-29 05:11:55 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:11:55 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=fqlvi9p8wjc 
[2025-05-29 05:12:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:12:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:12:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:12:09 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 05:12:09 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 05:12:09 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=5kud31l5tv 
[2025-05-29 05:12:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 05:12:09 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 05:12:09 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:12:09 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 05:12:09 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND files.currenthead=versions.vid 
[2025-05-29 05:12:09 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:12:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:12:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:12:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:12:11 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 05:12:11 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 05:12:11 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=sbmnpzxrat 
[2025-05-29 05:12:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 05:12:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 05:12:11 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:12:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 05:12:11 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 05:12:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:12:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:12:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:12:12 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:12:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=fqlvi9p8wjc 
[2025-05-29 05:12:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:12:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=yd0lei8ev3 
[2025-05-29 05:12:39 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=5kud31l5tv 
[2025-05-29 05:12:39 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 05:12:39 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=59wztq30wz5 
[2025-05-29 05:12:44 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=sbmnpzxrat 
[2025-05-29 05:12:44 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 05:12:44 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=5vxbrs2bykc 
[2025-05-29 05:13:01 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=yd0lei8ev3 
[2025-05-29 05:13:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:13:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=1mu3ep3gzgb 
[2025-05-29 05:13:12 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=59wztq30wz5 
[2025-05-29 05:13:12 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 05:13:12 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=rmb3zlq0om 
[2025-05-29 05:13:17 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=5vxbrs2bykc 
[2025-05-29 05:13:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 05:13:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=119pu2jl0e2c 
[2025-05-29 05:13:34 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=1mu3ep3gzgb 
[2025-05-29 05:13:34 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:13:34 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=61j2yagl154 
[2025-05-29 05:13:36 +08:00Z] [INFO] - 用户加入房间 Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 05:13:36 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/Kyv0pgp-6Tq2ZwBGtBGHx 
[2025-05-29 05:13:36 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=Kyv0pgp-6Tq2ZwBGtBGHx, wid=hru3bxyp37 
[2025-05-29 05:13:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Kyv0pgp-6Tq2ZwBGtBGHx' AND OWNER ='1' 
[2025-05-29 05:13:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Kyv0pgp-6Tq2ZwBGtBGHx"] 
[2025-05-29 05:13:37 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:13:37 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 05:13:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:13:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:13:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:40 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 05:13:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 05:13:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 05:13:40 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 05:13:40 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=lhvykn20umn 
[2025-05-29 05:13:40 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:13:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 05:13:40 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 05:13:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:13:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:13:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:44 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 05:13:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:13:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:13:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 05:13:48 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 05:13:49 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 05:13:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 05:13:50 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 05:13:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:13:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:13:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:13:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:13:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:13:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:13:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:13:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE owner='1' AND foldername="2" 
[2025-05-29 05:13:58 +08:00Z] [INFO] - SQL (direct): INSERT INTO folders(folderid,foldername,owner) 
    VALUES('8rQ2Ha7fULUq72fNxfM3-','2','1') 
[2025-05-29 05:13:58 +08:00Z] [DEBUG] - [status] 200 [msg] 文件夹创建成功 
[2025-05-29 05:13:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='8rQ2Ha7fULUq72fNxfM3-' AND state='1 ORDER BY filetype' 
[2025-05-29 05:13:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='8rQ2Ha7fULUq72fNxfM3-' 
[2025-05-29 05:13:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE owner='1' AND foldername="2" 
[2025-05-29 05:14:03 +08:00Z] [DEBUG] - [status] 3002 [msg] 参数缺失 
[2025-05-29 05:14:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:14:05 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='8rQ2Ha7fULUq72fNxfM3-' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='8rQ2Ha7fULUq72fNxfM3-' 
[2025-05-29 05:14:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:07 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=61j2yagl154 
[2025-05-29 05:14:07 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:14:07 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=bbmylj6928v 
[2025-05-29 05:14:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE owner='1' AND foldername="3" 
[2025-05-29 05:14:10 +08:00Z] [INFO] - SQL (direct): INSERT INTO folders(folderid,foldername,parentfolderid,owner) 
    VALUES('t3J2GYSkYvHjpbsKiZV9Y','3','8rQ2Ha7fULUq72fNxfM3-','1') 
[2025-05-29 05:14:10 +08:00Z] [DEBUG] - [status] 200 [msg] 文件夹创建成功 
[2025-05-29 05:14:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='t3J2GYSkYvHjpbsKiZV9Y' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='t3J2GYSkYvHjpbsKiZV9Y' 
[2025-05-29 05:14:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE owner='1' AND foldername="6" 
[2025-05-29 05:14:15 +08:00Z] [INFO] - SQL (direct): INSERT INTO folders(folderid,foldername,parentfolderid,owner) 
    VALUES('kW10pkiLia9MpKEo76ZJ9','6','t3J2GYSkYvHjpbsKiZV9Y','1') 
[2025-05-29 05:14:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件夹创建成功 
[2025-05-29 05:14:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='kW10pkiLia9MpKEo76ZJ9' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='kW10pkiLia9MpKEo76ZJ9' 
[2025-05-29 05:14:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE owner='1' AND foldername="8" 
[2025-05-29 05:14:19 +08:00Z] [INFO] - SQL (direct): INSERT INTO folders(folderid,foldername,parentfolderid,owner) 
    VALUES('QVndqArk113TvVmcnXjDw','8','kW10pkiLia9MpKEo76ZJ9','1') 
[2025-05-29 05:14:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件夹创建成功 
[2025-05-29 05:14:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='QVndqArk113TvVmcnXjDw' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='QVndqArk113TvVmcnXjDw' 
[2025-05-29 05:14:20 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='2' AND filetype='markdown' AND filesuffix='md' AND owner='1' AND fileownerfolderid="QVndqArk113TvVmcnXjDw"  
[2025-05-29 05:14:24 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,OWNER,fileownerfolderid) 
         VALUES('LwlNjEb4XkBv-ywVDzjmY','2','markdown','md','1','QVndqArk113TvVmcnXjDw') 
[2025-05-29 05:14:24 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 05:14:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='kW10pkiLia9MpKEo76ZJ9' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='kW10pkiLia9MpKEo76ZJ9' 
[2025-05-29 05:14:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:14:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='8rQ2Ha7fULUq72fNxfM3-' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='8rQ2Ha7fULUq72fNxfM3-' 
[2025-05-29 05:14:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:14:28 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='8rQ2Ha7fULUq72fNxfM3-' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='8rQ2Ha7fULUq72fNxfM3-' 
[2025-05-29 05:14:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='t3J2GYSkYvHjpbsKiZV9Y' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='t3J2GYSkYvHjpbsKiZV9Y' 
[2025-05-29 05:14:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='kW10pkiLia9MpKEo76ZJ9' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='kW10pkiLia9MpKEo76ZJ9' 
[2025-05-29 05:14:31 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='QVndqArk113TvVmcnXjDw' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='QVndqArk113TvVmcnXjDw' 
[2025-05-29 05:14:32 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:14:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='8rQ2Ha7fULUq72fNxfM3-' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='8rQ2Ha7fULUq72fNxfM3-' 
[2025-05-29 05:14:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:40 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=bbmylj6928v 
[2025-05-29 05:14:40 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:14:40 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=s27g269eej 
[2025-05-29 05:14:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:14:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:14:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='8rQ2Ha7fULUq72fNxfM3-' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='8rQ2Ha7fULUq72fNxfM3-' 
[2025-05-29 05:14:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='t3J2GYSkYvHjpbsKiZV9Y' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='t3J2GYSkYvHjpbsKiZV9Y' 
[2025-05-29 05:14:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='kW10pkiLia9MpKEo76ZJ9' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='kW10pkiLia9MpKEo76ZJ9' 
[2025-05-29 05:14:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:14:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='QVndqArk113TvVmcnXjDw' AND state='1 ORDER BY filetype' 
[2025-05-29 05:14:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='QVndqArk113TvVmcnXjDw' 
[2025-05-29 05:14:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:15:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LwlNjEb4XkBv-ywVDzjmY' 
[2025-05-29 05:15:01 +08:00Z] [INFO] - SQL (direct): UPDATE files SET state='2' WHERE fileid='LwlNjEb4XkBv-ywVDzjmY' 
[2025-05-29 05:15:01 +08:00Z] [DEBUG] - [status] 200 [msg] 已放入回收站 
[2025-05-29 05:15:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND fileownerfolderid='kW10pkiLia9MpKEo76ZJ9' AND state='1 ORDER BY filetype' 
[2025-05-29 05:15:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND parentfolderid='kW10pkiLia9MpKEo76ZJ9' 
[2025-05-29 05:15:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:15:13 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=s27g269eej 
[2025-05-29 05:15:13 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:15:13 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=hj57cgfgbm 
[2025-05-29 05:15:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=hj57cgfgbm 
[2025-05-29 05:15:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:15:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=if3w4new12 
[2025-05-29 05:15:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:15:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:15:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:16:19 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=if3w4new12 
[2025-05-29 05:16:20 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/kMXvDPe2A4kwfc0UTtaNm 
[2025-05-29 05:16:20 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=kMXvDPe2A4kwfc0UTtaNm, wid=gmppnwg335a 
[2025-05-29 05:17:07 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 05:17:08 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 05:17:08 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 05:17:08 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 05:17:08 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 05:17:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 05:17:12 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 05:17:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:17:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:17:12 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:17:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:17:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:17:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:17:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 05:17:17 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:17:23 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 05:17:40 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 05:17:49 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 05:18:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:18:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:18:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 05:18:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='fhOPjyXgtzS-N6EheItGI' AND OWNER ='1' 
[2025-05-29 05:18:17 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:18:23 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 05:18:27 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 05:18:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='kMXvDPe2A4kwfc0UTtaNm' AND OWNER ='1' 
[2025-05-29 05:18:29 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 05:18:34 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 05:18:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='undefined' 
[2025-05-29 05:18:39 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 05:18:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 05:18:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 05:18:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 06:59:51 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 06:59:52 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 06:59:52 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 06:59:52 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:5000. 
[2025-05-29 06:59:52 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 07:00:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 07:00:28 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 07:00:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:00:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:00:28 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:00:32 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 07:00:32 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 07:00:32 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 07:00:32 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:00:32 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 07:00:32 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ah0xeh8vpjf 
[2025-05-29 07:00:33 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=ah0xeh8vpjf 
[2025-05-29 07:00:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:00:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:00:33 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:00:34 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:00:34 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=svdw1k8d3tb 
[2025-05-29 07:00:34 +08:00Z] [INFO] - 用户连接... 
[2025-05-29 07:00:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 07:00:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 07:00:34 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 07:00:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 07:00:34 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 07:00:34 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='axWqornH63L7Vyswn-fVR' AND files.currenthead=versions.vid 
[2025-05-29 07:00:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:00:38 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["e4A_vkZOsbjWETB_E6_G0"] 
[2025-05-29 07:00:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 07:00:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:00:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:00:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:00:42 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 07:00:42 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:00:42 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=tgp8q3am1k 
[2025-05-29 07:00:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 07:00:42 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 07:00:42 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 07:00:42 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 07:00:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 07:00:43 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 07:00:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2'&&password='c81e728d9d4c2f636f067f89cc14862c' 
[2025-05-29 07:00:52 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 07:00:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM filestates WHERE fileid='axWqornH63L7Vyswn-fVR' AND editor='2' 
[2025-05-29 07:00:54 +08:00Z] [INFO] - SQL (direct): INSERT INTO filestates(fsid,fileid,editor) VALUES('nPDtz-7ytPQqhxHooqxCu','axWqornH63L7Vyswn-fVR','2') 
[2025-05-29 07:00:54 +08:00Z] [DEBUG] - [status] 200 [msg] 加入成功 
[2025-05-29 07:00:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:00:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:00:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:00:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:00:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:00:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:01:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:01:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:01:03 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:01:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 07:01:11 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 07:01:15 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 07:02:48 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 07:04:38 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=tgp8q3am1k 
[2025-05-29 07:04:38 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=svdw1k8d3tb 
[2025-05-29 07:04:38 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:04:38 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=vvl99il3vv 
[2025-05-29 07:04:38 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:04:38 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=dvf1odjyabv 
[2025-05-29 07:04:40 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 07:05:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["fhOPjyXgtzS-N6EheItGI"] 
[2025-05-29 07:05:23 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='fhOPjyXgtzS-N6EheItGI' AND files.currenthead=versions.vid 
[2025-05-29 07:05:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 07:05:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:05:23 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 07:05:23 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=0fk0uaf4ca1b 
[2025-05-29 07:05:53 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=0fk0uaf4ca1b 
[2025-05-29 07:05:53 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/fhOPjyXgtzS-N6EheItGI 
[2025-05-29 07:05:53 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=fhOPjyXgtzS-N6EheItGI, wid=hv1v6voyvgm 
[2025-05-29 07:06:12 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=fhOPjyXgtzS-N6EheItGI, wid=hv1v6voyvgm 
[2025-05-29 07:06:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:06:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:06:12 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:06:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["e3Lq8IgfRWml7dMCtiQLW"] 
[2025-05-29 07:06:15 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='e3Lq8IgfRWml7dMCtiQLW' AND files.currenthead=versions.vid 
[2025-05-29 07:06:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 07:06:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:06:15 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/e3Lq8IgfRWml7dMCtiQLW 
[2025-05-29 07:06:15 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1r6hn1r39gj 
[2025-05-29 07:06:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=e3Lq8IgfRWml7dMCtiQLW, wid=1r6hn1r39gj 
[2025-05-29 07:06:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:06:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:06:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:06:18 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 07:06:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 07:06:18 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:06:18 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=xkxsnvp6kcn 
[2025-05-29 07:06:18 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 07:06:18 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 07:06:18 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 07:06:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:06:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:06:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:06:23 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 07:06:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 07:06:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 07:06:23 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:06:23 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=z151nz5qwip 
[2025-05-29 07:06:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 07:06:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 07:06:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 07:06:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 07:06:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 07:06:26 +08:00Z] [INFO] - 用户加入房间 axWqornH63L7Vyswn-fVR 
[2025-05-29 07:06:26 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:06:26 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=7vx1ujlq5i6 
[2025-05-29 07:06:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='axWqornH63L7Vyswn-fVR' AND OWNER ='1' 
[2025-05-29 07:06:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["axWqornH63L7Vyswn-fVR"] 
[2025-05-29 07:06:26 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 07:06:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 07:09:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=xkxsnvp6kcn 
[2025-05-29 07:09:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=vvl99il3vv 
[2025-05-29 07:09:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=dvf1odjyabv 
[2025-05-29 07:09:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=z151nz5qwip 
[2025-05-29 07:09:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=7vx1ujlq5i6 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=ode9edr0bq 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=cnn0s6x3agt 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=zpozjkvcb3 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=f6fxpkdsqqv 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:09:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=i5pek3h3oi 
[2025-05-29 07:10:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=i5pek3h3oi 
[2025-05-29 07:10:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=ode9edr0bq 
[2025-05-29 07:10:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=cnn0s6x3agt 
[2025-05-29 07:10:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=f6fxpkdsqqv 
[2025-05-29 07:10:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:10:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=j91f41chj18 
[2025-05-29 07:10:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:10:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=rhxfkc4hnu 
[2025-05-29 07:10:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:10:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=sg4zpon9fa 
[2025-05-29 07:10:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:10:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=a45w63o5o85 
[2025-05-29 07:11:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=sg4zpon9fa 
[2025-05-29 07:11:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=j91f41chj18 
[2025-05-29 07:11:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=axWqornH63L7Vyswn-fVR, wid=a45w63o5o85 
[2025-05-29 07:11:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:11:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=knp2b0zjwy 
[2025-05-29 07:11:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:11:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=v5lracs0fej 
[2025-05-29 07:11:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/axWqornH63L7Vyswn-fVR 
[2025-05-29 07:11:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=axWqornH63L7Vyswn-fVR, wid=hxae9vsut2 
[2025-05-29 09:11:13 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 09:11:16 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 09:11:16 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 09:11:17 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 09:11:17 +08:00Z] [ERROR] - 数据库连接失败 ==> Error: ER_ACCESS_DENIED_ERROR: Access denied for user 'root'@'localhost' (using password: YES) 
[2025-05-29 09:11:41 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 09:11:42 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 09:11:42 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 09:11:42 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 09:11:42 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 09:11:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 09:11:55 +08:00Z] [DEBUG] - [status] 2002 [msg] 参数缺失 
[2025-05-29 09:20:39 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 09:20:41 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 09:20:41 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 09:20:41 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 09:20:41 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 09:20:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 09:20:51 +08:00Z] [INFO] - SQL (direct): INSERT INTO users(userid,username,userimg,password) VALUES('1','用户_31tpy','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 231 231"><path d="M33.83,33.83a115.5,115.5,0,1,1,0,163.34,115.49,115.49,0,0,1,0-163.34Z" style="fill:#0079b1;"/><path d="m115.5 51.75a63.75 63.75 0 0 0-10.5 126.63v14.09a115.5 115.5 0 0 0-53.729 19.027 115.5 115.5 0 0 0 128.46 0 115.5 115.5 0 0 0-53.729-19.029v-14.084a63.75 63.75 0 0 0 53.25-62.881 63.75 63.75 0 0 0-63.65-63.75 63.75 63.75 0 0 0-0.09961 0z" style="fill:#542e02;"/><path d="M61.11,205.59l3.49,3.69-6.26,6.6A115.45,115.45,0,0,0,72,222.51v-22a115.19,115.19,0,0,0-10.85,5.1Z" style="fill:#efedee;"/><path d="M93.24,228.85V199l-4-4A114.43,114.43,0,0,0,72,200.49v22a114.43,114.43,0,0,0,21.28,6.34Z" style="fill:#ec0033;"/><path d="m159 222.51v-22a114.63 114.63 0 0 0-17.25-5.51l-4 4v29.86a114.16 114.16 0 0 0 21.25-6.35z" style="fill:#ec0033;"/><path d="m169.89 205.59-3.49 3.69 6.26 6.6a115.45 115.45 0 0 1-13.66 6.63v-22a115.19 115.19 0 0 1 10.85 5.1z" style="fill:#efedee;"/><path d="M115.5,219.62A28.5,28.5,0,0,1,87.25,195c2.93-.74,5.92-1.36,8.94-1.87a19.41,19.41,0,0,0,38.62,0c3,.51,6,1.13,8.94,1.87a28.49,28.49,0,0,1-28.25,24.63Z" style="fill:#f2ff05;"/><path d="m32.902 67.662c-0.36295 1.7227-6.2342 30.695 5.6133 52.596 4.5843 8.4743 9.0081 13.239 12.75 15.893a67.7 67.7 0 0 1-3.4688-21.35 67.7 67.7 0 0 1 2.332-17.658c-4.4914-2.4646-10.868-6.9012-13.834-13.52-4.1626-9.285-3.6155-14.673-3.3926-15.961zm165.19 0c0.22292 1.2882 0.77005 6.6759-3.3926 15.961-2.9664 6.6183-9.3426 11.055-13.834 13.52a67.7 67.7 0 0 1 2.332 17.658 67.7 67.7 0 0 1-3.4688 21.35c3.7419-2.6532 8.1657-7.4183 12.75-15.893 11.847-21.9 5.9762-50.873 5.6133-52.596z" style="fill:#acfffd;"/><path d="m115.73 13.191c-7.3787-0.13351-13.509 5.7888-13.631 13.168-0.10128 5.8827 3.4508 10.518 8.0566 12.52 1.061 0.46115 2.1869 0.78009 3.3418 0.95703v8.4291c0.66778-0.02035 1.3358-0.03077 2.0039-0.03125 0.66547-9e-5 1.3309 0.0097 1.9961 0.0293v-8.4115c2.6002-0.38406 5.1586-1.5484 7.3086-3.625 4.2322-4.0878 4.9991-9.8755 3.1582-14.549-1.8407-4.6726-6.3502-8.3834-12.232-8.4863z" style="fill:#acfffd;"/><path d="m83.527 103.98v10h10v-10h-10zm53.945 0v10h10v-10h-10z" style="fill:#000;"/><path d="m56.621 94.906v11.688h5.3418v6.4922h5.3418v6.1055h5.3223v6.2324h26.846v-6.2324h5.3047v-6.1055h5.1445v-6.0039h11.154v6.0039h5.1446v6.1055h5.3066v6.2324h26.846v-6.2324h5.3203v-6.1055h5.3438v-6.4922h5.3418v-11.688z" style="fill:none;"/><path d="m67.387 100.65v5.9394h5.1992v-5.9394zm5.1992 5.9394v6.4922h5.4238v-6.4922zm5.4238 0h5.1992v-5.9394h-5.1992zm5.1992 0v6.4922h5.4258v-6.4922zm5.4258 6.4922v6.1055h5.1426v-6.1055zm-10.625 0v6.1055h5.1445v-6.1055zm48.281-12.432v5.9394h5.1992v-5.9394zm5.1992 5.9394v6.4922h5.4238v-6.4922zm5.4238 0h5.1992v-5.9394h-5.1992zm5.1992 0v6.4922h5.4258v-6.4922zm5.4258 6.4922v6.1055h5.1426v-6.1055zm-10.625 0v6.1055h5.1445v-6.1055z" style="fill:none;"/><path d="m94.19 136.84h42.632a3.7801 3.78 0 0 1 3.7802 3.78v3.22a15.231 15.23 0 0 1-15.211 15.16h-19.781a15.251 15.25 0 0 1-15.221-15.16v-3.22a3.8002 3.8 0 0 1 3.7802-3.78z" style="fill:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:3px;stroke:#000;"/><path d="m130.96 136.84v21.16m-30.911-21.16v21.16m10.34-21.16v22.16m10.31-22.2v22.2" style="fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:3px;stroke:#000;"/></svg>','c4ca4238a0b923820dcc509a6f75849b') 
[2025-05-29 09:20:51 +08:00Z] [DEBUG] - [status] 200 [msg] 用户注册成功 
[2025-05-29 09:20:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 09:20:54 +08:00Z] [DEBUG] - [status] 2002 [msg] 参数缺失 
[2025-05-29 09:21:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 09:21:00 +08:00Z] [INFO] - SQL (direct): INSERT INTO users(userid,username,userimg,password) VALUES('4','用户_LeTpx','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 231 231"><path d="M33.83,33.83a115.5,115.5,0,1,1,0,163.34,115.49,115.49,0,0,1,0-163.34Z" style="fill:#386465;"/><path d="m115.5 51.75a63.75 63.75 0 0 0-10.5 126.63v14.09a115.5 115.5 0 0 0-53.729 19.027 115.5 115.5 0 0 0 128.46 0 115.5 115.5 0 0 0-53.729-19.029v-14.084a63.75 63.75 0 0 0 53.25-62.881 63.75 63.75 0 0 0-63.65-63.75 63.75 63.75 0 0 0-0.09961 0z" style="fill:#e6b876;"/><path d="M61.11,205.59l3.49,3.69-6.26,6.6A115.45,115.45,0,0,0,72,222.51v-22a115.19,115.19,0,0,0-10.85,5.1Z" style="fill:#efedee;"/><path d="M93.24,228.85V199l-4-4A114.43,114.43,0,0,0,72,200.49v22a114.43,114.43,0,0,0,21.28,6.34Z" style="fill:#00a1e0;"/><path d="m159 222.51v-22a114.63 114.63 0 0 0-17.25-5.51l-4 4v29.86a114.16 114.16 0 0 0 21.25-6.35z" style="fill:#00a1e0;"/><path d="m169.89 205.59-3.49 3.69 6.26 6.6a115.45 115.45 0 0 1-13.66 6.63v-22a115.19 115.19 0 0 1 10.85 5.1z" style="fill:#efedee;"/><path d="M115.5,219.62A28.5,28.5,0,0,1,87.25,195c2.93-.74,5.92-1.36,8.94-1.87a19.41,19.41,0,0,0,38.62,0c3,.51,6,1.13,8.94,1.87a28.49,28.49,0,0,1-28.25,24.63Z" style="fill:#ffce1c;"/><path d="m108.37 22.019c-6.2698-12.829-17.151-13.396-18.949 1.1769-11.448-9.4583-26.021-4.483-20.361 12.422-12.251-7.9282-24.919 1.7761-17.076 20.853-27.08 2.3646-22.715 24.726-10.111 31.435-9.9002 3.3566-10.701 9.4006-8.464 14.497 2.6574 4.7842 9.0126 6.4737 11.545 9.6519-6.624 0.59419-8.4112 5.6011-5.7404 9.5192 1.6896 2.4787 5.2756 4.2218 8.5971 5.5455 1.0485 0.40658 3.702 1.2732 3.9053 2.4181 0.18744 1.2156-6.7884 3.0055-5.7281 5.2612 0.60648 1.4227 1.7764 2.7151 2.6466 3.7156 1.2807 1.6595 10.755 8.0351 9.4583 4.2049-1.0271-3.7234-2.2148-7.4682-3.1456-11.192-1.1662-5.3069-1.7868-10.721-1.102-16.156 1.4223-5.455 5.069-4.4265 7.7837-8.3588 3.5264-5.7505 2.0296-11.614 2.124-13.575 0.107-1.7868 1.5407-1.1876 3.1884-1.4337 4.3868-0.64196 7.0081-2.1185 8.8377-6.2698 0.77035-1.9259 0.62057-9.7578 0.52426-11.78 0.36378-4.6328 4.1835 0 6.548 0.64196 3.2633 0.88805 6.8797 0.21399 9.0731-2.5037 1.7547-2.3753 2.0864-2.8888 4.6114-0.80245 2.6856 2.2148 4.0979 3.1349 7.6929 3.274 5.5637 0.20329 8.7735-6.2698 11.32-5.6386 3.5201 0.87735 3.6057 5.4567 10.261 4.8682 2.386-0.20329 3.8304-0.86665 5.4032-2.6428 0.88805-0.99505 1.958-2.5037 3.4345-2.6214 1.4658-0.1177 2.3218 2.3646 3.0065 3.4452 1.1926 2.6755 4.0295 3.6513 6.2377 3.3168 1.958-0.17119 3.854-1.4115 5.4268-2.4707 0.99679-0.66102 1.8284-0.81128 1.9256 0.2071 0.29592 2.2271 0.0862 7.7025 0.1596 8.4821 0.10556 8.4609 5.37 10.569 13.223 10.333-0.31871 3.7464 0.0583 11.28 5.4353 14.562 3.9481 2.7604 6.6657 1.2732 6.7299 7.8534 7e-3 6.1914-0.43693 13.061-1.2946 18.189-0.69547 4.0444-1.2412 6.4838-2.5251 10.378-0.64196 1.9152-0.81315 1.9687 1.4123 1.0699 7.1472-3.1456 10.539-11.48 8.3562-18.842-0.43869-2.0436 0.84525-1.7226 2.8781-2.6106 9.5248-4.2363 8.1264-11.335-0.75967-14.273 11.988-3.0926 13.886-8.9002 6.6871-15.375 7.3077-5.9168 3.6378-16.177-2.8032-16.991 12.422-7.0937 5.7349-22.062-5.1036-18.499 4.1728-12.037-5.5637-26.203-21.121-16.894 6.9653-11.373 2.065-22.661-12.101-10.785-3.4559-18.382-15.14-16.584-23.902-5.018 0.09435-20.075-16.001-17.42-18.146-2.5892z" style="fill:#de3b00;"/><path d="m5.4353 80.502c7.4468 9.1373 15.632 8.8912 15.632 8.8912s-6.0772 3.7983-6.8369 9.8755c-0.75966 6.088 4.5579 9.6295 8.0994 10.646 3.5522 1.0058 7.0937-2.7925 7.0937-2.7925s-5.8312 10.646-1.5193 15.964c4.3012 5.3176 11.908 3.0386 11.908 3.0386s-5.3283 10.132 1.0057 14.187c5.8312 3.7234 18.542 7.6715 20.511 8.2706-6.0666-9.7472-9.576-21.249-9.576-33.575v-0.0428c0-35.201 28.546-63.747 63.747-63.747 35.212 0 63.758 28.546 63.758 63.747 0 12.476-3.5843 24.116-9.7899 33.949h0.53496s13.931-1.0057 16.21-9.3727c2.279-8.3562 0.75967-9.8756 0.75967-9.8756s10.635 2.0329 13.417-7.5966l2.7926-9.6295s10.132 0 10.892-7.083c0.75963-7.0937-7.0295-12.411-7.0295-12.411s11.459 0.82385 14.498-10.453c1.0164-3.7555 0.83456-8.2171 0.1391-12.497-17.665-41.161-58.569-69.995-106.18-69.995-30.632 0-60.034 12.187-81.679 33.831v0.0107c-13.171 13.171-22.833 29.22-28.386 46.66z" style="fill:none;"/><path d="m145.38 95.628c-5.1601 2.2597-11.03 2.2597-16.19 0m-47.29 1.75c5.1755-2.2694 11.065-2.2694 16.24 0" style="fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:5.9998px;stroke:#795548;"/><path d="m90.016 106.28c-4.4506-0.0105-6.6902 5.3657-3.5508 8.5195 3.1394 3.1539 8.5252 0.93887 8.5352-3.5117 0.0063-2.7522-2.2204-4.9898-4.9727-4.9961l-0.011719-0.01172zm47.281 0c-4.4506-0.0105-6.6902 5.3657-3.5508 8.5195 3.1394 3.1539 8.5252 0.93887 8.5352-3.5117 6e-3 -2.7522-2.2204-4.9898-4.9727-4.9961l-0.01171-0.01172z" style="fill:#000;"/><path d="m136.21 147.09a21.77 21.77 0 0 1-40.13 0z" style="fill:#d2001b;stroke-linecap:round;stroke-linejoin:round;stroke-width:3.4999px;stroke:none;"/></svg>','a87ff679a2f3e71d9181a67b7542122c') 
[2025-05-29 09:21:00 +08:00Z] [DEBUG] - [status] 200 [msg] 用户注册成功 
[2025-05-29 09:21:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 09:21:04 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 09:21:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:21:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:21:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:21:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='123' AND filetype='txt' AND filesuffix='txt' AND owner='4' 
[2025-05-29 09:21:13 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('qS8v92fafRsxoATt5gVv6','123','txt','txt','4') 
[2025-05-29 09:21:13 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 09:21:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 09:21:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=kqi3zrjsmv 
[2025-05-29 09:21:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 09:21:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 09:21:14 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 09:21:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 09:21:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 09:21:14 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 09:21:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:21:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:21:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:21:23 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 09:21:23 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=hr9u73j06lo 
[2025-05-29 09:21:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 09:21:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 09:21:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 09:21:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 09:21:23 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 09:21:23 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 09:21:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:21:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:21:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:21:27 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 09:21:27 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=raqp4z36f8o 
[2025-05-29 09:21:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 09:21:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 09:21:27 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 09:21:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 09:21:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:21:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:21:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:21:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 09:21:30 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 09:21:33 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 09:21:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 09:21:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 09:22:00 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 09:22:39 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 09:22:44 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 09:24:55 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 09:24:56 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 09:24:56 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 09:24:57 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 09:24:57 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 09:24:57 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=ccr5qushu0c 
[2025-05-29 09:24:57 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 09:24:57 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=oyyvb456ohc 
[2025-05-29 09:24:57 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 09:24:57 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 09:24:57 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=flb66u9bpqm 
[2025-05-29 09:25:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=oyyvb456ohc 
[2025-05-29 09:25:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=flb66u9bpqm 
[2025-05-29 09:25:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=ccr5qushu0c 
[2025-05-29 09:25:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 09:25:07 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 09:25:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:25:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:25:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:25:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:25:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:25:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:25:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='123' AND filetype='txt' AND filesuffix='txt' AND owner='1' 
[2025-05-29 09:25:22 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('8Fb2xlpIsY-Riic_TLbQf','123','txt','txt','1') 
[2025-05-29 09:25:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 09:25:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 09:25:24 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 09:25:26 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 09:25:35 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 09:29:08 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 09:29:10 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 09:29:10 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 09:29:10 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 09:29:10 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 09:29:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 09:29:17 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 09:29:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:29:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:29:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:29:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 09:29:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 09:29:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 09:29:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 09:29:21 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 09:32:47 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 09:32:48 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 09:32:48 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 09:32:49 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 09:32:49 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 09:32:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 09:32:59 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 09:33:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:33:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:33:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:33:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 09:33:02 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 09:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 09:33:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 09:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 09:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 09:33:04 +08:00Z] [INFO] - SQL (direct): INSERT INTO file_permissions(user_id, file_owner_id,file_id, permission_type) 
         VALUES('4', '1','8Fb2xlpIsY-Riic_TLbQf', 'read') 
[2025-05-29 09:33:04 +08:00Z] [DEBUG] - [status] 200 [msg] 权限设置成功 
[2025-05-29 09:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 09:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 09:33:04 +08:00Z] [INFO] - SQL (direct): INSERT INTO messages(message_id,sender_id,recipient_id,file_id,title,content,created_at,is_read,type) 
                VALUES('Kl8iWuz7nDXyYktiXuvxC','1','4',
                       '8Fb2xlpIsY-Riic_TLbQf','文件共享邀请提醒','用户_31tpy邀请您以read身份一同编辑文件123.txt, 如您接受邀请，请点击右上角接受按钮，反之，请点击拒绝按钮。','2025-05-29 13:33:04.638',0,'invite') 
[2025-05-29 09:33:04 +08:00Z] [DEBUG] - [status] 200 [msg] 消息创建成功 
[2025-05-29 09:33:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 09:33:10 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 09:33:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:33:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:33:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:33:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 09:33:11 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 09:33:14 +08:00Z] [DEBUG] - [status] 500 [msg] 接受邀请失败 
[2025-05-29 09:55:16 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 09:55:18 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 09:55:18 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 09:55:19 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 09:55:19 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 09:55:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 09:55:26 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 09:55:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 09:55:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 09:55:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:55:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 09:55:29 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 09:55:33 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions SET acceptance=1 WHERE user_id='4' AND file_id='8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 09:55:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 09:55:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 09:55:33 +08:00Z] [INFO] - SQL (direct): INSERT INTO messages(message_id,sender_id,recipient_id,title,content,created_at,is_read,type) 
                VALUES('wlgyEHGNWMsBlxdO2SBqQ','4',
                       '1','邀请已接受','用户 用户_LeTpx 已接受文件 123.txt 的编辑邀请','2025-05-29 13:55:33.360',0,'accept') 
[2025-05-29 09:55:33 +08:00Z] [DEBUG] - [status] 200 [msg] 已成功接受邀请 
[2025-05-29 09:55:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 09:55:33 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 09:56:06 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 09:56:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:56:07 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 09:56:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:56:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 09:56:08 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 09:56:09 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 09:56:09 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:56:10 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 09:56:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:56:50 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 09:56:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:56:55 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 09:56:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 09:59:13 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 09:59:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:01:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 10:01:08 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 10:05:06 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 10:05:08 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 10:05:08 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 10:05:09 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 10:05:09 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 10:05:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 10:05:21 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:05:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:05:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:05:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:05:23 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:05:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:05:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:06:19 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 10:06:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:06:26 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:06:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:06:26 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:06:34 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 10:06:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:06:35 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:06:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:06:35 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:17:11 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 10:17:14 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 10:17:14 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 10:17:14 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 10:17:14 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 10:17:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 10:17:26 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:17:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:17:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:17:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:17:28 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:17:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:17:28 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:17:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 10:17:31 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 10:17:31 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:17:31 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=nw5davtd4s 
[2025-05-29 10:17:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 10:17:31 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 10:17:31 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:17:31 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:17:31 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 10:17:31 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:17:36 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:17:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:17:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:17:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 10:17:42 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:17:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:17:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:17:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:17:44 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-05-29 10:17:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:17:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:17:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:17:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:17:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='456' AND filetype='txt' AND filesuffix='txt' AND owner='1' 
[2025-05-29 10:17:50 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('yhU36sjulZn2TVenpAJCl','456','txt','txt','1') 
[2025-05-29 10:17:50 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 10:17:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:17:51 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:17:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 10:17:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 10:17:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' 
[2025-05-29 10:17:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'yhU36sjulZn2TVenpAJCl' 
[2025-05-29 10:17:56 +08:00Z] [INFO] - SQL (direct): INSERT INTO file_permissions(user_id, file_owner_id,file_id, permission_type) 
         VALUES('4', '1','yhU36sjulZn2TVenpAJCl', 'edit') 
[2025-05-29 10:17:56 +08:00Z] [DEBUG] - [status] 200 [msg] 权限设置成功 
[2025-05-29 10:17:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 10:17:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:17:56 +08:00Z] [INFO] - SQL (direct): INSERT INTO messages(message_id,sender_id,recipient_id,file_id,title,content,created_at,is_read,type) 
                VALUES('1EDdvtqee4WR5Z8EiXdGM','1','4',
                       'yhU36sjulZn2TVenpAJCl','文件共享邀请提醒','用户_31tpy邀请您以edit身份一同编辑文件456.txt, 如您接受邀请，请点击右上角接受按钮，反之，请点击拒绝按钮。','2025-05-29 14:17:56.146',0,'invite') 
[2025-05-29 10:17:56 +08:00Z] [DEBUG] - [status] 200 [msg] 消息创建成功 
[2025-05-29 10:18:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 10:18:02 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:18:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:18:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:18:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:18:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 10:18:03 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 10:18:04 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=nw5davtd4s 
[2025-05-29 10:18:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:18:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=rw027fjqu6n 
[2025-05-29 10:18:07 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions SET acceptance=1 WHERE user_id='4' AND file_id='yhU36sjulZn2TVenpAJCl' 
[2025-05-29 10:18:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 10:18:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:18:07 +08:00Z] [INFO] - SQL (direct): INSERT INTO messages(message_id,sender_id,recipient_id,title,content,created_at,is_read,type) 
                VALUES('v955irQ36qA2ggtQ8iIqS','4',
                       '1','邀请已接受','用户 用户_LeTpx 已接受文件 456.txt 的编辑邀请','2025-05-29 14:18:07.639',0,'accept') 
[2025-05-29 10:18:07 +08:00Z] [DEBUG] - [status] 200 [msg] 已成功接受邀请 
[2025-05-29 10:18:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 10:18:07 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 10:18:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:18:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:18:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:18:10 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:18:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:18:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:18:10 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:18:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'yhU36sjulZn2TVenpAJCl' 
[2025-05-29 10:18:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 10:18:19 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/yhU36sjulZn2TVenpAJCl 
[2025-05-29 10:18:19 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=yhU36sjulZn2TVenpAJCl, wid=0brxhyn41fi 
[2025-05-29 10:18:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl?file_id=yhU36sjulZn2TVenpAJCl&filename=456&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T14:17:50.000Z&readOnly=false' AND OWNER ='4' 
[2025-05-29 10:18:19 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["yhU36sjulZn2TVenpAJCl"] 
[2025-05-29 10:18:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:18:19 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:18:19 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='yhU36sjulZn2TVenpAJCl' AND files.currenthead=versions.vid 
[2025-05-29 10:18:19 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:18:34 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=yhU36sjulZn2TVenpAJCl, wid=0brxhyn41fi 
[2025-05-29 10:18:34 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=rw027fjqu6n 
[2025-05-29 10:39:31 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 10:39:33 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 10:39:33 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 10:39:34 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 10:39:34 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 10:39:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 10:39:48 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:39:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:39:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:39:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:39:51 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:39:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:39:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:39:51 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:39:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 10:39:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 10:39:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:39:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=7wfdox7ffqf 
[2025-05-29 10:39:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 10:39:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 10:39:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:39:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:39:53 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 10:39:53 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:39:58 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:39:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:39:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:39:58 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:40:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 10:40:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 10:40:02 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:40:02 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=scoikphgfdl 
[2025-05-29 10:40:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 10:40:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 10:40:02 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:40:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:40:02 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 10:40:02 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:40:08 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:40:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:40:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:40:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:40:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 10:40:13 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:40:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:40:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:40:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:40:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:40:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=aq6f8icyyq4 
[2025-05-29 10:40:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:40:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 10:40:14 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:40:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:40:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 10:40:14 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:40:24 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["0nkz1daW7jGSI0iSELAJZ","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,1,191,143,189,149,12,0,4,1,5,113,117,105,108,108,13,51,50,52,50,49,52,49,52,49,50,52,50,52,0]},null,"1"] 
[2025-05-29 10:40:24 +08:00Z] [ERROR] - SQL执行错误: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 -- SQL: INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["0nkz1daW7jGSI0iSELAJZ","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,1,191,143,189,149,12,0,4,1,5,113,117,105,108,108,13,51,50,52,50,49,52,49,52,49,50,52,50,52,0]},null,"1"] 
[2025-05-29 10:40:24 +08:00Z] [ERROR] - 创建版本失败: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 
[2025-05-29 10:40:24 +08:00Z] [DEBUG] - [status] 500 [msg] 服务器错误 
[2025-05-29 10:41:17 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["pA6OIqztDJqzJaJLaGQXk","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,1,191,143,189,149,12,0,4,1,5,113,117,105,108,108,13,51,50,52,50,49,52,49,52,49,50,52,50,52,0]},"2","1"] 
[2025-05-29 10:41:17 +08:00Z] [ERROR] - SQL执行错误: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 -- SQL: INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["pA6OIqztDJqzJaJLaGQXk","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,1,191,143,189,149,12,0,4,1,5,113,117,105,108,108,13,51,50,52,50,49,52,49,52,49,50,52,50,52,0]},"2","1"] 
[2025-05-29 10:41:17 +08:00Z] [ERROR] - 创建版本失败: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 
[2025-05-29 10:41:17 +08:00Z] [DEBUG] - [status] 500 [msg] 服务器错误 
[2025-05-29 10:41:26 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["CvCjwyPduulzouBmoriLh","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,1,191,143,189,149,12,0,4,1,5,113,117,105,108,108,13,51,50,52,50,49,52,49,52,49,50,52,50,52,0]},null,"1"] 
[2025-05-29 10:41:26 +08:00Z] [ERROR] - SQL执行错误: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 -- SQL: INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["CvCjwyPduulzouBmoriLh","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,1,191,143,189,149,12,0,4,1,5,113,117,105,108,108,13,51,50,52,50,49,52,49,52,49,50,52,50,52,0]},null,"1"] 
[2025-05-29 10:41:26 +08:00Z] [ERROR] - 创建版本失败: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 
[2025-05-29 10:41:26 +08:00Z] [DEBUG] - [status] 500 [msg] 服务器错误 
[2025-05-29 10:42:43 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["wjvH9bpmWNnR-50pNz6CC","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,2,191,143,189,149,12,0,1,1,5,113,117,105,108,108,29,132,191,143,189,149,12,28,8,50,52,49,52,49,101,97,101,1,191,143,189,149,12,1,0,29]},null,"1"] 
[2025-05-29 10:42:43 +08:00Z] [ERROR] - SQL执行错误: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 -- SQL: INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["wjvH9bpmWNnR-50pNz6CC","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,2,191,143,189,149,12,0,1,1,5,113,117,105,108,108,29,132,191,143,189,149,12,28,8,50,52,49,52,49,101,97,101,1,191,143,189,149,12,1,0,29]},null,"1"] 
[2025-05-29 10:42:43 +08:00Z] [ERROR] - 创建版本失败: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 
[2025-05-29 10:42:43 +08:00Z] [DEBUG] - [status] 500 [msg] 服务器错误 
[2025-05-29 10:44:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:44:39 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:44:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM filestates WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND editor='1' 
[2025-05-29 10:44:51 +08:00Z] [INFO] - SQL (direct): INSERT INTO filestates(fsid,fileid,editor) VALUES('y9ubzOV-hJ-RssqGEIORq','8Fb2xlpIsY-Riic_TLbQf','1') 
[2025-05-29 10:44:51 +08:00Z] [DEBUG] - [status] 200 [msg] 加入成功 
[2025-05-29 10:44:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:44:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:44:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:44:53 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-05-29 10:44:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:44:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:44:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:44:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:44:56 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-05-29 10:44:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:44:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:44:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:44:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:46:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=7wfdox7ffqf 
[2025-05-29 10:46:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=aq6f8icyyq4 
[2025-05-29 10:46:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=scoikphgfdl 
[2025-05-29 10:46:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:46:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=2cwy1ezs4f8 
[2025-05-29 10:46:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:46:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=pq9hxgf2mz 
[2025-05-29 10:46:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:46:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=uic5rqnsatp 
[2025-05-29 10:47:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=2cwy1ezs4f8 
[2025-05-29 10:47:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=uic5rqnsatp 
[2025-05-29 10:47:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=pq9hxgf2mz 
[2025-05-29 10:47:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:47:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=w2h2foaqeib 
[2025-05-29 10:47:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:47:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=ae9s6ax0p66 
[2025-05-29 10:47:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:47:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=xvh5m6kuqp 
[2025-05-29 10:48:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=ae9s6ax0p66 
[2025-05-29 10:48:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=w2h2foaqeib 
[2025-05-29 10:48:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=xvh5m6kuqp 
[2025-05-29 10:48:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:48:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=3ckad8n9vjs 
[2025-05-29 10:48:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:48:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=wd2r0xtz7h 
[2025-05-29 10:48:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:48:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=mp0mbj01yqq 
[2025-05-29 10:49:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=wd2r0xtz7h 
[2025-05-29 10:49:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=3ckad8n9vjs 
[2025-05-29 10:49:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=mp0mbj01yqq 
[2025-05-29 10:49:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:49:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=j6y0c2nvfge 
[2025-05-29 10:49:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:49:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=vqmoddaqkh 
[2025-05-29 10:49:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:49:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=36ogxhhdksc 
[2025-05-29 10:50:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=j6y0c2nvfge 
[2025-05-29 10:50:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=36ogxhhdksc 
[2025-05-29 10:50:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=vqmoddaqkh 
[2025-05-29 10:50:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:50:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=5xem447fj07 
[2025-05-29 10:50:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:50:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=3o813rajqp2 
[2025-05-29 10:50:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:50:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=i4ly2qp7rn 
[2025-05-29 10:51:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=3o813rajqp2 
[2025-05-29 10:51:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=5xem447fj07 
[2025-05-29 10:51:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=i4ly2qp7rn 
[2025-05-29 10:51:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:51:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=764og3kcxi 
[2025-05-29 10:51:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:51:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=feaslz1pzxc 
[2025-05-29 10:51:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:51:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=tycyksng4en 
[2025-05-29 10:52:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:52:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:52:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:52:27 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:52:27 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=vi5qpa47frq 
[2025-05-29 10:52:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:52:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 10:52:27 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:52:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:52:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:52:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:52:32 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:52:37 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 10:52:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:52:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='1' 
[2025-05-29 10:52:38 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 10:52:39 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 10:52:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:52:40 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-05-29 10:52:40 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:52:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:52:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:52:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:52:44 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:52:44 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=owha434vexk 
[2025-05-29 10:52:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:52:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 10:52:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:52:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:52:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:52:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:52:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:52:46 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='1' AND fl.fileid=fs.fileid 
[2025-05-29 10:52:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:52:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='1' 
[2025-05-29 10:52:50 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 10:53:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:53:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:53:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:53:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:53:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=athxri8d7de 
[2025-05-29 10:53:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:53:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 10:53:28 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:53:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:53:29 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["ITNHYPDEVOSOMdHy_TlOw","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,2,191,143,189,149,12,0,1,1,5,113,117,105,108,108,29,132,191,143,189,149,12,28,8,50,52,49,52,49,101,97,101,1,191,143,189,149,12,1,0,29]},null,"1"] 
[2025-05-29 10:53:29 +08:00Z] [ERROR] - SQL执行错误: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 -- SQL: INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["ITNHYPDEVOSOMdHy_TlOw","8Fb2xlpIsY-Riic_TLbQf",{"type":"Buffer","data":[1,2,191,143,189,149,12,0,1,1,5,113,117,105,108,108,29,132,191,143,189,149,12,28,8,50,52,49,52,49,101,97,101,1,191,143,189,149,12,1,0,29]},null,"1"] 
[2025-05-29 10:53:29 +08:00Z] [ERROR] - 创建版本失败: Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\xBF\x8F\xBD\x95\x0C\x00...' for column 'snapshot' at row 1 
[2025-05-29 10:53:29 +08:00Z] [DEBUG] - [status] 500 [msg] 服务器错误 
[2025-05-29 10:54:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:54:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:54:20 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:54:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='9239' AND filetype='word' AND filesuffix='docx' AND owner='1' 
[2025-05-29 10:54:25 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('LOIfZVAaVq4iofBQTSUer','9239','word','docx','1') 
[2025-05-29 10:54:25 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 10:54:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 10:54:26 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 10:54:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:54:26 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:54:26 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:54:26 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=0fpsrtee985i 
[2025-05-29 10:54:59 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=0fpsrtee985i 
[2025-05-29 10:54:59 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:54:59 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=ql2fyo42j1 
[2025-05-29 10:55:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:55:30 +08:00Z] [INFO] - [saveVersion] 文件无currenthead，创建第一个版本，fileid: LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:55:30 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["ir4J43Yp1SBZHMzjemKza","LOIfZVAaVq4iofBQTSUer","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[],\"footer\":[]}}","1"] 
[2025-05-29 10:55:30 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='ir4J43Yp1SBZHMzjemKza' WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:55:30 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 10:55:32 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=ql2fyo42j1 
[2025-05-29 10:55:32 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:55:32 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=sojq732t8x 
[2025-05-29 10:55:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:55:35 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["ir4J43Yp1SBZHMzjemKza"] 
[2025-05-29 10:55:35 +08:00Z] [INFO] - [saveVersion] 未超过版本控制时限，更新版本内容，vid: ir4J43Yp1SBZHMzjemKza, fileid: LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:55:35 +08:00Z] [INFO] - SQL (parameterized): UPDATE versions SET content = ? WHERE fileid = ? AND vid = ? -- Params: ["{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"ysadhayd\"}],\"footer\":[]}}","LOIfZVAaVq4iofBQTSUer","ir4J43Yp1SBZHMzjemKza"] 
[2025-05-29 10:55:35 +08:00Z] [DEBUG] - [status] 200 [msg] 已更新文件内容 
[2025-05-29 10:55:36 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=sojq732t8x 
[2025-05-29 10:55:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:55:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:55:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:55:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 10:55:38 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 10:55:38 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:55:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:55:38 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:55:38 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=udbbnkjyi7i 
[2025-05-29 10:55:43 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["SbdcUOxcl3uevZE7O3UO0","LOIfZVAaVq4iofBQTSUer",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,121,115,97,100,104,97,121,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"ueuwq","1"] 
[2025-05-29 10:55:43 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:55:43 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 10:55:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 10:55:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:56:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=udbbnkjyi7i 
[2025-05-29 10:56:11 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:56:11 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=zlsqf01r56 
[2025-05-29 10:56:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["SbdcUOxcl3uevZE7O3UO0"] 
[2025-05-29 10:56:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-05-29 10:56:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:56:21 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 10:56:21 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: LOIfZVAaVq4iofBQTSUer, currenthead: [object Object] 
[2025-05-29 10:56:21 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 10:56:21 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["2jDsJEe3xrGOp4bsi70JW","LOIfZVAaVq4iofBQTSUer","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"ysadhayd\"}],\"footer\":[]}}","1"] 
[2025-05-29 10:56:21 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='2jDsJEe3xrGOp4bsi70JW' WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:56:21 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 10:56:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 10:56:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:56:44 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=zlsqf01r56 
[2025-05-29 10:56:44 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:56:44 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=irpaficigx 
[2025-05-29 10:56:52 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["exKlOqAHqg7KGBcsSu5NZ","LOIfZVAaVq4iofBQTSUer",{"type":"Buffer","data":[123,34,118,101,114,115,105,111,110,34,58,34,48,46,57,46,52,57,34,44,34,119,105,100,116,104,34,58,55,57,52,44,34,104,101,105,103,104,116,34,58,49,49,50,51,44,34,109,97,114,103,105,110,115,34,58,91,49,48,48,44,49,50,48,44,49,48,48,44,49,50,48,93,44,34,119,97,116,101,114,109,97,114,107,34,58,123,34,100,97,116,97,34,58,34,67,65,78,86,65,83,45,69,68,73,84,79,82,34,44,34,99,111,108,111,114,34,58,34,35,65,69,66,53,67,48,34,44,34,111,112,97,99,105,116,121,34,58,48,46,51,44,34,115,105,122,101,34,58,49,50,48,44,34,102,111,110,116,34,58,34,89,97,104,101,105,34,125,44,34,100,97,116,97,34,58,123,34,104,101,97,100,101,114,34,58,91,93,44,34,109,97,105,110,34,58,91,123,34,118,97,108,117,101,34,58,34,121,115,97,100,104,97,121,100,34,125,93,44,34,102,111,111,116,101,114,34,58,91,93,125,125]},"45","1"] 
[2025-05-29 10:56:52 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:56:52 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-05-29 10:56:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 10:56:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:57:14 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=irpaficigx 
[2025-05-29 10:57:15 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:57:15 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=yczu9e8aai 
[2025-05-29 10:57:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 10:57:40 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:57:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:57:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:57:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:57:46 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=yczu9e8aai 
[2025-05-29 10:57:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:57:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:57:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:57:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 10:57:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:57:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 10:57:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 10:57:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:57:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:57:51 +08:00Z] [INFO] - SQL (direct): INSERT INTO file_permissions(user_id, file_owner_id,file_id, permission_type) 
         VALUES('4', '1','LOIfZVAaVq4iofBQTSUer', 'edit') 
[2025-05-29 10:57:51 +08:00Z] [DEBUG] - [status] 200 [msg] 权限设置成功 
[2025-05-29 10:57:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 10:57:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 10:57:51 +08:00Z] [INFO] - SQL (direct): INSERT INTO messages(message_id,sender_id,recipient_id,file_id,title,content,created_at,is_read,type) 
                VALUES('OaAR_kroXvsIer-8f9Kd9','1','4',
                       'LOIfZVAaVq4iofBQTSUer','文件共享邀请提醒','用户_31tpy邀请您以edit身份一同编辑文件9239.word, 如您接受邀请，请点击右上角接受按钮，反之，请点击拒绝按钮。','2025-05-29 14:57:51.170',0,'invite') 
[2025-05-29 10:57:51 +08:00Z] [DEBUG] - [status] 200 [msg] 消息创建成功 
[2025-05-29 10:57:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 10:57:56 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 10:57:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:57:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:57:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:57:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 10:57:57 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 10:58:03 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions SET acceptance=1 WHERE user_id='4' AND file_id='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:58:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 10:58:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 10:58:03 +08:00Z] [INFO] - SQL (direct): INSERT INTO messages(message_id,sender_id,recipient_id,title,content,created_at,is_read,type) 
                VALUES('xx5j5C97OhEXDcUoRgQJ7','4',
                       '1','邀请已接受','用户 用户_LeTpx 已接受文件 9239.word 的编辑邀请','2025-05-29 14:58:03.753',0,'accept') 
[2025-05-29 10:58:03 +08:00Z] [DEBUG] - [status] 200 [msg] 已成功接受邀请 
[2025-05-29 10:58:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 10:58:03 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 10:58:05 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:58:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:58:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 10:58:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:58:05 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:58:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:58:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 10:58:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 10:58:06 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 10:58:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:58:06 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:58:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 10:58:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=l9fgfgp3e0n 
[2025-05-29 10:58:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 10:58:11 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 10:58:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:58:11 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:58:11 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:58:11 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=g5kgpimoghh 
[2025-05-29 10:58:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:58:30 +08:00Z] [INFO] - SQL (parameterized): SELECT * FROM versions WHERE vid = ? -- Params: ["[object Object]"] 
[2025-05-29 10:58:30 +08:00Z] [ERROR] - [saveVersion] 当前文件的版本头指向的版本未找到，fileid: LOIfZVAaVq4iofBQTSUer, currenthead: [object Object] 
[2025-05-29 10:58:30 +08:00Z] [WARN] - [saveVersion] 未找到currenthead [object Object] 的版本信息，将创建新版本 
[2025-05-29 10:58:30 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, content, lasteditor) VALUES(?, ?, ?, ?) -- Params: ["aXos4ve1aBsgYBkADlb8v","LOIfZVAaVq4iofBQTSUer","{\"version\":\"0.9.49\",\"width\":794,\"height\":1123,\"margins\":[100,120,100,120],\"watermark\":{\"data\":\"CANVAS-EDITOR\",\"color\":\"#AEB5C0\",\"opacity\":0.3,\"size\":120,\"font\":\"Yahei\"},\"data\":{\"header\":[],\"main\":[{\"value\":\"44444241412\"}],\"footer\":[]}}","1"] 
[2025-05-29 10:58:30 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='aXos4ve1aBsgYBkADlb8v' WHERE fileid='LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 10:58:30 +08:00Z] [DEBUG] - [status] 200 [msg] 文件更新成功 
[2025-05-29 10:58:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=764og3kcxi 
[2025-05-29 10:58:33 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=l9fgfgp3e0n 
[2025-05-29 10:58:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=athxri8d7de 
[2025-05-29 10:58:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=owha434vexk 
[2025-05-29 10:58:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=vi5qpa47frq 
[2025-05-29 10:58:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=tycyksng4en 
[2025-05-29 10:58:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=feaslz1pzxc 
[2025-05-29 10:58:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 10:58:34 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 10:58:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:58:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:58:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 10:58:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=7grv8k8r326 
[2025-05-29 10:58:44 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=g5kgpimoghh 
[2025-05-29 10:58:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:58:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=fkjgzo2xwz 
[2025-05-29 10:59:03 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=7grv8k8r326 
[2025-05-29 10:59:03 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:59:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:59:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 10:59:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:59:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:59:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 10:59:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 10:59:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:59:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=z138wcevxi 
[2025-05-29 10:59:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 10:59:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 10:59:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:59:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:59:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 10:59:04 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:59:08 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 10:59:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 10:59:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 10:59:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:59:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 10:59:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'yhU36sjulZn2TVenpAJCl' 
[2025-05-29 10:59:09 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 10:59:09 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/yhU36sjulZn2TVenpAJCl 
[2025-05-29 10:59:09 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=yhU36sjulZn2TVenpAJCl, wid=qzolkgv2o3 
[2025-05-29 10:59:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl?file_id=yhU36sjulZn2TVenpAJCl&filename=456&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T14:17:50.000Z&readOnly=false' AND OWNER ='4' 
[2025-05-29 10:59:09 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["yhU36sjulZn2TVenpAJCl"] 
[2025-05-29 10:59:09 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:59:09 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:59:09 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='yhU36sjulZn2TVenpAJCl' AND files.currenthead=versions.vid 
[2025-05-29 10:59:09 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 10:59:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=fkjgzo2xwz 
[2025-05-29 10:59:17 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 10:59:17 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=d2n2ki00hwe 
[2025-05-29 10:59:18 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=d2n2ki00hwe 
[2025-05-29 10:59:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 10:59:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 10:59:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 10:59:21 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/yhU36sjulZn2TVenpAJCl 
[2025-05-29 10:59:21 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=yhU36sjulZn2TVenpAJCl, wid=nntqspikbg 
[2025-05-29 10:59:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 10:59:21 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["yhU36sjulZn2TVenpAJCl"] 
[2025-05-29 10:59:21 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 10:59:21 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 10:59:34 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=z138wcevxi 
[2025-05-29 10:59:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 10:59:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=awj5bicrwj5 
[2025-05-29 11:00:03 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:00:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:00:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:00:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:00:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:00:07 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=awj5bicrwj5 
[2025-05-29 11:00:07 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:00:07 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=e5comw134ka 
[2025-05-29 11:00:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'yhU36sjulZn2TVenpAJCl' 
[2025-05-29 11:00:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:00:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/yhU36sjulZn2TVenpAJCl 
[2025-05-29 11:00:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=yhU36sjulZn2TVenpAJCl, wid=z3v2sd2ofq8 
[2025-05-29 11:00:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl?file_id=yhU36sjulZn2TVenpAJCl&filename=456&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T14:17:50.000Z&readOnly=false' AND OWNER ='4' 
[2025-05-29 11:00:25 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["yhU36sjulZn2TVenpAJCl"] 
[2025-05-29 11:00:25 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:00:25 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:00:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:00:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:00:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:00:37 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=e5comw134ka 
[2025-05-29 11:00:38 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:00:38 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=qs5k5qpdrus 
[2025-05-29 11:00:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 11:00:41 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:00:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:00:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:00:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:00:42 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:00:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:00:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:00:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:00:42 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:00:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 11:00:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:00:43 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 11:00:43 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 11:00:43 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:00:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:00:43 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 11:00:43 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=rq66k3jx1zc 
[2025-05-29 11:00:46 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:00:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:00:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:00:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:00:46 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:00:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 11:00:54 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:00:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:00:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:00:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:00:55 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-05-29 11:00:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:00:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:00:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:00:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:00:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 11:00:57 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 11:00:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:00:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:00:57 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer 
[2025-05-29 11:00:57 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer, wid=bcrdxj7mim 
[2025-05-29 11:01:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=yhU36sjulZn2TVenpAJCl, wid=nntqspikbg 
[2025-05-29 11:01:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=rq66k3jx1zc 
[2025-05-29 11:01:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=yhU36sjulZn2TVenpAJCl, wid=qzolkgv2o3 
[2025-05-29 11:01:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer, wid=bcrdxj7mim 
[2025-05-29 11:01:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=yhU36sjulZn2TVenpAJCl, wid=z3v2sd2ofq8 
[2025-05-29 11:01:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=qs5k5qpdrus 
[2025-05-29 11:01:24 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 11:01:25 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 11:01:25 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 11:01:25 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 11:01:25 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 11:06:50 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 11:06:51 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 11:06:51 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 11:06:51 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 11:06:51 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 11:07:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-05-29 11:07:08 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:07:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:07:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:07:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:07:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='299' AND filetype='word' AND filesuffix='docx' AND owner='1' 
[2025-05-29 11:07:15 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('8TOctpQl8Eq693XpPJmm-','299','word','docx','1') 
[2025-05-29 11:07:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 11:07:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:07:16 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:07:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 11:07:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-05-29 11:07:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:07:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:07:19 +08:00Z] [INFO] - SQL (direct): INSERT INTO file_permissions(user_id, file_owner_id,file_id, permission_type) 
         VALUES('4', '1','8TOctpQl8Eq693XpPJmm-', 'read') 
[2025-05-29 11:07:19 +08:00Z] [DEBUG] - [status] 200 [msg] 权限设置成功 
[2025-05-29 11:07:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-05-29 11:07:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:07:19 +08:00Z] [INFO] - SQL (direct): INSERT INTO messages(message_id,sender_id,recipient_id,file_id,title,content,created_at,is_read,type) 
                VALUES('zGP15mdMuJoGSZuIsCCY9','1','4',
                       '8TOctpQl8Eq693XpPJmm-','文件共享邀请提醒','用户_31tpy邀请您以read身份一同编辑文件299.word, 如您接受邀请，请点击右上角接受按钮，反之，请点击拒绝按钮。','2025-05-29 15:07:19.913',0,'invite') 
[2025-05-29 11:07:19 +08:00Z] [DEBUG] - [status] 200 [msg] 消息创建成功 
[2025-05-29 11:07:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 11:07:26 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:07:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:07:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:07:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:07:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:07:28 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:07:33 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions SET acceptance=1 WHERE user_id='4' AND file_id='8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:07:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-05-29 11:07:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:07:33 +08:00Z] [INFO] - SQL (direct): INSERT INTO messages(message_id,sender_id,recipient_id,title,content,created_at,is_read,type) 
                VALUES('rYfdRzIN3NMjDUT4f6OEb','4',
                       '1','邀请已接受','用户 用户_LeTpx 已接受文件 299.word 的编辑邀请','2025-05-29 15:07:33.920',0,'accept') 
[2025-05-29 11:07:33 +08:00Z] [DEBUG] - [status] 200 [msg] 已成功接受邀请 
[2025-05-29 11:07:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:07:33 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:07:35 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:07:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:07:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:07:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:07:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:07:35 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:07:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:07:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:07:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:07:36 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:07:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:07:36 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:07:36 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:07:36 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=sjwj9klvj8l 
[2025-05-29 11:08:06 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=sjwj9klvj8l 
[2025-05-29 11:11:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 11:11:53 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:11:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:11:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:11:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:11:55 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:11:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:11:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:11:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:11:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:11:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:12:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:12:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:12:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:12:02 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:12:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:12:02 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:12:02 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:12:02 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=u4s2brf835 
[2025-05-29 11:12:04 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=u4s2brf835 
[2025-05-29 11:12:05 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:12:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:12:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:12:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:12:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:12:05 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:12:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:12:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:12:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:12:29 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:12:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:12:29 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:12:29 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:12:29 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=kuop7fb8kog 
[2025-05-29 11:12:50 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=kuop7fb8kog 
[2025-05-29 11:12:51 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:12:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:12:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:12:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:12:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:12:51 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:12:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 11:12:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:12:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:12:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=zvjt8rlkgit 
[2025-05-29 11:12:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:12:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 11:12:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:12:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:12:52 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 11:12:52 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:13:15 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:13:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:13:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:13:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:13:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:13:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:13:25 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=zvjt8rlkgit 
[2025-05-29 11:13:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:13:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=024ds9m9c631 
[2025-05-29 11:13:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:13:33 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:13:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:13:33 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:13:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:13:33 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:13:33 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:13:33 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=w07hfr4tbxs 
[2025-05-29 11:13:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=024ds9m9c631 
[2025-05-29 11:13:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:13:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=w98377igov 
[2025-05-29 11:14:03 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=w07hfr4tbxs 
[2025-05-29 11:14:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:14:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=6azjmkdhymd 
[2025-05-29 11:14:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=w98377igov 
[2025-05-29 11:14:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:14:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=sndw09r52ed 
[2025-05-29 11:14:36 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=6azjmkdhymd 
[2025-05-29 11:14:37 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:14:37 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=4faznkqtgxu 
[2025-05-29 11:15:07 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=sndw09r52ed 
[2025-05-29 11:15:07 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:15:07 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=9xs73gsvbgr 
[2025-05-29 11:15:09 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=4faznkqtgxu 
[2025-05-29 11:15:09 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:15:09 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=ic3w9qqdey 
[2025-05-29 11:15:10 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=ic3w9qqdey 
[2025-05-29 11:15:10 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:15:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:15:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:15:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:15:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:15:10 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:15:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:15:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:15:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:15:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:15:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:15:14 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:15:14 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:15:14 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=93j9o5ozhdu 
[2025-05-29 11:15:18 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=93j9o5ozhdu 
[2025-05-29 11:15:18 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:15:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:15:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:15:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:15:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:15:18 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:15:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:15:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:15:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:15:23 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:15:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:15:23 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:15:23 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:15:23 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=sfao6s98f6 
[2025-05-29 11:15:40 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=9xs73gsvbgr 
[2025-05-29 11:15:40 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:15:40 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=q9rtatak5ar 
[2025-05-29 11:15:54 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=sfao6s98f6 
[2025-05-29 11:15:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:15:55 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=p29ces5tiet 
[2025-05-29 11:15:56 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=p29ces5tiet 
[2025-05-29 11:15:56 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:15:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:15:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:15:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:15:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:15:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:15:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:15:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:15:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:15:58 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:15:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:15:58 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:15:58 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:15:59 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=9h3gnd2visd 
[2025-05-29 11:16:05 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=9h3gnd2visd 
[2025-05-29 11:16:05 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:16:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:16:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:16:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:16:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:16:05 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:16:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 11:16:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:16:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 11:16:06 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 11:16:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:16:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:16:06 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 11:16:06 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=z71a2jehqm 
[2025-05-29 11:16:13 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=q9rtatak5ar 
[2025-05-29 11:16:13 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:16:13 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=5mjrdutb39p 
[2025-05-29 11:16:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=z71a2jehqm 
[2025-05-29 11:16:21 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:16:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:16:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:16:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:16:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:16:21 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:16:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 11:16:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:16:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 11:16:41 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 11:16:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:16:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:16:41 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 11:16:41 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=k89isq9rec9 
[2025-05-29 11:16:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=k89isq9rec9 
[2025-05-29 11:16:43 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:16:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:16:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:16:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:16:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:16:43 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:16:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=5mjrdutb39p 
[2025-05-29 11:16:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:16:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=fglydbzzmo 
[2025-05-29 11:16:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 11:16:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:16:47 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 11:16:47 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 11:16:47 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:16:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:16:47 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 11:16:47 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=83sohyq0w3r 
[2025-05-29 11:16:49 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=83sohyq0w3r 
[2025-05-29 11:16:49 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:16:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:16:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:16:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:16:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:16:49 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:17:19 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=fglydbzzmo 
[2025-05-29 11:17:19 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:17:19 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=fwusdywjdhj 
[2025-05-29 11:17:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=fwusdywjdhj 
[2025-05-29 11:17:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:17:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=lz9bz052nrg 
[2025-05-29 11:18:25 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=lz9bz052nrg 
[2025-05-29 11:18:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:18:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=mz2ieukf92q 
[2025-05-29 11:18:58 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=mz2ieukf92q 
[2025-05-29 11:18:58 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:18:58 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=zj378embj9 
[2025-05-29 11:19:31 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=zj378embj9 
[2025-05-29 11:19:31 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:19:31 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=srpb14wolse 
[2025-05-29 11:20:04 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=srpb14wolse 
[2025-05-29 11:20:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:20:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=q6dazv6lkkh 
[2025-05-29 11:20:37 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=q6dazv6lkkh 
[2025-05-29 11:20:37 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:20:37 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=34m8ahyyi3d 
[2025-05-29 11:21:10 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=34m8ahyyi3d 
[2025-05-29 11:21:10 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:21:10 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=nci26y8vlif 
[2025-05-29 11:21:43 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=nci26y8vlif 
[2025-05-29 11:21:43 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:21:43 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=hol8vrr0l5h 
[2025-05-29 11:22:16 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=hol8vrr0l5h 
[2025-05-29 11:22:16 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:22:16 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=9wtopcadcp4 
[2025-05-29 11:22:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=9wtopcadcp4 
[2025-05-29 11:22:47 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:22:47 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=1auxqgqascz 
[2025-05-29 11:23:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 11:23:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:23:07 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:23:07 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=gc4rxpjve0d 
[2025-05-29 11:23:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:23:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 11:23:07 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:23:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:23:07 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 11:23:07 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:23:31 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:23:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:23:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:23:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:23:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:23:31 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:23:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:23:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:23:33 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:23:34 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:23:34 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=tr0bnsiqh2 
[2025-05-29 11:23:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:23:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 11:23:34 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:23:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:23:35 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 11:23:35 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:23:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:23:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:23:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:23:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE state=1 AND  filename='2025-软件工程课程设计报告' AND filetype='word' AND filesuffix='docx' AND owner='4' 
[2025-05-29 11:23:59 +08:00Z] [INFO] - SQL (direct): INSERT INTO files(fileid,filename,filetype,filesuffix,owner) 
         VALUES('xKEncXC-NEh_9NimPALmV','2025-软件工程课程设计报告','word','docx','4') 
[2025-05-29 11:23:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件创建成功 
[2025-05-29 11:24:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:24:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:24:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["xKEncXC-NEh_9NimPALmV"] 
[2025-05-29 11:24:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='xKEncXC-NEh_9NimPALmV' AND files.currenthead=versions.vid 
[2025-05-29 11:24:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:24:04 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:24:04 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/xKEncXC-NEh_9NimPALmV 
[2025-05-29 11:24:04 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=xKEncXC-NEh_9NimPALmV, wid=gztyi95gjpg 
[2025-05-29 11:24:07 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=xKEncXC-NEh_9NimPALmV, wid=gztyi95gjpg 
[2025-05-29 11:24:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:24:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:24:08 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=tr0bnsiqh2 
[2025-05-29 11:24:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:08 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:24:08 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=oo2filtm08 
[2025-05-29 11:24:09 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:24:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:24:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:24:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:24:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:24:09 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:24:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:24:19 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:24:23 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 11:24:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:24:24 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:24:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='2 ORDER BY filetype' 
[2025-05-29 11:24:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=2 AND ISNULL(parentfolderid) 
[2025-05-29 11:24:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:24:27 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:24:29 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:24:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:24:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:24:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:24:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:24:29 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:24:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:24:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:24:31 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:24:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:24:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:37 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:24:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:24:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:24:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:24:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:24:38 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:24:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:24:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:24:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:40 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=oo2filtm08 
[2025-05-29 11:24:40 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:24:40 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=542u2ak9t0d 
[2025-05-29 11:24:42 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 11:24:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:24:44 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:24:47 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='4' AND fl.fileid=fs.fileid 
[2025-05-29 11:24:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:24:48 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:24:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:24:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:24:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:24:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:24:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:24:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:24:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:24:49 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:24:49 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:24:49 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:24:49 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:24:49 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:24:49 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=zegv0itx62 
[2025-05-29 11:24:51 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=zegv0itx62 
[2025-05-29 11:24:52 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:24:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:24:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:24:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:24:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:24:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:24:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8TOctpQl8Eq693XpPJmm-' 
[2025-05-29 11:24:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:24:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8TOctpQl8Eq693XpPJmm-"] 
[2025-05-29 11:24:54 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8TOctpQl8Eq693XpPJmm-' AND files.currenthead=versions.vid 
[2025-05-29 11:24:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:24:54 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:24:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/8TOctpQl8Eq693XpPJmm-?readOnly=true 
[2025-05-29 11:24:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=42nq4m1q9ca 
[2025-05-29 11:24:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=8TOctpQl8Eq693XpPJmm-?readOnly=true, wid=42nq4m1q9ca 
[2025-05-29 11:24:56 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:24:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:24:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:24:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:24:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:24:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:24:57 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=gc4rxpjve0d 
[2025-05-29 11:24:57 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=542u2ak9t0d 
[2025-05-29 11:24:57 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=1auxqgqascz 
[2025-05-29 11:26:06 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-05-29 11:26:08 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-05-29 11:26:08 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-05-29 11:26:08 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-05-29 11:26:08 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-05-29 11:26:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 11:26:59 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:27:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:27:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:27:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:27:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["xKEncXC-NEh_9NimPALmV"] 
[2025-05-29 11:27:02 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='xKEncXC-NEh_9NimPALmV' AND files.currenthead=versions.vid 
[2025-05-29 11:27:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:27:02 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:27:02 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/xKEncXC-NEh_9NimPALmV 
[2025-05-29 11:27:02 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=xKEncXC-NEh_9NimPALmV, wid=8332kbqsp9n 
[2025-05-29 11:27:33 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=xKEncXC-NEh_9NimPALmV, wid=8332kbqsp9n 
[2025-05-29 11:27:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/xKEncXC-NEh_9NimPALmV 
[2025-05-29 11:27:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=xKEncXC-NEh_9NimPALmV, wid=7d10fchtaqe 
[2025-05-29 11:28:06 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=xKEncXC-NEh_9NimPALmV, wid=7d10fchtaqe 
[2025-05-29 11:28:07 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/xKEncXC-NEh_9NimPALmV 
[2025-05-29 11:28:07 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=xKEncXC-NEh_9NimPALmV, wid=yl5x347jyje 
[2025-05-29 11:28:52 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=xKEncXC-NEh_9NimPALmV, wid=yl5x347jyje 
[2025-05-29 11:28:53 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/xKEncXC-NEh_9NimPALmV 
[2025-05-29 11:28:53 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=xKEncXC-NEh_9NimPALmV, wid=i81x0sbtfjh 
[2025-05-29 11:29:52 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=xKEncXC-NEh_9NimPALmV, wid=i81x0sbtfjh 
[2025-05-29 11:29:53 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/xKEncXC-NEh_9NimPALmV 
[2025-05-29 11:29:53 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=xKEncXC-NEh_9NimPALmV, wid=129ufp2c3c9n 
[2025-05-29 11:30:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=xKEncXC-NEh_9NimPALmV, wid=129ufp2c3c9n 
[2025-05-29 11:30:44 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/xKEncXC-NEh_9NimPALmV 
[2025-05-29 11:30:44 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=xKEncXC-NEh_9NimPALmV, wid=una76bh2d8c 
[2025-05-29 11:30:52 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=xKEncXC-NEh_9NimPALmV, wid=una76bh2d8c 
[2025-05-29 11:30:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:30:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:30:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:30:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:30:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:31:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:31:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 11:31:03 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:31:03 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=08y2nh2pytm 
[2025-05-29 11:31:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:31:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:31:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 11:31:03 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:31:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:31:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:31:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=08y2nh2pytm 
[2025-05-29 11:31:34 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:31:34 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=0eubv7436zhb 
[2025-05-29 11:31:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:31:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:31:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:31:43 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 11:31:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='xKEncXC-NEh_9NimPALmV' AND OWNER ='4' 
[2025-05-29 11:31:45 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:32:06 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=0eubv7436zhb 
[2025-05-29 11:32:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:32:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=u6us94ydhul 
[2025-05-29 11:32:39 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=u6us94ydhul 
[2025-05-29 11:32:39 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:32:39 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=c2jthuy59rv 
[2025-05-29 11:32:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:32:43 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:32:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:32:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:32:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:32:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:32:52 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:32:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:32:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:32:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:32:55 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-05-29 11:32:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:32:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:33:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:33:03 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:33:04 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:33:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:33:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:33:09 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=c2jthuy59rv 
[2025-05-29 11:33:10 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:33:10 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=cgvwx6s6pxv 
[2025-05-29 11:33:42 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=cgvwx6s6pxv 
[2025-05-29 11:33:43 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:33:43 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=n2prta5a77j 
[2025-05-29 11:33:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 11:33:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:33:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:33:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=zt2rhccsuw 
[2025-05-29 11:33:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:33:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 11:33:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:33:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:33:56 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 11:33:56 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:34:08 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:34:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:34:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:34:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:34:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:34:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:34:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 11:34:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:34:10 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:34:10 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=e1veaj1v2vn 
[2025-05-29 11:34:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:34:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 11:34:10 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:34:10 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:34:10 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 11:34:10 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:34:15 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=n2prta5a77j 
[2025-05-29 11:34:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:34:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=t89el1qt0u 
[2025-05-29 11:34:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:34:16 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:34:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:34:18 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:34:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:34:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:34:25 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:34:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:34:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:34:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:34:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:34:25 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:34:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:34:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:34:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:34:27 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:34:27 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=e0j7nitqxr6 
[2025-05-29 11:34:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:34:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 11:34:27 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:34:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:34:27 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 11:34:27 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:34:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:34:28 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:35:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=e1veaj1v2vn 
[2025-05-29 11:35:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=zt2rhccsuw 
[2025-05-29 11:35:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=t89el1qt0u 
[2025-05-29 11:35:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=e0j7nitqxr6 
[2025-05-29 11:37:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-05-29 11:37:35 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-05-29 11:37:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:37:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:37:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:37:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:37:37 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:37:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:37:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:37:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:37:40 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:37:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:37:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:37:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:37:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:37:40 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:37:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:37:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:37:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:38:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:38:18 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:38:23 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:38:23 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=m70ml2hkjh 
[2025-05-29 11:38:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:38:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 11:38:23 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 11:38:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:38:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:38:23 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:38:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:38:24 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:38:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=qS8v92fafRsxoATt5gVv6, wid=m70ml2hkjh 
[2025-05-29 11:38:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:38:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=3ga7ndmrm5j 
[2025-05-29 11:39:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:39:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:39:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:39:18 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:39:18 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=i0x2jozj4q 
[2025-05-29 11:39:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:39:18 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 11:39:18 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:39:18 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:39:18 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 11:39:18 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:39:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:39:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:39:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:39:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:39:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:39:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:39:38 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:39:48 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:39:48 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=vde84hzstt 
[2025-05-29 11:39:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:39:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 11:39:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 11:39:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:39:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:39:48 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:39:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:39:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:39:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:39:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:39:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:40:00 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:40:00 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=9nkuhk4clyo 
[2025-05-29 11:40:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:40:00 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 11:40:00 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:40:00 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 11:40:00 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:40:00 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:40:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:40:01 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:41:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:41:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:41:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:41:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM messages WHERE recipient_id='4' 
[2025-05-29 11:41:07 +08:00Z] [DEBUG] - [status] 200 [msg] 消息列表获取成功 
[2025-05-29 11:41:12 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:41:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:41:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:41:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:41:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:41:12 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:41:39 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:41:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:41:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:41:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:41:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:41:39 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:41:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 11:41:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:41:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 11:41:44 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 11:41:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:41:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:41:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 11:41:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=fahn25kx6qk 
[2025-05-29 11:41:48 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=fahn25kx6qk 
[2025-05-29 11:41:49 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:41:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:41:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:41:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:41:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:41:49 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:41:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 11:41:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:41:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 11:41:53 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 11:41:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:41:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:41:53 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 11:41:53 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=wd2mkxfvszm 
[2025-05-29 11:41:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer?readOnly=false' AND OWNER ='4' 
[2025-05-29 11:41:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:42:01 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=wd2mkxfvszm 
[2025-05-29 11:42:02 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:42:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:42:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:42:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:42:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:42:02 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:43:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 11:43:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:43:07 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:43:07 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=afmht8eoqqe 
[2025-05-29 11:43:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:43:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 11:43:07 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:43:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:43:07 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 11:43:07 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:43:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:43:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:43:12 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:43:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:43:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:43:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:43:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:43:12 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:43:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:43:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:43:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:43:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/qS8v92fafRsxoATt5gVv6 
[2025-05-29 11:43:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=qS8v92fafRsxoATt5gVv6, wid=teimyo5k1g 
[2025-05-29 11:43:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:43:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["qS8v92fafRsxoATt5gVv6"] 
[2025-05-29 11:43:14 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:43:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='qS8v92fafRsxoATt5gVv6' AND files.currenthead=versions.vid 
[2025-05-29 11:43:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:43:14 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:43:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:43:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:43:40 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=afmht8eoqqe 
[2025-05-29 11:43:40 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:43:40 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=7x1f6eno9tc 
[2025-05-29 11:43:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:43:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:43:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:44:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-05-29 11:44:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-05-29 11:44:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:44:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='qS8v92fafRsxoATt5gVv6' AND OWNER ='4' 
[2025-05-29 11:44:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:44:13 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=7x1f6eno9tc 
[2025-05-29 11:44:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:44:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=p3teemh1eu8 
[2025-05-29 11:44:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=p3teemh1eu8 
[2025-05-29 11:44:47 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:44:47 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=w948bq2o7c 
[2025-05-29 11:45:14 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:45:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:45:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:45:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:45:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:45:14 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:45:19 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=w948bq2o7c 
[2025-05-29 11:45:19 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:45:19 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=1ss8ro3nh01 
[2025-05-29 11:45:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 11:45:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:45:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:45:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=ftcnyhhq7zf 
[2025-05-29 11:45:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:45:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 11:45:35 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:45:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:45:35 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 11:45:35 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-05-29 11:45:41 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:45:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:45:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:45:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:45:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:45:41 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:46:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = 'LOIfZVAaVq4iofBQTSUer' 
[2025-05-29 11:46:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:46:15 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["LOIfZVAaVq4iofBQTSUer"] 
[2025-05-29 11:46:15 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='LOIfZVAaVq4iofBQTSUer' AND files.currenthead=versions.vid 
[2025-05-29 11:46:15 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:46:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-05-29 11:46:15 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/LOIfZVAaVq4iofBQTSUer?readOnly=false 
[2025-05-29 11:46:15 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=kmockrxgbp 
[2025-05-29 11:46:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=LOIfZVAaVq4iofBQTSUer?readOnly=false, wid=kmockrxgbp 
[2025-05-29 11:46:20 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-05-29 11:46:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf' AND OWNER ='1' 
[2025-05-29 11:46:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8TOctpQl8Eq693XpPJmm-' AND OWNER ='1' 
[2025-05-29 11:46:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='LOIfZVAaVq4iofBQTSUer' AND OWNER ='1' 
[2025-05-29 11:46:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='yhU36sjulZn2TVenpAJCl' AND OWNER ='1' 
[2025-05-29 11:46:20 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-05-29 11:46:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '4' AND file_id = '8Fb2xlpIsY-Riic_TLbQf' 
[2025-05-29 11:46:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-05-29 11:46:22 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/8Fb2xlpIsY-Riic_TLbQf 
[2025-05-29 11:46:22 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=8Fb2xlpIsY-Riic_TLbQf, wid=kh8cx8pf9qg 
[2025-05-29 11:46:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='8Fb2xlpIsY-Riic_TLbQf?file_id=8Fb2xlpIsY-Riic_TLbQf&filename=123&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-05-29T13:25:22.000Z&readOnly=true' AND OWNER ='4' 
[2025-05-29 11:46:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["8Fb2xlpIsY-Riic_TLbQf"] 
[2025-05-29 11:46:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-05-29 11:46:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-05-29 11:46:22 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='8Fb2xlpIsY-Riic_TLbQf' AND files.currenthead=versions.vid 
[2025-05-29 11:46:22 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
